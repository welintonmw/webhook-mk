"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.combineScopes = void 0;
function combineScopes(userScopes, masks) {
    const maskedScopes = Object.fromEntries(Object.entries(userScopes).map((e) => [e[0], [...e[1]]]));
    if (masks === null || masks === void 0 ? void 0 : masks.sharing) {
        if ('project' in maskedScopes) {
            maskedScopes.project = maskedScopes.project.filter((v) => masks.sharing.includes(v));
        }
        if ('resource' in maskedScopes) {
            maskedScopes.resource = maskedScopes.resource.filter((v) => masks.sharing.includes(v));
        }
    }
    return new Set(Object.values(maskedScopes).flat());
}
exports.combineScopes = combineScopes;
//# sourceMappingURL=combineScopes.js.map