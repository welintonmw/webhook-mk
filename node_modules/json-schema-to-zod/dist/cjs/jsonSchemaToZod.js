"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.jsonSchemaToZod = void 0;
const parseSchema_js_1 = require("./parsers/parseSchema.js");
const jsonSchemaToZod = (schema, { module, name, ...rest } = {}) => {
    let result = (0, parseSchema_js_1.parseSchema)(schema, {
        module,
        name,
        path: [],
        seen: new Map(),
        ...rest,
    });
    if (module === "cjs") {
        result = `const { z } = require("zod")

module.exports = ${name ? `{ ${JSON.stringify(name)}: ${result} }` : result}
`;
    }
    else if (module === "esm") {
        result = `import { z } from "zod"

export ${name ? `const ${name} =` : `default`} ${result}
`;
    }
    else if (name) {
        result = `const ${name} = ${result}`;
    }
    return result;
};
exports.jsonSchemaToZod = jsonSchemaToZod;
