{"version":3,"file":"WorkflowsView-DVeAZ2zW.js","sources":["../../src/components/WorkflowCard.vue","../../src/views/WorkflowsView.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { computed } from 'vue';\nimport type { IWorkflowDb, IUser } from '@/Interface';\nimport {\n\tDUPLICATE_MODAL_KEY,\n\tMODAL_CONFIRM,\n\tPROJECT_MOVE_RESOURCE_MODAL,\n\tVIEWS,\n\tWORKFLOW_SHARE_MODAL_KEY,\n} from '@/constants';\nimport { useMessage } from '@/composables/useMessage';\nimport { useToast } from '@/composables/useToast';\nimport { getWorkflowPermissions } from '@/permissions';\nimport dateformat from 'dateformat';\nimport WorkflowActivator from '@/components/WorkflowActivator.vue';\nimport { useUIStore } from '@/stores/ui.store';\nimport { useSettingsStore } from '@/stores/settings.store';\nimport { useUsersStore } from '@/stores/users.store';\nimport { useWorkflowsStore } from '@/stores/workflows.store';\nimport TimeAgo from '@/components/TimeAgo.vue';\nimport type { ProjectSharingData } from '@/types/projects.types';\nimport { useProjectsStore } from '@/stores/projects.store';\nimport ProjectCardBadge from '@/components/Projects/ProjectCardBadge.vue';\nimport { useI18n } from '@/composables/useI18n';\nimport { useRouter } from 'vue-router';\nimport { useTelemetry } from '@/composables/useTelemetry';\n\nconst WORKFLOW_LIST_ITEM_ACTIONS = {\n\tOPEN: 'open',\n\tSHARE: 'share',\n\tDUPLICATE: 'duplicate',\n\tDELETE: 'delete',\n\tMOVE: 'move',\n};\n\nconst props = withDefaults(\n\tdefineProps<{\n\t\tdata: IWorkflowDb;\n\t\treadOnly?: boolean;\n\t}>(),\n\t{\n\t\tdata: () => ({\n\t\t\tid: '',\n\t\t\tcreatedAt: '',\n\t\t\tupdatedAt: '',\n\t\t\tactive: false,\n\t\t\tconnections: {},\n\t\t\tnodes: [],\n\t\t\tname: '',\n\t\t\tsharedWithProjects: [],\n\t\t\thomeProject: {} as ProjectSharingData,\n\t\t\tversionId: '',\n\t\t}),\n\t\treadOnly: false,\n\t},\n);\n\nconst emit = defineEmits<{\n\t(event: 'expand:tags'): void;\n\t(event: 'click:tag', tagId: string, e: PointerEvent): void;\n}>();\n\nconst toast = useToast();\nconst message = useMessage();\nconst locale = useI18n();\nconst router = useRouter();\nconst telemetry = useTelemetry();\n\nconst settingsStore = useSettingsStore();\nconst uiStore = useUIStore();\nconst usersStore = useUsersStore();\nconst workflowsStore = useWorkflowsStore();\nconst projectsStore = useProjectsStore();\n\nconst currentUser = computed(() => usersStore.currentUser ?? ({} as IUser));\nconst workflowPermissions = computed(() => getWorkflowPermissions(props.data));\nconst actions = computed(() => {\n\tconst items = [\n\t\t{\n\t\t\tlabel: locale.baseText('workflows.item.open'),\n\t\t\tvalue: WORKFLOW_LIST_ITEM_ACTIONS.OPEN,\n\t\t},\n\t\t{\n\t\t\tlabel: locale.baseText('workflows.item.share'),\n\t\t\tvalue: WORKFLOW_LIST_ITEM_ACTIONS.SHARE,\n\t\t},\n\t];\n\n\tif (!props.readOnly) {\n\t\titems.push({\n\t\t\tlabel: locale.baseText('workflows.item.duplicate'),\n\t\t\tvalue: WORKFLOW_LIST_ITEM_ACTIONS.DUPLICATE,\n\t\t});\n\t}\n\n\tif (workflowPermissions.value.move) {\n\t\titems.push({\n\t\t\tlabel: locale.baseText('workflows.item.move'),\n\t\t\tvalue: WORKFLOW_LIST_ITEM_ACTIONS.MOVE,\n\t\t});\n\t}\n\n\tif (workflowPermissions.value.delete && !props.readOnly) {\n\t\titems.push({\n\t\t\tlabel: locale.baseText('workflows.item.delete'),\n\t\t\tvalue: WORKFLOW_LIST_ITEM_ACTIONS.DELETE,\n\t\t});\n\t}\n\n\treturn items;\n});\nconst formattedCreatedAtDate = computed(() => {\n\tconst currentYear = new Date().getFullYear().toString();\n\n\treturn dateformat(\n\t\tprops.data.createdAt,\n\t\t`d mmmm${String(props.data.createdAt).startsWith(currentYear) ? '' : ', yyyy'}`,\n\t);\n});\n\nasync function onClick(event?: KeyboardEvent | PointerEvent) {\n\tif (event?.ctrlKey || event?.metaKey) {\n\t\tconst route = router.resolve({\n\t\t\tname: VIEWS.WORKFLOW,\n\t\t\tparams: { name: props.data.id },\n\t\t});\n\t\twindow.open(route.href, '_blank');\n\n\t\treturn;\n\t}\n\n\tawait router.push({\n\t\tname: VIEWS.WORKFLOW,\n\t\tparams: { name: props.data.id },\n\t});\n}\n\nfunction onClickTag(tagId: string, event: PointerEvent) {\n\tevent.stopPropagation();\n\temit('click:tag', tagId, event);\n}\n\nfunction onExpandTags() {\n\temit('expand:tags');\n}\n\nasync function onAction(action: string) {\n\tswitch (action) {\n\t\tcase WORKFLOW_LIST_ITEM_ACTIONS.OPEN:\n\t\t\tawait onClick();\n\t\t\tbreak;\n\t\tcase WORKFLOW_LIST_ITEM_ACTIONS.DUPLICATE:\n\t\t\tuiStore.openModalWithData({\n\t\t\t\tname: DUPLICATE_MODAL_KEY,\n\t\t\t\tdata: {\n\t\t\t\t\tid: props.data.id,\n\t\t\t\t\tname: props.data.name,\n\t\t\t\t\ttags: (props.data.tags ?? []).map((tag) =>\n\t\t\t\t\t\ttypeof tag !== 'string' && 'id' in tag ? tag.id : tag,\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t});\n\t\t\tbreak;\n\t\tcase WORKFLOW_LIST_ITEM_ACTIONS.SHARE:\n\t\t\tuiStore.openModalWithData({\n\t\t\t\tname: WORKFLOW_SHARE_MODAL_KEY,\n\t\t\t\tdata: { id: props.data.id },\n\t\t\t});\n\n\t\t\ttelemetry.track('User opened sharing modal', {\n\t\t\t\tworkflow_id: props.data.id,\n\t\t\t\tuser_id_sharer: currentUser.value.id,\n\t\t\t\tsub_view: 'Workflows listing',\n\t\t\t});\n\t\t\tbreak;\n\t\tcase WORKFLOW_LIST_ITEM_ACTIONS.DELETE:\n\t\t\tawait deleteWorkflow();\n\t\t\tbreak;\n\t\tcase WORKFLOW_LIST_ITEM_ACTIONS.MOVE:\n\t\t\tmoveResource();\n\t\t\tbreak;\n\t}\n}\n\nasync function deleteWorkflow() {\n\tconst deleteConfirmed = await message.confirm(\n\t\tlocale.baseText('mainSidebar.confirmMessage.workflowDelete.message', {\n\t\t\tinterpolate: { workflowName: props.data.name },\n\t\t}),\n\t\tlocale.baseText('mainSidebar.confirmMessage.workflowDelete.headline'),\n\t\t{\n\t\t\ttype: 'warning',\n\t\t\tconfirmButtonText: locale.baseText(\n\t\t\t\t'mainSidebar.confirmMessage.workflowDelete.confirmButtonText',\n\t\t\t),\n\t\t\tcancelButtonText: locale.baseText(\n\t\t\t\t'mainSidebar.confirmMessage.workflowDelete.cancelButtonText',\n\t\t\t),\n\t\t},\n\t);\n\n\tif (deleteConfirmed !== MODAL_CONFIRM) {\n\t\treturn;\n\t}\n\n\ttry {\n\t\tawait workflowsStore.deleteWorkflow(props.data.id);\n\t} catch (error) {\n\t\ttoast.showError(error, locale.baseText('generic.deleteWorkflowError'));\n\t\treturn;\n\t}\n\n\t// Reset tab title since workflow is deleted.\n\ttoast.showMessage({\n\t\ttitle: locale.baseText('mainSidebar.showMessage.handleSelect1.title'),\n\t\ttype: 'success',\n\t});\n}\n\nfunction moveResource() {\n\tuiStore.openModalWithData({\n\t\tname: PROJECT_MOVE_RESOURCE_MODAL,\n\t\tdata: {\n\t\t\tresource: props.data,\n\t\t\tresourceType: locale.baseText('generic.workflow').toLocaleLowerCase(),\n\t\t},\n\t});\n}\n</script>\n\n<template>\n\t<n8n-card :class=\"$style.cardLink\" @click=\"onClick\">\n\t\t<template #header>\n\t\t\t<n8n-heading tag=\"h2\" bold :class=\"$style.cardHeading\" data-test-id=\"workflow-card-name\">\n\t\t\t\t{{ data.name }}\n\t\t\t</n8n-heading>\n\t\t</template>\n\t\t<div :class=\"$style.cardDescription\">\n\t\t\t<n8n-text color=\"text-light\" size=\"small\">\n\t\t\t\t<span v-show=\"data\"\n\t\t\t\t\t>{{ $locale.baseText('workflows.item.updated') }}\n\t\t\t\t\t<TimeAgo :date=\"String(data.updatedAt)\" /> |\n\t\t\t\t</span>\n\t\t\t\t<span v-show=\"data\" class=\"mr-2xs\"\n\t\t\t\t\t>{{ $locale.baseText('workflows.item.created') }} {{ formattedCreatedAtDate }}\n\t\t\t\t</span>\n\t\t\t\t<span\n\t\t\t\t\tv-if=\"settingsStore.areTagsEnabled && data.tags && data.tags.length > 0\"\n\t\t\t\t\tv-show=\"data\"\n\t\t\t\t>\n\t\t\t\t\t<n8n-tags\n\t\t\t\t\t\t:tags=\"data.tags\"\n\t\t\t\t\t\t:truncate-at=\"3\"\n\t\t\t\t\t\ttruncate\n\t\t\t\t\t\tdata-test-id=\"workflow-card-tags\"\n\t\t\t\t\t\t@click:tag=\"onClickTag\"\n\t\t\t\t\t\t@expand=\"onExpandTags\"\n\t\t\t\t\t/>\n\t\t\t\t</span>\n\t\t\t</n8n-text>\n\t\t</div>\n\t\t<template #append>\n\t\t\t<div :class=\"$style.cardActions\" @click.stop>\n\t\t\t\t<ProjectCardBadge :resource=\"data\" :personal-project=\"projectsStore.personalProject\" />\n\t\t\t\t<WorkflowActivator\n\t\t\t\t\tclass=\"mr-s\"\n\t\t\t\t\t:workflow-active=\"data.active\"\n\t\t\t\t\t:workflow-id=\"data.id\"\n\t\t\t\t\tdata-test-id=\"workflow-card-activator\"\n\t\t\t\t/>\n\n\t\t\t\t<n8n-action-toggle\n\t\t\t\t\t:actions=\"actions\"\n\t\t\t\t\ttheme=\"dark\"\n\t\t\t\t\tdata-test-id=\"workflow-card-actions\"\n\t\t\t\t\t@action=\"onAction\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</template>\n\t</n8n-card>\n</template>\n\n<style lang=\"scss\" module>\n.cardLink {\n\ttransition: box-shadow 0.3s ease;\n\tcursor: pointer;\n\tpadding: 0;\n\talign-items: stretch;\n\n\t&:hover {\n\t\tbox-shadow: 0 2px 8px rgba(#441c17, 0.1);\n\t}\n}\n\n.cardHeading {\n\tfont-size: var(--font-size-s);\n\tword-break: break-word;\n\tpadding: var(--spacing-s) 0 0 var(--spacing-s);\n\n\tspan {\n\t\tcolor: var(--color-text-light);\n\t}\n}\n\n.cardDescription {\n\tmin-height: 19px;\n\tdisplay: flex;\n\talign-items: center;\n\tpadding: 0 0 var(--spacing-s) var(--spacing-s);\n}\n\n.cardActions {\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: center;\n\talign-items: center;\n\talign-self: stretch;\n\tpadding: 0 var(--spacing-s) 0 0;\n\tcursor: default;\n}\n</style>\n","<template>\n\t<ResourcesListLayout\n\t\tref=\"layout\"\n\t\tresource-key=\"workflows\"\n\t\t:resources=\"allWorkflows\"\n\t\t:filters=\"filters\"\n\t\t:additional-filters-handler=\"onFilter\"\n\t\t:type-props=\"{ itemSize: 80 }\"\n\t\t:shareable=\"isShareable\"\n\t\t:initialize=\"initialize\"\n\t\t:disabled=\"readOnlyEnv\"\n\t\t@click:add=\"addWorkflow\"\n\t\t@update:filters=\"onFiltersUpdated\"\n\t>\n\t\t<template #header>\n\t\t\t<ProjectTabs v-if=\"showProjectTabs\" />\n\t\t</template>\n\t\t<template #add-button=\"{ disabled }\">\n\t\t\t<n8n-tooltip :disabled=\"!readOnlyEnv\">\n\t\t\t\t<div>\n\t\t\t\t\t<n8n-button\n\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\tblock\n\t\t\t\t\t\t:disabled=\"disabled\"\n\t\t\t\t\t\tdata-test-id=\"resources-list-add\"\n\t\t\t\t\t\t@click=\"addWorkflow\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ addWorkflowButtonText }}\n\t\t\t\t\t</n8n-button>\n\t\t\t\t</div>\n\t\t\t\t<template #content>\n\t\t\t\t\t<i18n-t tag=\"span\" keypath=\"mainSidebar.workflows.readOnlyEnv.tooltip\">\n\t\t\t\t\t\t<template #link>\n\t\t\t\t\t\t\t<a target=\"_blank\" href=\"https://docs.n8n.io/source-control-environments/\">\n\t\t\t\t\t\t\t\t{{ $locale.baseText('mainSidebar.workflows.readOnlyEnv.tooltip.link') }}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</i18n-t>\n\t\t\t\t</template>\n\t\t\t</n8n-tooltip>\n\t\t</template>\n\t\t<template #default=\"{ data, updateItemSize }\">\n\t\t\t<WorkflowCard\n\t\t\t\tdata-test-id=\"resources-list-item\"\n\t\t\t\tclass=\"mb-2xs\"\n\t\t\t\t:data=\"data\"\n\t\t\t\t:read-only=\"readOnlyEnv\"\n\t\t\t\t@expand:tags=\"updateItemSize(data)\"\n\t\t\t\t@click:tag=\"onClickTag\"\n\t\t\t/>\n\t\t</template>\n\t\t<template #empty>\n\t\t\t<div class=\"text-center mt-s\">\n\t\t\t\t<n8n-heading tag=\"h2\" size=\"xlarge\" class=\"mb-2xs\">\n\t\t\t\t\t{{\n\t\t\t\t\t\tcurrentUser.firstName\n\t\t\t\t\t\t\t? $locale.baseText('workflows.empty.heading', {\n\t\t\t\t\t\t\t\t\tinterpolate: { name: currentUser.firstName },\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t: $locale.baseText('workflows.empty.heading.userNotSetup')\n\t\t\t\t\t}}\n\t\t\t\t</n8n-heading>\n\t\t\t\t<n8n-text size=\"large\" color=\"text-base\">\n\t\t\t\t\t{{\n\t\t\t\t\t\t$locale.baseText(\n\t\t\t\t\t\t\treadOnlyEnv\n\t\t\t\t\t\t\t\t? 'workflows.empty.description.readOnlyEnv'\n\t\t\t\t\t\t\t\t: 'workflows.empty.description',\n\t\t\t\t\t\t)\n\t\t\t\t\t}}\n\t\t\t\t</n8n-text>\n\t\t\t</div>\n\t\t\t<div v-if=\"!readOnlyEnv\" :class=\"['text-center', 'mt-2xl', $style.actionsContainer]\">\n\t\t\t\t<a\n\t\t\t\t\tv-if=\"isSalesUser\"\n\t\t\t\t\t:href=\"getTemplateRepositoryURL()\"\n\t\t\t\t\t:class=\"$style.emptyStateCard\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t>\n\t\t\t\t\t<n8n-card\n\t\t\t\t\t\thoverable\n\t\t\t\t\t\tdata-test-id=\"browse-sales-templates-card\"\n\t\t\t\t\t\t@click=\"trackCategoryLinkClick('Sales')\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<n8n-icon :class=\"$style.emptyStateCardIcon\" icon=\"box-open\" />\n\t\t\t\t\t\t<n8n-text size=\"large\" class=\"mt-xs\" color=\"text-base\">\n\t\t\t\t\t\t\t{{ $locale.baseText('workflows.empty.browseTemplates') }}\n\t\t\t\t\t\t</n8n-text>\n\t\t\t\t\t</n8n-card>\n\t\t\t\t</a>\n\t\t\t\t<n8n-card\n\t\t\t\t\t:class=\"$style.emptyStateCard\"\n\t\t\t\t\thoverable\n\t\t\t\t\tdata-test-id=\"new-workflow-card\"\n\t\t\t\t\t@click=\"addWorkflow\"\n\t\t\t\t>\n\t\t\t\t\t<n8n-icon :class=\"$style.emptyStateCardIcon\" icon=\"file\" />\n\t\t\t\t\t<n8n-text size=\"large\" class=\"mt-xs\" color=\"text-base\">\n\t\t\t\t\t\t{{ $locale.baseText('workflows.empty.startFromScratch') }}\n\t\t\t\t\t</n8n-text>\n\t\t\t\t</n8n-card>\n\t\t\t</div>\n\t\t</template>\n\t\t<template #filters=\"{ setKeyValue }\">\n\t\t\t<div v-if=\"settingsStore.areTagsEnabled\" class=\"mb-s\">\n\t\t\t\t<n8n-input-label\n\t\t\t\t\t:label=\"$locale.baseText('workflows.filters.tags')\"\n\t\t\t\t\t:bold=\"false\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tcolor=\"text-base\"\n\t\t\t\t\tclass=\"mb-3xs\"\n\t\t\t\t/>\n\t\t\t\t<TagsDropdown\n\t\t\t\t\t:placeholder=\"$locale.baseText('workflowOpen.filterWorkflows')\"\n\t\t\t\t\t:model-value=\"filters.tags\"\n\t\t\t\t\t:create-enabled=\"false\"\n\t\t\t\t\t@update:model-value=\"setKeyValue('tags', $event)\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div class=\"mb-s\">\n\t\t\t\t<n8n-input-label\n\t\t\t\t\t:label=\"$locale.baseText('workflows.filters.status')\"\n\t\t\t\t\t:bold=\"false\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tcolor=\"text-base\"\n\t\t\t\t\tclass=\"mb-3xs\"\n\t\t\t\t/>\n\t\t\t\t<n8n-select\n\t\t\t\t\tdata-test-id=\"status-dropdown\"\n\t\t\t\t\t:model-value=\"filters.status\"\n\t\t\t\t\t@update:model-value=\"setKeyValue('status', $event)\"\n\t\t\t\t>\n\t\t\t\t\t<n8n-option\n\t\t\t\t\t\tv-for=\"option in statusFilterOptions\"\n\t\t\t\t\t\t:key=\"option.label\"\n\t\t\t\t\t\t:label=\"option.label\"\n\t\t\t\t\t\t:value=\"option.value\"\n\t\t\t\t\t\tdata-test-id=\"status\"\n\t\t\t\t\t>\n\t\t\t\t\t</n8n-option>\n\t\t\t\t</n8n-select>\n\t\t\t</div>\n\t\t</template>\n\t</ResourcesListLayout>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\nimport ResourcesListLayout from '@/components/layouts/ResourcesListLayout.vue';\nimport WorkflowCard from '@/components/WorkflowCard.vue';\nimport { EnterpriseEditionFeature, VIEWS } from '@/constants';\nimport type { ITag, IUser, IWorkflowDb } from '@/Interface';\nimport TagsDropdown from '@/components/TagsDropdown.vue';\nimport { mapStores } from 'pinia';\nimport { useUIStore } from '@/stores/ui.store';\nimport { useSettingsStore } from '@/stores/settings.store';\nimport { useUsersStore } from '@/stores/users.store';\nimport { useWorkflowsStore } from '@/stores/workflows.store';\nimport { useSourceControlStore } from '@/stores/sourceControl.store';\nimport { useTagsStore } from '@/stores/tags.store';\nimport { useProjectsStore } from '@/stores/projects.store';\nimport ProjectTabs from '@/components/Projects/ProjectTabs.vue';\nimport { useTemplatesStore } from '@/stores/templates.store';\n\ntype IResourcesListLayoutInstance = InstanceType<typeof ResourcesListLayout>;\n\ninterface Filters {\n\tsearch: string;\n\thomeProject: string;\n\tstatus: string | boolean;\n\ttags: string[];\n}\n\nconst StatusFilter = {\n\tACTIVE: true,\n\tDEACTIVATED: false,\n\tALL: '',\n};\n\nconst WorkflowsView = defineComponent({\n\tname: 'WorkflowsView',\n\tcomponents: {\n\t\tResourcesListLayout,\n\t\tWorkflowCard,\n\t\tTagsDropdown,\n\t\tProjectTabs,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfilters: {\n\t\t\t\tsearch: '',\n\t\t\t\thomeProject: '',\n\t\t\t\tstatus: StatusFilter.ALL,\n\t\t\t\ttags: [],\n\t\t\t} as Filters,\n\t\t\tsourceControlStoreUnsubscribe: () => {},\n\t\t};\n\t},\n\tcomputed: {\n\t\t...mapStores(\n\t\t\tuseSettingsStore,\n\t\t\tuseUIStore,\n\t\t\tuseUsersStore,\n\t\t\tuseWorkflowsStore,\n\t\t\tuseSourceControlStore,\n\t\t\tuseTagsStore,\n\t\t\tuseProjectsStore,\n\t\t\tuseTemplatesStore,\n\t\t),\n\t\treadOnlyEnv(): boolean {\n\t\t\treturn this.sourceControlStore.preferences.branchReadOnly;\n\t\t},\n\t\tcurrentUser(): IUser {\n\t\t\treturn this.usersStore.currentUser || ({} as IUser);\n\t\t},\n\t\tallWorkflows(): IWorkflowDb[] {\n\t\t\treturn this.workflowsStore.allWorkflows;\n\t\t},\n\t\tisShareable(): boolean {\n\t\t\treturn this.settingsStore.isEnterpriseFeatureEnabled(EnterpriseEditionFeature.Sharing);\n\t\t},\n\t\tstatusFilterOptions(): Array<{ label: string; value: string | boolean }> {\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tlabel: this.$locale.baseText('workflows.filters.status.all'),\n\t\t\t\t\tvalue: StatusFilter.ALL,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: this.$locale.baseText('workflows.filters.status.active'),\n\t\t\t\t\tvalue: StatusFilter.ACTIVE,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: this.$locale.baseText('workflows.filters.status.deactivated'),\n\t\t\t\t\tvalue: StatusFilter.DEACTIVATED,\n\t\t\t\t},\n\t\t\t];\n\t\t},\n\t\tuserRole() {\n\t\t\tconst role = this.usersStore.currentUserCloudInfo?.role;\n\n\t\t\tif (role) {\n\t\t\t\treturn role;\n\t\t\t}\n\n\t\t\tconst answers = this.usersStore.currentUser?.personalizationAnswers;\n\t\t\tif (answers && 'role' in answers) {\n\t\t\t\treturn answers.role;\n\t\t\t}\n\n\t\t\treturn undefined;\n\t\t},\n\t\tisSalesUser() {\n\t\t\tif (!this.userRole) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn ['Sales', 'sales-and-marketing'].includes(this.userRole);\n\t\t},\n\t\tshowProjectTabs() {\n\t\t\treturn (\n\t\t\t\t!!this.$route.params.projectId ||\n\t\t\t\t!!this.allWorkflows.length ||\n\t\t\t\tthis.projectsStore.myProjects.length > 1\n\t\t\t);\n\t\t},\n\t\taddWorkflowButtonText() {\n\t\t\treturn this.projectsStore.currentProject\n\t\t\t\t? this.$locale.baseText('workflows.project.add')\n\t\t\t\t: this.$locale.baseText('workflows.add');\n\t\t},\n\t},\n\twatch: {\n\t\tfilters: {\n\t\t\tdeep: true,\n\t\t\thandler() {\n\t\t\t\tthis.saveFiltersOnQueryString();\n\t\t\t},\n\t\t},\n\t\t'filters.tags'() {\n\t\t\tthis.sendFiltersTelemetry('tags');\n\t\t},\n\t\t'$route.params.projectId'() {\n\t\t\tvoid this.initialize();\n\t\t},\n\t},\n\tasync mounted() {\n\t\tawait this.setFiltersFromQueryString();\n\n\t\tvoid this.usersStore.showPersonalizationSurvey();\n\n\t\tthis.sourceControlStoreUnsubscribe = this.sourceControlStore.$onAction(({ name, after }) => {\n\t\t\tif (name === 'pullWorkfolder' && after) {\n\t\t\t\tafter(() => {\n\t\t\t\t\tvoid this.initialize();\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\tbeforeUnmount() {\n\t\tthis.sourceControlStoreUnsubscribe();\n\t},\n\tmethods: {\n\t\tonFiltersUpdated(filters: Filters) {\n\t\t\tthis.filters = filters;\n\t\t},\n\t\taddWorkflow() {\n\t\t\tthis.uiStore.nodeViewInitialized = false;\n\t\t\tvoid this.$router.push({\n\t\t\t\tname: VIEWS.NEW_WORKFLOW,\n\t\t\t\tquery: { projectId: this.$route?.params?.projectId },\n\t\t\t});\n\n\t\t\tthis.$telemetry.track('User clicked add workflow button', {\n\t\t\t\tsource: 'Workflows list',\n\t\t\t});\n\t\t},\n\t\tgetTemplateRepositoryURL() {\n\t\t\treturn this.templatesStore.websiteTemplateRepositoryURL;\n\t\t},\n\t\ttrackCategoryLinkClick(category: string) {\n\t\t\tthis.$telemetry.track(`User clicked Browse ${category} Templates`, {\n\t\t\t\trole: this.usersStore.currentUserCloudInfo?.role,\n\t\t\t\tactive_workflow_count: this.workflowsStore.activeWorkflows.length,\n\t\t\t});\n\t\t},\n\t\tasync initialize() {\n\t\t\tawait Promise.all([\n\t\t\t\tthis.usersStore.fetchUsers(),\n\t\t\t\tthis.workflowsStore.fetchAllWorkflows(this.$route?.params?.projectId as string | undefined),\n\t\t\t\tthis.workflowsStore.fetchActiveWorkflows(),\n\t\t\t]);\n\t\t},\n\t\tonClickTag(tagId: string) {\n\t\t\tif (!this.filters.tags.includes(tagId)) {\n\t\t\t\tthis.filters.tags.push(tagId);\n\t\t\t}\n\t\t},\n\t\tonFilter(\n\t\t\tresource: IWorkflowDb,\n\t\t\tfilters: { tags: string[]; search: string; status: string | boolean },\n\t\t\tmatches: boolean,\n\t\t): boolean {\n\t\t\tif (this.settingsStore.areTagsEnabled && filters.tags.length > 0) {\n\t\t\t\tmatches =\n\t\t\t\t\tmatches &&\n\t\t\t\t\tfilters.tags.every((tag) =>\n\t\t\t\t\t\t(resource.tags as ITag[])?.find((resourceTag) =>\n\t\t\t\t\t\t\ttypeof resourceTag === 'object'\n\t\t\t\t\t\t\t\t? `${resourceTag.id}` === `${tag}`\n\t\t\t\t\t\t\t\t: `${resourceTag}` === `${tag}`,\n\t\t\t\t\t\t),\n\t\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (filters.status !== '') {\n\t\t\t\tmatches = matches && resource.active === filters.status;\n\t\t\t}\n\n\t\t\treturn matches;\n\t\t},\n\t\tsendFiltersTelemetry(source: string) {\n\t\t\t(this.$refs.layout as IResourcesListLayoutInstance).sendFiltersTelemetry(source);\n\t\t},\n\t\tsaveFiltersOnQueryString() {\n\t\t\tconst query: { [key: string]: string } = {};\n\n\t\t\tif (this.filters.search) {\n\t\t\t\tquery.search = this.filters.search;\n\t\t\t}\n\n\t\t\tif (typeof this.filters.status !== 'string') {\n\t\t\t\tquery.status = this.filters.status.toString();\n\t\t\t}\n\n\t\t\tif (this.filters.tags.length) {\n\t\t\t\tquery.tags = this.filters.tags.join(',');\n\t\t\t}\n\n\t\t\tif (this.filters.homeProject) {\n\t\t\t\tquery.homeProject = this.filters.homeProject;\n\t\t\t}\n\n\t\t\tvoid this.$router.replace({\n\t\t\t\tquery: Object.keys(query).length ? query : undefined,\n\t\t\t});\n\t\t},\n\t\tisValidProjectId(projectId: string) {\n\t\t\treturn this.projectsStore.projects.some((project) => project.id === projectId);\n\t\t},\n\t\tasync setFiltersFromQueryString() {\n\t\t\tconst { tags, status, search, homeProject } = this.$route.query;\n\n\t\t\tconst filtersToApply: { [key: string]: string | string[] | boolean } = {};\n\n\t\t\tif (homeProject && typeof homeProject === 'string') {\n\t\t\t\tawait this.projectsStore.getAllProjects();\n\t\t\t\tif (this.isValidProjectId(homeProject)) {\n\t\t\t\t\tfiltersToApply.homeProject = homeProject;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (search && typeof search === 'string') {\n\t\t\t\tfiltersToApply.search = search;\n\t\t\t}\n\n\t\t\tif (tags && typeof tags === 'string') {\n\t\t\t\tconst currentTags = this.tagsStore.allTags.map((tag) => tag.id);\n\t\t\t\tconst savedTags = tags.split(',').filter((tag) => currentTags.includes(tag));\n\t\t\t\tif (savedTags.length) {\n\t\t\t\t\tfiltersToApply.tags = savedTags;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tstatus &&\n\t\t\t\ttypeof status === 'string' &&\n\t\t\t\t[StatusFilter.ACTIVE.toString(), StatusFilter.DEACTIVATED.toString()].includes(status)\n\t\t\t) {\n\t\t\t\tfiltersToApply.status = status === 'true';\n\t\t\t}\n\n\t\t\tif (Object.keys(filtersToApply).length) {\n\t\t\t\tthis.filters = {\n\t\t\t\t\t...this.filters,\n\t\t\t\t\t...filtersToApply,\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t},\n});\n\nexport default WorkflowsView;\n</script>\n\n<style lang=\"scss\" module>\n.actionsContainer {\n\tdisplay: flex;\n\tjustify-content: center;\n}\n\n.emptyStateCard {\n\twidth: 192px;\n\ttext-align: center;\n\tdisplay: inline-flex;\n\theight: 230px;\n\n\t& + & {\n\t\tmargin-left: var(--spacing-s);\n\t}\n\n\t&:hover {\n\t\tsvg {\n\t\t\tcolor: var(--color-primary);\n\t\t}\n\t}\n}\n\n.emptyStateCardIcon {\n\tfont-size: 48px;\n\n\tsvg {\n\t\twidth: 48px !important;\n\t\tcolor: var(--color-foreground-dark);\n\t\ttransition: color 0.3s ease;\n\t}\n}\n</style>\n"],"names":["WORKFLOW_LIST_ITEM_ACTIONS","props","__props","emit","__emit","toast","useToast","message","useMessage","locale","useI18n","router","useRouter","telemetry","useTelemetry","settingsStore","useSettingsStore","uiStore","useUIStore","usersStore","useUsersStore","workflowsStore","useWorkflowsStore","projectsStore","useProjectsStore","currentUser","computed","workflowPermissions","getWorkflowPermissions","actions","items","formattedCreatedAtDate","currentYear","dateformat","onClick","event","route","VIEWS","onClickTag","tagId","onExpandTags","onAction","action","DUPLICATE_MODAL_KEY","tag","WORKFLOW_SHARE_MODAL_KEY","deleteWorkflow","moveResource","MODAL_CONFIRM","error","PROJECT_MOVE_RESOURCE_MODAL","StatusFilter","WorkflowsView","defineComponent","ResourcesListLayout","WorkflowCard","TagsDropdown","ProjectTabs","mapStores","useSourceControlStore","useTagsStore","useTemplatesStore","EnterpriseEditionFeature","role","_a","answers","_b","name","after","filters","category","resource","matches","resourceTag","source","query","projectId","project","tags","status","search","homeProject","filtersToApply","currentTags","savedTags","_sfc_main","_hoisted_1","_hoisted_3","_hoisted_4","_component_ResourcesListLayout","_resolveComponent","_openBlock","_createBlock","_ctx","initialize","readOnlyEnv","addWorkflow","_withCtx","_component_ProjectTabs","_createCommentVNode","disabled","_createVNode","_component_n8n_tooltip","_component_i18n_t","_createElementVNode","_toDisplayString","_component_n8n_button","_createTextVNode","data","updateItemSize","_component_WorkflowCard","_hoisted_2","_component_n8n_heading","$locale","_component_n8n_text","_createElementBlock","isSalesUser","_normalizeClass","_component_n8n_card","_cache","$event","_component_n8n_icon","$style","setKeyValue","_component_n8n_input_label","_component_TagsDropdown","_hoisted_5","_component_n8n_select","_Fragment","_renderList","option","_component_n8n_option"],"mappings":"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"}