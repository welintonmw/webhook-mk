import{G as d,aH as g,az as v,ag as a,l as _,m as h,U as n,O as l,p as r,S,T as m,I as o,r as R,b as $,K as C}from"./vendor-Dv5OeN6t.js";import{e as I,b as f,l as y,V as e,t as U,a2 as O,a1 as w,cK as G}from"./index-1OxaEeO3.js";import{m as k}from"./pinia-sugP77Im.js";import{u as B}from"./useUserHelpers-DZtbUAMm.js";import{_ as b}from"./n8n-4UEsHtUL.js";import"./axios-Mm4CS0gO.js";import"./flatted-DN8lQ2XG.js";import"./@vueuse/core-BBHtM40w.js";import"./lodash-es-CZ1inz46.js";import"./@n8n/permissions-BxxteU-C.js";import"./dateformat-CIxnBJXX.js";import"./vue-i18n-Delvyc9x.js";import"./uuid-SoommWqA.js";import"./luxon-CLwAIbs0.js";import"./@n8n/codemirror-lang-sql-DBO6T13I.js";import"./@lezer/common-B6ct0j_v.js";import"./prettier-bS6l4Vb1.js";import"./@jsplumb/util-DS-9vq_E.js";import"./@jsplumb/core-CVBraiyY.js";import"./@jsplumb/common-CF-b-6-M.js";import"./@jsplumb/connector-bezier-BGU0Ovbw.js";import"./@jsplumb/browser-ui-BVF2KoJK.js";import"./codemirror-lang-html-n8n-CWDO6_kP.js";import"./@n8n/codemirror-lang-Dl0FW_KM.js";import"./esprima-next-nhoSXAeq.js";import"./fast-json-stable-stringify-BOfzoJX1.js";import"./timeago.js-CiyKClrF.js";import"./qrcode.vue-BGkPba5A.js";import"./vue3-touch-events-mV0oX_Sl.js";import"./chart.js-343vZi4M.js";const L=d({name:"SettingsSidebar",setup(){const t=g(),s=v();return{...B(t,s)}},computed:{...k(y,f,I),settingsFakeDoorFeatures(){return this.uiStore.getFakeDoorByLocation("settings")},sidebarMenuItems(){const t=[{id:"settings-usage-and-plan",icon:"chart-bar",label:this.$locale.baseText("settings.usageAndPlan.title"),position:"top",available:this.canAccessUsageAndPlan(),route:{to:{name:e.USAGE}}},{id:"settings-personal",icon:"user-circle",label:this.$locale.baseText("settings.personal"),position:"top",available:this.canAccessPersonalSettings(),route:{to:{name:e.PERSONAL_SETTINGS}}},{id:"settings-users",icon:"user-friends",label:this.$locale.baseText("settings.users"),position:"top",available:this.canAccessUsersSettings(),route:{to:{name:e.USERS_SETTINGS}}},{id:"settings-api",icon:"plug",label:this.$locale.baseText("settings.n8napi"),position:"top",available:this.canAccessApiSettings(),route:{to:{name:e.API_SETTINGS}}},{id:"settings-external-secrets",icon:"vault",label:this.$locale.baseText("settings.externalSecrets.title"),position:"top",available:this.canAccessExternalSecrets(),route:{to:{name:e.EXTERNAL_SECRETS_SETTINGS}}},{id:"settings-source-control",icon:"code-branch",label:this.$locale.baseText("settings.sourceControl.title"),position:"top",available:this.canAccessSourceControl(),route:{to:{name:e.SOURCE_CONTROL}}},{id:"settings-sso",icon:"user-lock",label:this.$locale.baseText("settings.sso"),position:"top",available:this.canAccessSso(),route:{to:{name:e.SSO_SETTINGS}}},{id:"settings-ldap",icon:"network-wired",label:this.$locale.baseText("settings.ldap"),position:"top",available:this.canAccessLdapSettings(),route:{to:{name:e.LDAP_SETTINGS}}},{id:"settings-workersview",icon:"project-diagram",label:this.$locale.baseText("mainSidebar.workersView"),position:"top",available:this.settingsStore.isQueueModeEnabled&&U(["rbac"],{rbac:{scope:"workersView:manage"}}),route:{to:{name:e.WORKER_VIEW}}}];for(const s of this.settingsFakeDoorFeatures)s.uiLocations.includes("settings")&&t.push({id:s.id,icon:s.icon??"question",label:this.$locale.baseText(s.featureName),position:"top",available:!0,activateOnRoutePaths:[`/settings/coming-soon/${s.id}`]});return t.push({id:"settings-log-streaming",icon:"sign-in-alt",label:this.$locale.baseText("settings.log-streaming"),position:"top",available:this.canAccessLogStreamingSettings(),route:{to:{name:e.LOG_STREAMING_SETTINGS}}}),t.push({id:"settings-community-nodes",icon:"cube",label:this.$locale.baseText("settings.communityNodes"),position:"top",available:this.canAccessCommunityNodes(),route:{to:{name:e.COMMUNITY_NODES}}}),t}},methods:{canAccessPersonalSettings(){return this.canUserAccessRouteByName(e.PERSONAL_SETTINGS)},canAccessUsersSettings(){return this.canUserAccessRouteByName(e.USERS_SETTINGS)},canAccessCommunityNodes(){return this.canUserAccessRouteByName(e.COMMUNITY_NODES)},canAccessApiSettings(){return this.settingsStore.isPublicApiEnabled&&this.canUserAccessRouteByName(e.API_SETTINGS)},canAccessLdapSettings(){return this.canUserAccessRouteByName(e.LDAP_SETTINGS)},canAccessLogStreamingSettings(){return this.canUserAccessRouteByName(e.LOG_STREAMING_SETTINGS)},canAccessUsageAndPlan(){return this.canUserAccessRouteByName(e.USAGE)},canAccessExternalSecrets(){return this.canUserAccessRouteByName(e.EXTERNAL_SECRETS_SETTINGS)},canAccessSourceControl(){return this.canUserAccessRouteByName(e.SOURCE_CONTROL)},canAccessSso(){return this.canUserAccessRouteByName(e.SSO_SETTINGS)},onVersionClick(){this.uiStore.openModal(O)},openUpdatesPanel(){this.uiStore.openModal(w)},async handleSelect(t){switch(t){case"users":case"logging":this.$router.push({name:e.FAKE_DOOR,params:{featureId:t}}).catch(()=>{});break}}}}),M="_container_w9grj_1",P="_returnButton_w9grj_10",V="_versionContainer_w9grj_18",x={container:M,returnButton:P,versionContainer:V},D={class:"mr-xs"};function F(t,s,c,p,i,T){const u=a("font-awesome-icon"),A=a("n8n-heading"),E=a("n8n-link"),N=a("n8n-menu");return _(),h("div",{class:o(t.$style.container)},[n(N,{items:t.sidebarMenuItems,onSelect:t.handleSelect},{header:l(()=>[r("div",{class:o(t.$style.returnButton),"data-test-id":"settings-back",onClick:s[0]||(s[0]=Q=>t.$emit("return"))},[r("i",D,[n(u,{icon:"arrow-left"})]),n(A,{size:"large",bold:!0},{default:l(()=>[S(m(t.$locale.baseText("settings")),1)]),_:1})],2)]),menuSuffix:l(()=>[r("div",{class:o(t.$style.versionContainer)},[n(E,{size:"small",onClick:t.onVersionClick},{default:l(()=>[S(m(t.$locale.baseText("settings.version"))+" "+m(t.rootStore.versionCli),1)]),_:1},8,["onClick"])],2)]),_:1},8,["items","onSelect"])],2)}const K={$style:x},j=b(L,[["render",F],["__cssModules",K]]),z=d({__name:"SettingsView",setup(t){const s=g(),c=R();function p(){s.push(G(c.value)?c.value:{name:e.HOMEPAGE})}return $(()=>{c.value=s.options.history.state.back}),(i,T)=>{const u=a("router-view");return _(),h("div",{class:o(i.$style.container)},[n(j,{onReturn:p}),r("div",{class:o(i.$style.contentContainer)},[r("div",{class:o(i.$style.content)},[n(u,C({name:"settingsView"},i.$attrs),null,16)],2)],2)],2)}}}),Y="_container_11adc_1",H="_contentContainer_11adc_8 _container_11adc_1",W="_content_11adc_8",X={container:Y,contentContainer:H,content:W},q={$style:X},fe=b(z,[["__cssModules",q]]);export{fe as default};
//# sourceMappingURL=SettingsView-DJ78VuiY.js.map
