{"version":3,"file":"TemplatesSearchView-Bmr6Nd6g.js","sources":["../../src/components/CollectionWorkflowCard.vue","../../src/components/TemplatesInfoCard.vue","../../src/components/TemplatesInfoCarousel.vue","../../src/components/TemplateFilters.vue","../../src/views/TemplatesSearchView.vue"],"sourcesContent":["<template>\n\t<n8n-card :class=\"$style.card\" v-bind=\"$attrs\">\n\t\t<template v-if=\"!loading\" #header>\n\t\t\t<span :class=\"$style.title\" v-text=\"title\" />\n\t\t</template>\n\t\t<n8n-loading :loading=\"loading\" :rows=\"3\" variant=\"p\" />\n\t\t<template v-if=\"!loading\" #footer>\n\t\t\t<slot name=\"footer\" />\n\t\t</template>\n\t</n8n-card>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n\tname: 'Card',\n\tprops: {\n\t\tloading: {\n\t\t\ttype: Boolean,\n\t\t},\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t},\n\t},\n});\n</script>\n\n<style lang=\"scss\" module>\n.card {\n\tmin-width: 235px;\n\theight: 140px;\n\tmargin-right: var(--spacing-2xs);\n\tcursor: pointer;\n\n\t&:last-child {\n\t\tmargin-right: var(--spacing-5xs);\n\t}\n\n\t&:hover {\n\t\tbox-shadow: 0 2px 4px rgba(68, 28, 23, 0.07);\n\t}\n\n\t> div {\n\t\theight: 100%;\n\t}\n}\n\n.title {\n\tdisplay: -webkit-box;\n\t-webkit-line-clamp: 4;\n\t-webkit-box-orient: vertical;\n\tfont-size: var(--font-size-s);\n\tline-height: var(--font-line-height-regular);\n\tfont-weight: var(--font-weight-bold);\n\toverflow: hidden;\n\twhite-space: normal;\n}\n</style>\n","<template>\n\t<Card :loading=\"loading\" :title=\"collection.name\" :style=\"{ width }\">\n\t\t<template #footer>\n\t\t\t<span>\n\t\t\t\t<n8n-text v-show=\"showItemCount\" size=\"small\" color=\"text-light\">\n\t\t\t\t\t{{ collection.workflows.length }}\n\t\t\t\t\t{{ $locale.baseText('templates.workflows') }}\n\t\t\t\t</n8n-text>\n\t\t\t</span>\n\t\t\t<NodeList :nodes=\"collection.nodes\" :show-more=\"false\" />\n\t\t</template>\n\t</Card>\n</template>\n\n<script lang=\"ts\">\nimport { type PropType, defineComponent } from 'vue';\nimport Card from '@/components/CollectionWorkflowCard.vue';\nimport NodeList from '@/components/NodeList.vue';\nimport type { ITemplatesCollection } from '@/Interface';\n\nexport default defineComponent({\n\tname: 'TemplatesInfoCard',\n\tcomponents: {\n\t\tCard,\n\t\tNodeList,\n\t},\n\tprops: {\n\t\tcollection: {\n\t\t\ttype: Object as PropType<ITemplatesCollection>,\n\t\t\trequired: true,\n\t\t},\n\t\tloading: {\n\t\t\ttype: Boolean,\n\t\t},\n\t\tshowItemCount: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\twidth: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n});\n</script>\n\n<style lang=\"scss\" module></style>\n","<template>\n\t<div v-show=\"loading || collections.length\" :class=\"$style.container\">\n\t\t<agile\n\t\t\tref=\"slider\"\n\t\t\t:dots=\"false\"\n\t\t\t:nav-buttons=\"false\"\n\t\t\t:infinite=\"false\"\n\t\t\t:slides-to-show=\"4\"\n\t\t\t@after-change=\"updateCarouselScroll\"\n\t\t>\n\t\t\t<Card v-for=\"n in loading ? 4 : 0\" :key=\"`loading-${n}`\" :loading=\"loading\" />\n\t\t\t<TemplatesInfoCard\n\t\t\t\tv-for=\"collection in loading ? [] : collections\"\n\t\t\t\t:key=\"collection.id\"\n\t\t\t\tdata-test-id=\"templates-info-card\"\n\t\t\t\t:collection=\"collection\"\n\t\t\t\t:show-item-count=\"showItemCount\"\n\t\t\t\t:width=\"cardsWidth\"\n\t\t\t\t@click=\"(e) => onCardClick(e, collection.id)\"\n\t\t\t/>\n\t\t</agile>\n\t\t<button\n\t\t\tv-show=\"showNavigation && carouselScrollPosition > 0\"\n\t\t\t:class=\"{ [$style.leftButton]: true }\"\n\t\t\t@click=\"scrollLeft\"\n\t\t>\n\t\t\t<font-awesome-icon icon=\"chevron-left\" />\n\t\t</button>\n\t\t<button\n\t\t\tv-show=\"showNavigation && !scrollEnd\"\n\t\t\t:class=\"{ [$style.rightButton]: true }\"\n\t\t\t@click=\"scrollRight\"\n\t\t>\n\t\t\t<font-awesome-icon icon=\"chevron-right\" />\n\t\t</button>\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\nimport type { PropType } from 'vue';\nimport type { ITemplatesCollection } from '@/Interface';\nimport Card from '@/components/CollectionWorkflowCard.vue';\nimport TemplatesInfoCard from '@/components/TemplatesInfoCard.vue';\nimport { VueAgile } from 'vue-agile';\n\ntype SliderRef = InstanceType<typeof VueAgile>;\n\nexport default defineComponent({\n\tname: 'TemplatesInfoCarousel',\n\tcomponents: {\n\t\tCard,\n\t\tTemplatesInfoCard,\n\t\tagile: VueAgile,\n\t},\n\tprops: {\n\t\tcollections: {\n\t\t\ttype: Array as PropType<ITemplatesCollection[]>,\n\t\t\trequired: true,\n\t\t},\n\t\tloading: {\n\t\t\ttype: Boolean,\n\t\t},\n\t\tshowItemCount: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\tshowNavigation: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\tcardsWidth: {\n\t\t\ttype: String,\n\t\t\tdefault: '240px',\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcarouselScrollPosition: 0,\n\t\t\tcardWidth: parseInt(this.cardsWidth, 10),\n\t\t\tsliderWidth: 0,\n\t\t\tscrollEnd: false,\n\t\t\tlistElement: null as null | Element,\n\t\t};\n\t},\n\twatch: {\n\t\tcollections() {\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.updateCarouselScroll();\n\t\t\t}, 0);\n\t\t},\n\t\tloading() {\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.updateCarouselScroll();\n\t\t\t}, 0);\n\t\t},\n\t},\n\tasync mounted() {\n\t\tawait this.$nextTick();\n\t\tconst sliderRef = this.$refs.slider as SliderRef | undefined;\n\t\tif (!sliderRef) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.listElement = sliderRef.$el.querySelector('.agile__list');\n\t\tif (this.listElement) {\n\t\t\tthis.listElement.addEventListener('scroll', this.updateCarouselScroll);\n\t\t}\n\t},\n\tbeforeUnmount() {\n\t\tconst sliderRef = this.$refs.slider as SliderRef | undefined;\n\t\tif (sliderRef) {\n\t\t\tsliderRef.destroy();\n\t\t}\n\n\t\twindow.removeEventListener('scroll', this.updateCarouselScroll);\n\t},\n\tmethods: {\n\t\tupdateCarouselScroll() {\n\t\t\tif (this.listElement) {\n\t\t\t\tthis.carouselScrollPosition = Number(this.listElement.scrollLeft.toFixed());\n\n\t\t\t\tconst width = this.listElement.clientWidth;\n\t\t\t\tconst scrollWidth = this.listElement.scrollWidth;\n\t\t\t\tconst scrollLeft = this.carouselScrollPosition;\n\t\t\t\tthis.scrollEnd = scrollWidth - width <= scrollLeft + 7;\n\t\t\t}\n\t\t},\n\t\tonCardClick(event: MouseEvent, id: number) {\n\t\t\tthis.$emit('openCollection', { event, id });\n\t\t},\n\t\tscrollLeft() {\n\t\t\tif (this.listElement) {\n\t\t\t\tthis.listElement.scrollBy({ left: -(this.cardWidth * 2), top: 0, behavior: 'smooth' });\n\t\t\t}\n\t\t},\n\t\tscrollRight() {\n\t\t\tif (this.listElement) {\n\t\t\t\tthis.listElement.scrollBy({ left: this.cardWidth * 2, top: 0, behavior: 'smooth' });\n\t\t\t}\n\t\t},\n\t},\n});\n</script>\n\n<style lang=\"scss\" module>\n.container {\n\tposition: relative;\n}\n\n.button {\n\twidth: 28px;\n\theight: 37px;\n\tposition: absolute;\n\ttop: 35%;\n\tborder-radius: var(--border-radius-large);\n\tborder: var(--border-base);\n\tbackground-color: #fbfcfe;\n\tcursor: pointer;\n\n\t&:after {\n\t\tcontent: '';\n\t\twidth: 40px;\n\t\theight: 140px;\n\t\ttop: -55px;\n\t\tposition: absolute;\n\t}\n\tsvg {\n\t\tcolor: var(--color-foreground-xdark);\n\t}\n}\n\n.leftButton {\n\tcomposes: button;\n\tleft: -30px;\n\n\t&:after {\n\t\tleft: 27px;\n\t\tbackground: linear-gradient(\n\t\t\t270deg,\n\t\t\thsla(\n\t\t\t\tvar(--color-background-light-h),\n\t\t\t\tvar(--color-background-light-s),\n\t\t\t\tvar(--color-background-light-l),\n\t\t\t\t50%\n\t\t\t),\n\t\t\thsla(\n\t\t\t\tvar(--color-background-light-h),\n\t\t\t\tvar(--color-background-light-s),\n\t\t\t\tvar(--color-background-light-l),\n\t\t\t\t100%\n\t\t\t)\n\t\t);\n\t}\n}\n\n.rightButton {\n\tcomposes: button;\n\tright: -30px;\n\n\t&:after {\n\t\tright: 27px;\n\t\tbackground: linear-gradient(\n\t\t\t90deg,\n\t\t\thsla(\n\t\t\t\tvar(--color-background-light-h),\n\t\t\t\tvar(--color-background-light-s),\n\t\t\t\tvar(--color-background-light-l),\n\t\t\t\t50%\n\t\t\t),\n\t\t\thsla(\n\t\t\t\tvar(--color-background-light-h),\n\t\t\t\tvar(--color-background-light-s),\n\t\t\t\tvar(--color-background-light-l),\n\t\t\t\t100%\n\t\t\t)\n\t\t);\n\t}\n}\n</style>\n\n<style lang=\"scss\">\n.agile {\n\t&__list {\n\t\twidth: 100%;\n\t\tpadding-bottom: var(--spacing-2xs);\n\t\toverflow-x: auto;\n\t\ttransition: all 1s ease-in-out;\n\t}\n\n\t&__track {\n\t\twidth: 50px;\n\t}\n}\n</style>\n","<template>\n\t<div :class=\"$style.filters\" class=\"template-filters\" data-test-id=\"templates-filter-container\">\n\t\t<div :class=\"$style.title\" v-text=\"$locale.baseText('templates.categoriesHeading')\" />\n\t\t<div v-if=\"loading\" :class=\"$style.list\">\n\t\t\t<n8n-loading :loading=\"loading\" :rows=\"expandLimit\" />\n\t\t</div>\n\t\t<ul v-if=\"!loading\" :class=\"$style.categories\">\n\t\t\t<li :class=\"$style.item\" data-test-id=\"template-filter-all-categories\">\n\t\t\t\t<el-checkbox :model-value=\"allSelected\" @update:model-value=\"() => resetCategories()\">\n\t\t\t\t\t{{ $locale.baseText('templates.allCategories') }}\n\t\t\t\t</el-checkbox>\n\t\t\t</li>\n\t\t\t<li\n\t\t\t\tv-for=\"(category, index) in collapsed\n\t\t\t\t\t? sortedCategories.slice(0, expandLimit)\n\t\t\t\t\t: sortedCategories\"\n\t\t\t\t:key=\"index\"\n\t\t\t\t:class=\"$style.item\"\n\t\t\t\t:data-test-id=\"`template-filter-${category.name.toLowerCase().replaceAll(' ', '-')}`\"\n\t\t\t>\n\t\t\t\t<el-checkbox\n\t\t\t\t\t:model-value=\"isSelected(category)\"\n\t\t\t\t\t@update:model-value=\"(value: boolean) => handleCheckboxChanged(value, category)\"\n\t\t\t\t>\n\t\t\t\t\t{{ category.name }}\n\t\t\t\t</el-checkbox>\n\t\t\t</li>\n\t\t</ul>\n\t\t<div\n\t\t\tv-if=\"sortedCategories.length > expandLimit && collapsed && !loading\"\n\t\t\t:class=\"$style.button\"\n\t\t\tdata-test-id=\"expand-categories-button\"\n\t\t\t@click=\"collapseAction\"\n\t\t>\n\t\t\t<n8n-text size=\"small\" color=\"primary\">\n\t\t\t\t+ {{ `${sortedCategories.length - expandLimit} more` }}\n\t\t\t</n8n-text>\n\t\t</div>\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\nimport type { ITemplatesCategory } from '@/Interface';\nimport type { PropType } from 'vue';\nimport { useTemplatesStore } from '@/stores/templates.store';\nimport { mapStores } from 'pinia';\n\nexport default defineComponent({\n\tname: 'TemplateFilters',\n\tprops: {\n\t\tcategories: {\n\t\t\ttype: Array as PropType<ITemplatesCategory[]>,\n\t\t\tdefault: () => [],\n\t\t},\n\t\tsortOnPopulate: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\texpandLimit: {\n\t\t\ttype: Number,\n\t\t\tdefault: 12,\n\t\t},\n\t\tloading: {\n\t\t\ttype: Boolean,\n\t\t},\n\t\tselected: {\n\t\t\ttype: Array as PropType<ITemplatesCategory[]>,\n\t\t\tdefault: () => [],\n\t\t},\n\t},\n\temits: ['clearAll', 'select', 'clear'],\n\tdata() {\n\t\treturn {\n\t\t\tcollapsed: true,\n\t\t\tsortedCategories: [] as ITemplatesCategory[],\n\t\t};\n\t},\n\tcomputed: {\n\t\t...mapStores(useTemplatesStore),\n\t\tallSelected(): boolean {\n\t\t\treturn this.selected.length === 0;\n\t\t},\n\t},\n\twatch: {\n\t\tsortOnPopulate: {\n\t\t\thandler(value: boolean) {\n\t\t\t\tif (value) {\n\t\t\t\t\tthis.sortCategories();\n\t\t\t\t}\n\t\t\t},\n\t\t\timmediate: true,\n\t\t},\n\t\tcategories: {\n\t\t\thandler(categories: ITemplatesCategory[]) {\n\t\t\t\tif (categories.length > 0) {\n\t\t\t\t\tthis.sortCategories();\n\t\t\t\t}\n\t\t\t},\n\t\t\timmediate: true,\n\t\t},\n\t},\n\tmethods: {\n\t\tsortCategories() {\n\t\t\tif (!this.sortOnPopulate) {\n\t\t\t\tthis.sortedCategories = this.categories;\n\t\t\t} else {\n\t\t\t\tconst selected = this.selected || [];\n\t\t\t\tconst selectedCategories = this.categories.filter((cat) => selected.includes(cat));\n\t\t\t\tconst notSelectedCategories = this.categories.filter((cat) => !selected.includes(cat));\n\t\t\t\tthis.sortedCategories = selectedCategories.concat(notSelectedCategories);\n\t\t\t}\n\t\t},\n\t\tcollapseAction() {\n\t\t\tthis.collapsed = false;\n\t\t},\n\t\thandleCheckboxChanged(value: boolean, selectedCategory: ITemplatesCategory) {\n\t\t\tthis.$emit(value ? 'select' : 'clear', selectedCategory);\n\t\t},\n\t\tisSelected(category: ITemplatesCategory) {\n\t\t\treturn this.selected.includes(category);\n\t\t},\n\t\tresetCategories() {\n\t\t\tthis.$emit('clearAll');\n\t\t},\n\t},\n});\n</script>\n\n<style lang=\"scss\" module>\n.title {\n\tfont-size: var(--font-size-2xs);\n\tcolor: var(--color-text-base);\n}\n\n.categories {\n\tpadding-top: var(--spacing-xs);\n\tlist-style-type: none;\n}\n\n.item {\n\tmargin-top: var(--spacing-xs);\n\n\t&:nth-child(1) {\n\t\tmargin-top: 0;\n\t}\n}\n\n.button {\n\tpadding-top: var(--spacing-2xs);\n\tcursor: pointer;\n}\n</style>\n\n<style lang=\"scss\">\n.template-filters {\n\t.el-checkbox {\n\t\tdisplay: flex;\n\t\twhite-space: unset;\n\t}\n\n\t.el-checkbox__label {\n\t\ttop: -2px;\n\t\tposition: relative;\n\t\tfont-size: var(--font-size-xs);\n\t\tline-height: var(--font-line-height-loose);\n\t\tcolor: var(--color-text-dark);\n\t\tpadding-left: var(--spacing-2xs);\n\t}\n}\n</style>\n","<template>\n\t<TemplatesView>\n\t\t<template #header>\n\t\t\t<div :class=\"$style.wrapper\">\n\t\t\t\t<div :class=\"$style.title\">\n\t\t\t\t\t<n8n-heading tag=\"h1\" size=\"2xlarge\">\n\t\t\t\t\t\t{{ $locale.baseText('templates.heading') }}\n\t\t\t\t\t</n8n-heading>\n\t\t\t\t</div>\n\t\t\t\t<div :class=\"$style.button\">\n\t\t\t\t\t<n8n-button\n\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\ttype=\"secondary\"\n\t\t\t\t\t\telement=\"a\"\n\t\t\t\t\t\t:href=\"creatorHubUrl\"\n\t\t\t\t\t\t:label=\"$locale.baseText('templates.shareWorkflow')\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t\t<template #content>\n\t\t\t<div :class=\"$style.contentWrapper\">\n\t\t\t\t<div :class=\"$style.filters\">\n\t\t\t\t\t<TemplateFilters\n\t\t\t\t\t\t:categories=\"templatesStore.allCategories\"\n\t\t\t\t\t\t:sort-on-populate=\"areCategoriesPrepopulated\"\n\t\t\t\t\t\t:selected=\"categories\"\n\t\t\t\t\t\t:loading=\"loadingCategories\"\n\t\t\t\t\t\t@clear=\"onCategoryUnselected\"\n\t\t\t\t\t\t@clear-all=\"onCategoriesCleared\"\n\t\t\t\t\t\t@select=\"onCategorySelected\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div :class=\"$style.search\">\n\t\t\t\t\t<n8n-input\n\t\t\t\t\t\t:model-value=\"search\"\n\t\t\t\t\t\t:placeholder=\"$locale.baseText('templates.searchPlaceholder')\"\n\t\t\t\t\t\tclearable\n\t\t\t\t\t\tdata-test-id=\"template-search-input\"\n\t\t\t\t\t\t@update:model-value=\"onSearchInput\"\n\t\t\t\t\t\t@blur=\"trackSearch\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<template #prefix>\n\t\t\t\t\t\t\t<font-awesome-icon icon=\"search\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</n8n-input>\n\t\t\t\t\t<div v-show=\"collections.length || loadingCollections\" :class=\"$style.carouselContainer\">\n\t\t\t\t\t\t<div :class=\"$style.header\">\n\t\t\t\t\t\t\t<n8n-heading :bold=\"true\" size=\"medium\" color=\"text-light\">\n\t\t\t\t\t\t\t\t{{ $locale.baseText('templates.collections') }}\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tv-if=\"!loadingCollections\"\n\t\t\t\t\t\t\t\t\tdata-test-id=\"collection-count-label\"\n\t\t\t\t\t\t\t\t\tv-text=\"`(${collections.length})`\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</n8n-heading>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<TemplatesInfoCarousel\n\t\t\t\t\t\t\t:collections=\"collections\"\n\t\t\t\t\t\t\t:loading=\"loadingCollections\"\n\t\t\t\t\t\t\t@open-collection=\"onOpenCollection\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<TemplateList\n\t\t\t\t\t\t:infinite-scroll-enabled=\"true\"\n\t\t\t\t\t\t:loading=\"loadingWorkflows\"\n\t\t\t\t\t\t:workflows=\"workflows\"\n\t\t\t\t\t\t:total-count=\"totalWorkflows\"\n\t\t\t\t\t\t@load-more=\"onLoadMore\"\n\t\t\t\t\t\t@open-template=\"onOpenTemplate\"\n\t\t\t\t\t/>\n\t\t\t\t\t<div v-if=\"endOfSearchMessage\" :class=\"$style.endText\">\n\t\t\t\t\t\t<n8n-text size=\"medium\" color=\"text-base\">\n\t\t\t\t\t\t\t<span v-html=\"endOfSearchMessage\" />\n\t\t\t\t\t\t</n8n-text>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t</TemplatesView>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\nimport { mapStores } from 'pinia';\nimport TemplatesInfoCarousel from '@/components/TemplatesInfoCarousel.vue';\nimport TemplateFilters from '@/components/TemplateFilters.vue';\nimport TemplateList from '@/components/TemplateList.vue';\nimport TemplatesView from '@/views/TemplatesView.vue';\n\nimport type {\n\tITemplatesCollection,\n\tITemplatesWorkflow,\n\tITemplatesQuery,\n\tITemplatesCategory,\n} from '@/Interface';\nimport type { IDataObject } from 'n8n-workflow';\nimport { setPageTitle } from '@/utils/htmlUtils';\nimport { CREATOR_HUB_URL, VIEWS } from '@/constants';\nimport { useSettingsStore } from '@/stores/settings.store';\nimport { useUsersStore } from '@/stores/users.store';\nimport { useTemplatesStore } from '@/stores/templates.store';\nimport { useUIStore } from '@/stores/ui.store';\nimport { useToast } from '@/composables/useToast';\nimport { usePostHog } from '@/stores/posthog.store';\nimport { useDebounce } from '@/composables/useDebounce';\n\ninterface ISearchEvent {\n\tsearch_string: string;\n\tworkflow_results_count: number;\n\tcollection_results_count: number;\n\tcategories_applied: ITemplatesCategory[];\n\twf_template_repo_session_id: string;\n}\n\nexport default defineComponent({\n\tname: 'TemplatesSearchView',\n\tcomponents: {\n\t\tTemplatesInfoCarousel,\n\t\tTemplateFilters,\n\t\tTemplateList,\n\t\tTemplatesView,\n\t},\n\tbeforeRouteLeave(_to, _from, next) {\n\t\tconst contentArea = document.getElementById('content');\n\t\tif (contentArea) {\n\t\t\t// When leaving this page, store current scroll position in route data\n\t\t\tthis.$route.meta?.setScrollPosition?.(contentArea.scrollTop);\n\t\t}\n\n\t\tthis.trackSearch();\n\t\tnext();\n\t},\n\tsetup() {\n\t\tconst { callDebounced } = useDebounce();\n\n\t\treturn {\n\t\t\tcallDebounced,\n\t\t\t...useToast(),\n\t\t};\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tareCategoriesPrepopulated: false,\n\t\t\tcategories: [] as ITemplatesCategory[],\n\t\t\tloading: true,\n\t\t\tloadingCategories: true,\n\t\t\tloadingCollections: true,\n\t\t\tloadingWorkflows: true,\n\t\t\tsearch: '',\n\t\t\tsearchEventToTrack: null as null | ISearchEvent,\n\t\t\terrorLoadingWorkflows: false,\n\t\t\tcreatorHubUrl: CREATOR_HUB_URL as string,\n\t\t};\n\t},\n\tcomputed: {\n\t\t...mapStores(useSettingsStore, useTemplatesStore, useUIStore, useUsersStore, usePostHog),\n\t\ttotalWorkflows(): number {\n\t\t\treturn this.templatesStore.getSearchedWorkflowsTotal(this.createQueryObject('name'));\n\t\t},\n\t\tworkflows(): ITemplatesWorkflow[] {\n\t\t\treturn this.templatesStore.getSearchedWorkflows(this.createQueryObject('name')) ?? [];\n\t\t},\n\t\tcollections(): ITemplatesCollection[] {\n\t\t\treturn this.templatesStore.getSearchedCollections(this.createQueryObject('id')) ?? [];\n\t\t},\n\t\tendOfSearchMessage(): string | null {\n\t\t\tif (this.loadingWorkflows) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (\n\t\t\t\t!this.loadingCollections &&\n\t\t\t\tthis.workflows.length === 0 &&\n\t\t\t\tthis.collections.length === 0\n\t\t\t) {\n\t\t\t\tif (!this.settingsStore.isTemplatesEndpointReachable && this.errorLoadingWorkflows) {\n\t\t\t\t\treturn this.$locale.baseText('templates.connectionWarning');\n\t\t\t\t}\n\t\t\t\treturn this.$locale.baseText('templates.noSearchResults');\n\t\t\t}\n\n\t\t\treturn null;\n\t\t},\n\t\tnothingFound(): boolean {\n\t\t\treturn (\n\t\t\t\t!this.loadingWorkflows &&\n\t\t\t\t!this.loadingCollections &&\n\t\t\t\tthis.workflows.length === 0 &&\n\t\t\t\tthis.collections.length === 0\n\t\t\t);\n\t\t},\n\t},\n\twatch: {\n\t\tworkflows(newWorkflows) {\n\t\t\tif (newWorkflows.length === 0) {\n\t\t\t\tthis.scrollTo(0);\n\t\t\t}\n\t\t},\n\t},\n\tasync mounted() {\n\t\tsetPageTitle('n8n - Templates');\n\t\tawait this.loadCategories();\n\t\tvoid this.loadWorkflowsAndCollections(true);\n\t\tvoid this.usersStore.showPersonalizationSurvey();\n\n\t\tthis.restoreSearchFromRoute();\n\n\t\tsetTimeout(() => {\n\t\t\t// Check if there is scroll position saved in route and scroll to it\n\t\t\tconst scrollOffset = this.$route.meta?.scrollOffset;\n\t\t\tif (typeof scrollOffset === 'number' && scrollOffset > 0) {\n\t\t\t\tthis.scrollTo(scrollOffset, 'auto');\n\t\t\t}\n\t\t}, 100);\n\t},\n\tmethods: {\n\t\tcreateQueryObject(categoryId: 'name' | 'id'): ITemplatesQuery {\n\t\t\t// We are using category names for template search and ids for collection search\n\t\t\treturn {\n\t\t\t\tcategories: this.categories.map((category) =>\n\t\t\t\t\tcategoryId === 'name' ? category.name : String(category.id),\n\t\t\t\t),\n\t\t\t\tsearch: this.search,\n\t\t\t};\n\t\t},\n\t\trestoreSearchFromRoute() {\n\t\t\tlet updateSearch = false;\n\t\t\tif (this.$route.query.search && typeof this.$route.query.search === 'string') {\n\t\t\t\tthis.search = this.$route.query.search;\n\t\t\t\tupdateSearch = true;\n\t\t\t}\n\t\t\tif (typeof this.$route.query.categories === 'string' && this.$route.query.categories.length) {\n\t\t\t\tconst categoriesFromURL = this.$route.query.categories.split(',');\n\t\t\t\tthis.categories = this.templatesStore.allCategories.filter((category) =>\n\t\t\t\t\tcategoriesFromURL.includes(category.id.toString()),\n\t\t\t\t);\n\t\t\t\tupdateSearch = true;\n\t\t\t}\n\t\t\tif (updateSearch) {\n\t\t\t\tthis.updateSearch();\n\t\t\t\tthis.trackCategories();\n\t\t\t\tthis.areCategoriesPrepopulated = true;\n\t\t\t}\n\t\t},\n\t\tonOpenCollection({ event, id }: { event: MouseEvent; id: string }) {\n\t\t\tthis.navigateTo(event, VIEWS.COLLECTION, id);\n\t\t},\n\t\tonOpenTemplate({ event, id }: { event: MouseEvent; id: string }) {\n\t\t\tthis.navigateTo(event, VIEWS.TEMPLATE, id);\n\t\t},\n\t\tnavigateTo(e: MouseEvent, page: string, id: string) {\n\t\t\tif (e.metaKey || e.ctrlKey) {\n\t\t\t\tconst route = this.$router.resolve({ name: page, params: { id } });\n\t\t\t\twindow.open(route.href, '_blank');\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tvoid this.$router.push({ name: page, params: { id } });\n\t\t\t}\n\t\t},\n\t\tupdateSearch() {\n\t\t\tthis.updateQueryParam(this.search, this.categories.map((category) => category.id).join(','));\n\t\t\tvoid this.loadWorkflowsAndCollections(false);\n\t\t},\n\t\tupdateSearchTracking(search: string, categories: number[]) {\n\t\t\tif (!search) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.searchEventToTrack && this.searchEventToTrack.search_string.length > search.length) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.searchEventToTrack = {\n\t\t\t\tsearch_string: search,\n\t\t\t\tworkflow_results_count: this.workflows.length,\n\t\t\t\tcollection_results_count: this.collections.length,\n\t\t\t\tcategories_applied: categories.map((categoryId) =>\n\t\t\t\t\tthis.templatesStore.getCategoryById(categoryId.toString()),\n\t\t\t\t) as ITemplatesCategory[],\n\t\t\t\twf_template_repo_session_id: this.templatesStore.currentSessionId,\n\t\t\t};\n\t\t},\n\t\ttrackSearch() {\n\t\t\tif (this.searchEventToTrack) {\n\t\t\t\tthis.$telemetry.track(\n\t\t\t\t\t'User searched workflow templates',\n\t\t\t\t\tthis.searchEventToTrack as unknown as IDataObject,\n\t\t\t\t);\n\t\t\t\tthis.searchEventToTrack = null;\n\t\t\t}\n\t\t},\n\t\tonSearchInput(search: string) {\n\t\t\tthis.loadingWorkflows = true;\n\t\t\tthis.loadingCollections = true;\n\t\t\tthis.search = search;\n\t\t\tvoid this.callDebounced(this.updateSearch, {\n\t\t\t\tdebounceTime: 500,\n\t\t\t\ttrailing: true,\n\t\t\t});\n\n\t\t\tif (search.length === 0) {\n\t\t\t\tthis.trackSearch();\n\t\t\t}\n\t\t},\n\t\tonCategorySelected(selected: ITemplatesCategory) {\n\t\t\tthis.categories = this.categories.concat(selected);\n\t\t\tthis.updateSearch();\n\t\t\tthis.trackCategories();\n\t\t},\n\t\tonCategoryUnselected(selected: ITemplatesCategory) {\n\t\t\tthis.categories = this.categories.filter((category) => category.id !== selected.id);\n\t\t\tthis.updateSearch();\n\t\t\tthis.trackCategories();\n\t\t},\n\t\tonCategoriesCleared() {\n\t\t\tthis.categories = [];\n\t\t\tthis.updateSearch();\n\t\t},\n\t\ttrackCategories() {\n\t\t\tif (this.categories.length) {\n\t\t\t\tthis.$telemetry.track('User changed template filters', {\n\t\t\t\t\tsearch_string: this.search,\n\t\t\t\t\tcategories_applied: this.categories,\n\t\t\t\t\twf_template_repo_session_id: this.templatesStore.currentSessionId,\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tupdateQueryParam(search: string, category: string) {\n\t\t\tconst query = Object.assign({}, this.$route.query);\n\n\t\t\tif (category.length) {\n\t\t\t\tquery.categories = category;\n\t\t\t} else {\n\t\t\t\tdelete query.categories;\n\t\t\t}\n\n\t\t\tif (search.length) {\n\t\t\t\tquery.search = search;\n\t\t\t} else {\n\t\t\t\tdelete query.search;\n\t\t\t}\n\n\t\t\tvoid this.$router.replace({ query });\n\t\t},\n\t\tasync onLoadMore() {\n\t\t\tif (this.workflows.length >= this.totalWorkflows) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tthis.loadingWorkflows = true;\n\t\t\t\tawait this.templatesStore.getMoreWorkflows({\n\t\t\t\t\tcategories: this.categories.map((category) => category.name),\n\t\t\t\t\tsearch: this.search,\n\t\t\t\t});\n\t\t\t} catch (e) {\n\t\t\t\tthis.showMessage({\n\t\t\t\t\ttitle: 'Error',\n\t\t\t\t\tmessage: 'Could not load more workflows',\n\t\t\t\t\ttype: 'error',\n\t\t\t\t});\n\t\t\t} finally {\n\t\t\t\tthis.loadingWorkflows = false;\n\t\t\t}\n\t\t},\n\t\tasync loadCategories() {\n\t\t\ttry {\n\t\t\t\tawait this.templatesStore.getCategories();\n\t\t\t} catch (e) {}\n\t\t\tthis.loadingCategories = false;\n\t\t},\n\t\tasync loadCollections() {\n\t\t\ttry {\n\t\t\t\tthis.loadingCollections = true;\n\t\t\t\tawait this.templatesStore.getCollections({\n\t\t\t\t\tcategories: this.categories.map((category) => String(category.id)),\n\t\t\t\t\tsearch: this.search,\n\t\t\t\t});\n\t\t\t} catch (e) {}\n\n\t\t\tthis.loadingCollections = false;\n\t\t},\n\t\tasync loadWorkflows() {\n\t\t\ttry {\n\t\t\t\tthis.loadingWorkflows = true;\n\t\t\t\tawait this.templatesStore.getWorkflows({\n\t\t\t\t\tsearch: this.search,\n\t\t\t\t\tcategories: this.categories.map((category) => category.name),\n\t\t\t\t});\n\t\t\t\tthis.errorLoadingWorkflows = false;\n\t\t\t} catch (e) {\n\t\t\t\tthis.errorLoadingWorkflows = true;\n\t\t\t}\n\n\t\t\tthis.loadingWorkflows = false;\n\t\t},\n\t\tasync loadWorkflowsAndCollections(initialLoad: boolean) {\n\t\t\tconst search = this.search;\n\t\t\tconst categories = [...this.categories];\n\t\t\tawait Promise.all([this.loadWorkflows(), this.loadCollections()]);\n\t\t\tif (!initialLoad) {\n\t\t\t\tthis.updateSearchTracking(\n\t\t\t\t\tsearch,\n\t\t\t\t\tcategories.map((category) => category.id),\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\tscrollTo(position: number, behavior: ScrollBehavior = 'smooth') {\n\t\t\tsetTimeout(() => {\n\t\t\t\tconst contentArea = document.getElementById('content');\n\t\t\t\tif (contentArea) {\n\t\t\t\t\tcontentArea.scrollTo({\n\t\t\t\t\t\ttop: position,\n\t\t\t\t\t\tbehavior,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}, 0);\n\t\t},\n\t},\n});\n</script>\n\n<style lang=\"scss\" module>\n.wrapper {\n\tdisplay: flex;\n\tjustify-content: space-between;\n}\n\n.contentWrapper {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\n\t@media (max-width: $breakpoint-xs) {\n\t\tflex-direction: column;\n\t}\n}\n\n.filters {\n\twidth: 200px;\n\tmargin-bottom: var(--spacing-xl);\n\tmargin-right: var(--spacing-2xl);\n}\n\n.search {\n\twidth: 100%;\n\n\t> * {\n\t\tmargin-bottom: var(--spacing-l);\n\t}\n\n\t@media (max-width: $breakpoint-xs) {\n\t\tpadding-left: 0;\n\t}\n}\n\n.header {\n\tmargin-bottom: var(--spacing-2xs);\n}\n</style>\n"],"names":["_sfc_main$4","defineComponent","_component_n8n_card","_resolveComponent","$attrs","_createBlock","_mergeProps","_ctx","_createSlots","_withCtx","loading","_createVNode","_component_n8n_loading","_createElementVNode","_normalizeClass","_toDisplayString","_hoisted_1","_renderSlot","_sfc_main$3","Card","NodeList","_openBlock","_component_Card","_normalizeStyle","_withDirectives","_component_n8n_text","_createTextVNode","_component_NodeList","_sfc_main$2","TemplatesInfoCard","VueAgile","sliderRef","width","scrollWidth","scrollLeft","event","id","_component_agile","_createElementBlock","_Fragment","_renderList","n","collection","_component_TemplatesInfoCard","onCardClick","_cache","args","showNavigation","carouselScrollPosition","scrollEnd","_sfc_main$1","mapStores","useTemplatesStore","value","categories","selected","selectedCategories","cat","notSelectedCategories","selectedCategory","category","$style","expandLimit","_createCommentVNode","_component_el_checkbox","sortedCategories","index","handleCheckboxChanged","_sfc_main","TemplatesInfoCarousel","TemplateFilters","TemplateList","TemplatesView","_to","_from","next","contentArea","_b","_a","callDebounced","useDebounce","useToast","CREATOR_HUB_URL","useSettingsStore","useUIStore","useUsersStore","usePostHog","newWorkflows","setPageTitle","scrollOffset","categoryId","updateSearch","categoriesFromURL","VIEWS","page","route","search","query","initialLoad","position","behavior","_component_TemplatesView","_component_n8n_heading","_component_n8n_button","creatorHubUrl","$locale","_component_TemplateFilters","areCategoriesPrepopulated","loadingCategories","onCategoryUnselected","onCategoriesCleared","onCategorySelected","_component_n8n_input","trackSearch","_component_font_awesome_icon","loadingCollections","onOpenCollection","collections","_vShow","loadingWorkflows","onLoadMore","onOpenTemplate","endOfSearchMessage","_hoisted_2"],"mappings":"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"}