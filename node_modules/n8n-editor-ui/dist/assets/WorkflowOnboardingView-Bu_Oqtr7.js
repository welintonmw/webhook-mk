import{Y as w,$ as d,j as f,V as a,x as u}from"./index-1OxaEeO3.js";import{G as g,aH as W,az as k,b as _,l as b,m as L}from"./vendor-Dv5OeN6t.js";import"./pinia-sugP77Im.js";import"./n8n-4UEsHtUL.js";import"./axios-Mm4CS0gO.js";import"./esprima-next-nhoSXAeq.js";import"./luxon-CLwAIbs0.js";import"./lodash-es-CZ1inz46.js";import"./flatted-DN8lQ2XG.js";import"./@vueuse/core-BBHtM40w.js";import"./@n8n/permissions-BxxteU-C.js";import"./dateformat-CIxnBJXX.js";import"./vue-i18n-Delvyc9x.js";import"./uuid-SoommWqA.js";import"./@n8n/codemirror-lang-sql-DBO6T13I.js";import"./@lezer/common-B6ct0j_v.js";import"./prettier-bS6l4Vb1.js";import"./@jsplumb/util-DS-9vq_E.js";import"./@jsplumb/core-CVBraiyY.js";import"./@jsplumb/common-CF-b-6-M.js";import"./@jsplumb/connector-bezier-BGU0Ovbw.js";import"./@jsplumb/browser-ui-BVF2KoJK.js";import"./codemirror-lang-html-n8n-CWDO6_kP.js";import"./@n8n/codemirror-lang-Dl0FW_KM.js";import"./fast-json-stable-stringify-BOfzoJX1.js";import"./timeago.js-CiyKClrF.js";import"./qrcode.vue-BGkPba5A.js";import"./vue3-touch-events-mV0oX_Sl.js";import"./chart.js-343vZi4M.js";const X=g({__name:"WorkflowOnboardingView",setup(O){const r=w(),i=d(),n=f(),e=W(),p=k(),s=u(),m=async o=>{try{r.startLoading();const t=await i.getFixedWorkflowTemplate(o);if(!t)throw new Error;const c=s.baseText("onboarding.title",{interpolate:{name:t.name}}),l=await n.createNewWorkflow({name:c,connections:t.workflow.connections,nodes:t.workflow.nodes.map(n.convertTemplateNodeToNodeUi),pinData:t.workflow.pinData,settings:t.workflow.settings,meta:{onboardingId:o}});await e.replace({name:a.WORKFLOW,params:{name:l.id},query:{onboardingId:o}}),r.stopLoading()}catch{throw await e.replace({name:a.NEW_WORKFLOW}),r.stopLoading(),new Error(`Could not load onboarding template ${o}`)}};return _(async()=>{const o=p.params.id;if(!o||typeof o!="string"){await e.replace({name:a.NEW_WORKFLOW});return}await m(o)}),(o,t)=>(b(),L("div"))}});export{X as default};
//# sourceMappingURL=WorkflowOnboardingView-Bu_Oqtr7.js.map
