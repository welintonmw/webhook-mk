{"version":3,"file":"ProjectSettings-CfcplqBX.js","sources":["../../src/components/Projects/ProjectDeleteDialog.vue","../../src/components/Projects/ProjectRoleUpgradeDialog.vue","../../src/components/Projects/ProjectSettings.vue"],"sourcesContent":["<script lang=\"ts\" setup>\nimport { ref, computed } from 'vue';\nimport type { Project, ProjectListItem, ProjectSharingData } from '@/types/projects.types';\nimport ProjectSharing from '@/components/Projects/ProjectSharing.vue';\nimport { useI18n } from '@/composables/useI18n';\n\ntype Props = {\n\tcurrentProject: Project | null;\n\tprojects: ProjectListItem[];\n};\n\nconst props = defineProps<Props>();\nconst visible = defineModel<boolean>();\nconst emit = defineEmits<{\n\t(e: 'confirmDelete', value?: string): void;\n}>();\n\nconst locale = useI18n();\n\nconst selectedProject = ref<ProjectSharingData | null>(null);\nconst operation = ref<'transfer' | 'wipe' | null>(null);\nconst wipeConfirmText = ref('');\nconst isValid = computed(() => {\n\tif (operation.value === 'transfer') {\n\t\treturn !!selectedProject.value;\n\t}\n\tif (operation.value === 'wipe') {\n\t\treturn (\n\t\t\twipeConfirmText.value ===\n\t\t\tlocale.baseText('projects.settings.delete.question.wipe.placeholder')\n\t\t);\n\t}\n\treturn false;\n});\n\nconst onDelete = () => {\n\tif (!isValid.value) {\n\t\treturn;\n\t}\n\n\tif (operation.value === 'wipe') {\n\t\tselectedProject.value = null;\n\t}\n\n\temit('confirmDelete', selectedProject.value?.id);\n};\n</script>\n<template>\n\t<el-dialog\n\t\tv-model=\"visible\"\n\t\t:title=\"\n\t\t\tlocale.baseText('projects.settings.delete.title', {\n\t\t\t\tinterpolate: { projectName: props.currentProject?.name ?? '' },\n\t\t\t})\n\t\t\"\n\t\twidth=\"500\"\n\t>\n\t\t<n8n-text color=\"text-base\">{{ locale.baseText('projects.settings.delete.message') }}</n8n-text>\n\t\t<div class=\"pt-l\">\n\t\t\t<el-radio\n\t\t\t\t:model-value=\"operation\"\n\t\t\t\tlabel=\"transfer\"\n\t\t\t\tclass=\"mb-s\"\n\t\t\t\t@update:model-value=\"operation = 'transfer'\"\n\t\t\t>\n\t\t\t\t<n8n-text color=\"text-dark\">{{\n\t\t\t\t\tlocale.baseText('projects.settings.delete.question.transfer.label')\n\t\t\t\t}}</n8n-text>\n\t\t\t</el-radio>\n\t\t\t<div v-if=\"operation === 'transfer'\" :class=\"$style.operation\">\n\t\t\t\t<n8n-text color=\"text-dark\">{{\n\t\t\t\t\tlocale.baseText('projects.settings.delete.question.transfer.title')\n\t\t\t\t}}</n8n-text>\n\t\t\t\t<ProjectSharing\n\t\t\t\t\tv-model=\"selectedProject\"\n\t\t\t\t\tclass=\"pt-2xs\"\n\t\t\t\t\t:projects=\"props.projects\"\n\t\t\t\t\t:empty-options-text=\"locale.baseText('projects.sharing.noMatchingProjects')\"\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t<el-radio\n\t\t\t\t:model-value=\"operation\"\n\t\t\t\tlabel=\"wipe\"\n\t\t\t\tclass=\"mb-s\"\n\t\t\t\t@update:model-value=\"operation = 'wipe'\"\n\t\t\t>\n\t\t\t\t<n8n-text color=\"text-dark\">{{\n\t\t\t\t\tlocale.baseText('projects.settings.delete.question.wipe.label')\n\t\t\t\t}}</n8n-text>\n\t\t\t</el-radio>\n\t\t\t<div v-if=\"operation === 'wipe'\" :class=\"$style.operation\">\n\t\t\t\t<n8n-input-label :label=\"locale.baseText('projects.settings.delete.question.wipe.title')\">\n\t\t\t\t\t<n8n-input\n\t\t\t\t\t\tv-model=\"wipeConfirmText\"\n\t\t\t\t\t\t:placeholder=\"locale.baseText('projects.settings.delete.question.wipe.placeholder')\"\n\t\t\t\t\t/>\n\t\t\t\t</n8n-input-label>\n\t\t\t</div>\n\t\t</div>\n\t\t<template #footer>\n\t\t\t<N8nButton\n\t\t\t\ttype=\"danger\"\n\t\t\t\tnative-type=\"button\"\n\t\t\t\t:disabled=\"!isValid\"\n\t\t\t\tdata-test-id=\"project-settings-delete-confirm-button\"\n\t\t\t\t@click.stop.prevent=\"onDelete\"\n\t\t\t\t>{{ locale.baseText('projects.settings.danger.deleteProject') }}</N8nButton\n\t\t\t>\n\t\t</template>\n\t</el-dialog>\n</template>\n\n<style lang=\"scss\" module>\n.operation {\n\tpadding: 0 0 var(--spacing-l) var(--spacing-l);\n}\n</style>\n","<script lang=\"ts\" setup>\nimport { useI18n } from '@/composables/useI18n';\nimport { useUIStore } from '@/stores/ui.store';\n\ntype Props = {\n\tlimit: number;\n\tplanName?: string;\n};\n\nconst props = defineProps<Props>();\nconst visible = defineModel<boolean>();\nconst uiStore = useUIStore();\nconst locale = useI18n();\n\nconst goToUpgrade = async () => {\n\tawait uiStore.goToUpgrade('rbac', 'upgrade-rbac');\n\tvisible.value = false;\n};\n</script>\n<template>\n\t<el-dialog\n\t\tv-model=\"visible\"\n\t\t:title=\"locale.baseText('projects.settings.role.upgrade.title')\"\n\t\twidth=\"500\"\n\t>\n\t\t<div class=\"pt-l\">\n\t\t\t<i18n-t keypath=\"projects.settings.role.upgrade.message\">\n\t\t\t\t<template #planName>{{ props.planName }}</template>\n\t\t\t\t<template #limit>\n\t\t\t\t\t{{\n\t\t\t\t\t\tlocale.baseText('projects.create.limit', {\n\t\t\t\t\t\t\tadjustToNumber: props.limit,\n\t\t\t\t\t\t\tinterpolate: { num: String(props.limit) },\n\t\t\t\t\t\t})\n\t\t\t\t\t}}\n\t\t\t\t</template>\n\t\t\t</i18n-t>\n\t\t</div>\n\t\t<template #footer>\n\t\t\t<N8nButton type=\"secondary\" native-type=\"button\" @click=\"visible = false\">{{\n\t\t\t\tlocale.baseText('generic.cancel')\n\t\t\t}}</N8nButton>\n\t\t\t<N8nButton type=\"primary\" native-type=\"button\" @click=\"goToUpgrade\">{{\n\t\t\t\tlocale.baseText('projects.create.limitReached.link')\n\t\t\t}}</N8nButton>\n\t\t</template>\n\t</el-dialog>\n</template>\n","<script lang=\"ts\" setup>\nimport { computed, ref, watch, onBeforeMount, nextTick } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { deepCopy } from 'n8n-workflow';\nimport { useUsersStore } from '@/stores/users.store';\nimport type { IUser } from '@/Interface';\nimport { useI18n } from '@/composables/useI18n';\nimport { useProjectsStore } from '@/stores/projects.store';\nimport ProjectTabs from '@/components/Projects/ProjectTabs.vue';\nimport type { Project, ProjectRelation } from '@/types/projects.types';\nimport { useToast } from '@/composables/useToast';\nimport { VIEWS } from '@/constants';\nimport ProjectDeleteDialog from '@/components/Projects/ProjectDeleteDialog.vue';\nimport ProjectRoleUpgradeDialog from '@/components/Projects/ProjectRoleUpgradeDialog.vue';\nimport { useRolesStore } from '@/stores/roles.store';\nimport type { ProjectRole } from '@/types/roles.types';\nimport { useCloudPlanStore } from '@/stores/cloudPlan.store';\nimport { useTelemetry } from '@/composables/useTelemetry';\n\ntype FormDataDiff = {\n\tname?: string;\n\trole?: ProjectRelation[];\n\tmemberAdded?: ProjectRelation[];\n\tmemberRemoved?: ProjectRelation[];\n};\n\nconst usersStore = useUsersStore();\nconst locale = useI18n();\nconst projectsStore = useProjectsStore();\nconst rolesStore = useRolesStore();\nconst cloudPlanStore = useCloudPlanStore();\nconst toast = useToast();\nconst router = useRouter();\nconst telemetry = useTelemetry();\nconst dialogVisible = ref(false);\nconst upgradeDialogVisible = ref(false);\n\nconst isDirty = ref(false);\nconst formData = ref<Pick<Project, 'name' | 'relations'>>({\n\tname: '',\n\trelations: [],\n});\nconst projectRoleTranslations = ref<{ [key: string]: string }>({\n\t'project:editor': locale.baseText('projects.settings.role.editor'),\n\t'project:admin': locale.baseText('projects.settings.role.admin'),\n});\nconst nameInput = ref<HTMLInputElement | null>(null);\n\nconst usersList = computed(() =>\n\tusersStore.allUsers.filter((user: IUser) => {\n\t\tconst isAlreadySharedWithUser = (formData.value.relations || []).find(\n\t\t\t(r: ProjectRelation) => r.id === user.id,\n\t\t);\n\n\t\treturn !isAlreadySharedWithUser;\n\t}),\n);\n\nconst projects = computed(() =>\n\tprojectsStore.teamProjects.filter((project) => project.id !== projectsStore.currentProjectId),\n);\nconst projectRoles = computed(() =>\n\trolesStore.processedProjectRoles.map((role) => ({\n\t\t...role,\n\t\tname: projectRoleTranslations.value[role.role],\n\t})),\n);\nconst firstLicensedRole = computed(() => projectRoles.value.find((role) => role.licensed)?.role);\n\nconst onAddMember = (userId: string) => {\n\tisDirty.value = true;\n\tconst user = usersStore.getUserById(userId);\n\tif (!user) return;\n\n\tconst { id, firstName, lastName, email } = user;\n\tconst relation = { id, firstName, lastName, email } as ProjectRelation;\n\n\tif (firstLicensedRole.value) {\n\t\trelation.role = firstLicensedRole.value;\n\t}\n\n\tformData.value.relations.push(relation);\n};\n\nconst onRoleAction = (user: Partial<IUser>, role: string) => {\n\tisDirty.value = true;\n\tconst index = formData.value.relations.findIndex((r: ProjectRelation) => r.id === user.id);\n\tif (role === 'remove') {\n\t\tformData.value.relations.splice(index, 1);\n\t} else {\n\t\tformData.value.relations[index].role = role as ProjectRole;\n\t}\n};\n\nconst onNameInput = () => {\n\tisDirty.value = true;\n};\n\nconst onCancel = () => {\n\tformData.value.relations = projectsStore.currentProject?.relations\n\t\t? deepCopy(projectsStore.currentProject.relations)\n\t\t: [];\n\tformData.value.name = projectsStore.currentProject?.name ?? '';\n\tisDirty.value = false;\n};\n\nconst makeFormDataDiff = (): FormDataDiff => {\n\tconst diff: FormDataDiff = {};\n\tif (!projectsStore.currentProject) {\n\t\treturn diff;\n\t}\n\n\tif (formData.value.name !== projectsStore.currentProject.name) {\n\t\tdiff.name = formData.value.name ?? '';\n\t}\n\n\tif (formData.value.relations.length !== projectsStore.currentProject.relations.length) {\n\t\tdiff.memberAdded = formData.value.relations.filter(\n\t\t\t(r: ProjectRelation) => !projectsStore.currentProject?.relations.find((cr) => cr.id === r.id),\n\t\t);\n\t\tdiff.memberRemoved = projectsStore.currentProject.relations.filter(\n\t\t\t(cr: ProjectRelation) => !formData.value.relations.find((r) => r.id === cr.id),\n\t\t);\n\t}\n\n\tdiff.role = formData.value.relations.filter((r: ProjectRelation) => {\n\t\tconst currentRelation = projectsStore.currentProject?.relations.find((cr) => cr.id === r.id);\n\t\treturn currentRelation?.role !== r.role && !diff.memberAdded?.find((ar) => ar.id === r.id);\n\t});\n\n\treturn diff;\n};\n\nconst sendTelemetry = (diff: FormDataDiff) => {\n\tif (diff.name) {\n\t\ttelemetry.track('User changed project name', {\n\t\t\tproject_id: projectsStore.currentProject?.id,\n\t\t\tname: diff.name,\n\t\t});\n\t}\n\n\tif (diff.memberAdded) {\n\t\tdiff.memberAdded.forEach((r) => {\n\t\t\ttelemetry.track('User added member to project', {\n\t\t\t\tproject_id: projectsStore.currentProject?.id,\n\t\t\t\ttarget_user_id: r.id,\n\t\t\t\trole: r.role,\n\t\t\t});\n\t\t});\n\t}\n\n\tif (diff.memberRemoved) {\n\t\tdiff.memberRemoved.forEach((r) => {\n\t\t\ttelemetry.track('User removed member from project', {\n\t\t\t\tproject_id: projectsStore.currentProject?.id,\n\t\t\t\ttarget_user_id: r.id,\n\t\t\t});\n\t\t});\n\t}\n\n\tif (diff.role) {\n\t\tdiff.role.forEach((r) => {\n\t\t\ttelemetry.track('User changed member role on project', {\n\t\t\t\tproject_id: projectsStore.currentProject?.id,\n\t\t\t\ttarget_user_id: r.id,\n\t\t\t\trole: r.role,\n\t\t\t});\n\t\t});\n\t}\n};\n\nconst onSubmit = async () => {\n\ttry {\n\t\tif (isDirty.value && projectsStore.currentProject) {\n\t\t\tconst diff = makeFormDataDiff();\n\n\t\t\tawait projectsStore.updateProject({\n\t\t\t\tid: projectsStore.currentProject.id,\n\t\t\t\tname: formData.value.name,\n\t\t\t\trelations: formData.value.relations.map((r: ProjectRelation) => ({\n\t\t\t\t\tuserId: r.id,\n\t\t\t\t\trole: r.role,\n\t\t\t\t})),\n\t\t\t});\n\t\t\tsendTelemetry(diff);\n\t\t\tisDirty.value = false;\n\t\t\ttoast.showMessage({\n\t\t\t\ttitle: locale.baseText('projects.settings.save.successful.title', {\n\t\t\t\t\tinterpolate: { projectName: formData.value.name ?? '' },\n\t\t\t\t}),\n\t\t\t\ttype: 'success',\n\t\t\t});\n\t\t}\n\t} catch (error) {\n\t\ttoast.showError(error, locale.baseText('projects.settings.save.error.title'));\n\t}\n};\n\nconst onDelete = async () => {\n\tawait projectsStore.getAllProjects();\n\tdialogVisible.value = true;\n};\n\nconst onConfirmDelete = async (transferId?: string) => {\n\ttry {\n\t\tif (projectsStore.currentProject) {\n\t\t\tconst projectName = projectsStore.currentProject?.name ?? '';\n\t\t\tawait projectsStore.deleteProject(projectsStore.currentProject.id, transferId);\n\t\t\tawait router.push({ name: VIEWS.HOMEPAGE });\n\t\t\ttoast.showMessage({\n\t\t\t\ttitle: locale.baseText('projects.settings.delete.successful.title', {\n\t\t\t\t\tinterpolate: { projectName },\n\t\t\t\t}),\n\t\t\t\ttype: 'success',\n\t\t\t});\n\t\t\tdialogVisible.value = true;\n\t\t}\n\t} catch (error) {\n\t\ttoast.showError(error, locale.baseText('projects.settings.delete.error.title'));\n\t}\n};\n\nconst selectProjectNameIfMatchesDefault = () => {\n\tif (\n\t\tnameInput.value &&\n\t\tformData.value.name === locale.baseText('projects.settings.newProjectName')\n\t) {\n\t\tnameInput.value.focus();\n\t\tnameInput.value.select();\n\t}\n};\n\nwatch(\n\t() => projectsStore.currentProject,\n\tasync () => {\n\t\tformData.value.name = projectsStore.currentProject?.name ?? '';\n\t\tformData.value.relations = projectsStore.currentProject?.relations\n\t\t\t? deepCopy(projectsStore.currentProject.relations)\n\t\t\t: [];\n\t\tawait nextTick();\n\t\tselectProjectNameIfMatchesDefault();\n\t},\n\t{ immediate: true },\n);\n\nonBeforeMount(async () => {\n\tawait usersStore.fetchUsers();\n});\n</script>\n\n<template>\n\t<div :class=\"$style.projectSettings\">\n\t\t<div :class=\"$style.header\">\n\t\t\t<ProjectTabs />\n\t\t</div>\n\t\t<form @submit.prevent=\"onSubmit\">\n\t\t\t<fieldset>\n\t\t\t\t<label for=\"projectName\">{{ locale.baseText('projects.settings.name') }}</label>\n\t\t\t\t<N8nInput\n\t\t\t\t\tid=\"projectName\"\n\t\t\t\t\tref=\"nameInput\"\n\t\t\t\t\tv-model=\"formData.name\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tname=\"name\"\n\t\t\t\t\tdata-test-id=\"project-settings-name-input\"\n\t\t\t\t\t@input=\"onNameInput\"\n\t\t\t\t/>\n\t\t\t</fieldset>\n\t\t\t<fieldset>\n\t\t\t\t<label for=\"projectMembers\">{{\n\t\t\t\t\tlocale.baseText('projects.settings.projectMembers')\n\t\t\t\t}}</label>\n\t\t\t\t<N8nUserSelect\n\t\t\t\t\tid=\"projectMembers\"\n\t\t\t\t\tclass=\"mb-s\"\n\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t:users=\"usersList\"\n\t\t\t\t\t:current-user-id=\"usersStore.currentUser?.id\"\n\t\t\t\t\t:placeholder=\"$locale.baseText('workflows.shareModal.select.placeholder')\"\n\t\t\t\t\tdata-test-id=\"project-members-select\"\n\t\t\t\t\t@update:model-value=\"onAddMember\"\n\t\t\t\t>\n\t\t\t\t\t<template #prefix>\n\t\t\t\t\t\t<N8nIcon icon=\"search\" />\n\t\t\t\t\t</template>\n\t\t\t\t</N8nUserSelect>\n\t\t\t\t<N8nUsersList\n\t\t\t\t\t:actions=\"[]\"\n\t\t\t\t\t:users=\"formData.relations\"\n\t\t\t\t\t:current-user-id=\"usersStore.currentUser?.id\"\n\t\t\t\t\t:delete-label=\"$locale.baseText('workflows.shareModal.list.delete')\"\n\t\t\t\t>\n\t\t\t\t\t<template #actions=\"{ user }\">\n\t\t\t\t\t\t<div :class=\"$style.buttons\">\n\t\t\t\t\t\t\t<N8nSelect\n\t\t\t\t\t\t\t\tclass=\"mr-2xs\"\n\t\t\t\t\t\t\t\t:model-value=\"user?.role || projectRoles[0].role\"\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t@update:model-value=\"onRoleAction(user, $event)\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<N8nOption\n\t\t\t\t\t\t\t\t\tv-for=\"role in projectRoles\"\n\t\t\t\t\t\t\t\t\t:key=\"role.role\"\n\t\t\t\t\t\t\t\t\t:value=\"role.role\"\n\t\t\t\t\t\t\t\t\t:label=\"role.name\"\n\t\t\t\t\t\t\t\t\t:disabled=\"!role.licensed\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{{ role.name\n\t\t\t\t\t\t\t\t\t}}<span\n\t\t\t\t\t\t\t\t\t\tv-if=\"!role.licensed\"\n\t\t\t\t\t\t\t\t\t\t:class=\"$style.upgrade\"\n\t\t\t\t\t\t\t\t\t\t@click=\"upgradeDialogVisible = true\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t&nbsp;-&nbsp;{{ locale.baseText('generic.upgrade') }}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</N8nOption>\n\t\t\t\t\t\t\t</N8nSelect>\n\t\t\t\t\t\t\t<N8nButton\n\t\t\t\t\t\t\t\ttype=\"tertiary\"\n\t\t\t\t\t\t\t\tnative-type=\"button\"\n\t\t\t\t\t\t\t\tsquare\n\t\t\t\t\t\t\t\ticon=\"trash\"\n\t\t\t\t\t\t\t\tdata-test-id=\"project-user-remove\"\n\t\t\t\t\t\t\t\t@click=\"onRoleAction(user, 'remove')\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t</N8nUsersList>\n\t\t\t</fieldset>\n\t\t\t<fieldset :class=\"$style.buttons\">\n\t\t\t\t<div>\n\t\t\t\t\t<small v-if=\"isDirty\" class=\"mr-2xs\">{{\n\t\t\t\t\t\tlocale.baseText('projects.settings.message.unsavedChanges')\n\t\t\t\t\t}}</small>\n\t\t\t\t\t<N8nButton\n\t\t\t\t\t\t:disabled=\"!isDirty\"\n\t\t\t\t\t\ttype=\"secondary\"\n\t\t\t\t\t\tnative-type=\"button\"\n\t\t\t\t\t\tclass=\"mr-2xs\"\n\t\t\t\t\t\tdata-test-id=\"project-settings-cancel-button\"\n\t\t\t\t\t\t@click.stop.prevent=\"onCancel\"\n\t\t\t\t\t\t>{{ locale.baseText('projects.settings.button.cancel') }}</N8nButton\n\t\t\t\t\t>\n\t\t\t\t</div>\n\t\t\t\t<N8nButton\n\t\t\t\t\t:disabled=\"!isDirty\"\n\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\tdata-test-id=\"project-settings-save-button\"\n\t\t\t\t\t>{{ locale.baseText('projects.settings.button.save') }}</N8nButton\n\t\t\t\t>\n\t\t\t</fieldset>\n\t\t\t<fieldset>\n\t\t\t\t<hr class=\"mb-2xl\" />\n\t\t\t\t<h3 class=\"mb-xs\">{{ locale.baseText('projects.settings.danger.title') }}</h3>\n\t\t\t\t<small>{{ locale.baseText('projects.settings.danger.message') }}</small>\n\t\t\t\t<br />\n\t\t\t\t<N8nButton\n\t\t\t\t\ttype=\"tertiary\"\n\t\t\t\t\tnative-type=\"button\"\n\t\t\t\t\tclass=\"mt-s\"\n\t\t\t\t\tdata-test-id=\"project-settings-delete-button\"\n\t\t\t\t\t@click.stop.prevent=\"onDelete\"\n\t\t\t\t\t>{{ locale.baseText('projects.settings.danger.deleteProject') }}</N8nButton\n\t\t\t\t>\n\t\t\t</fieldset>\n\t\t</form>\n\t\t<ProjectDeleteDialog\n\t\t\tv-model=\"dialogVisible\"\n\t\t\t:current-project=\"projectsStore.currentProject\"\n\t\t\t:projects=\"projects\"\n\t\t\t@confirm-delete=\"onConfirmDelete\"\n\t\t/>\n\t\t<ProjectRoleUpgradeDialog\n\t\t\tv-model=\"upgradeDialogVisible\"\n\t\t\t:limit=\"projectsStore.teamProjectsLimit\"\n\t\t\t:plan-name=\"cloudPlanStore.currentPlanData?.displayName\"\n\t\t/>\n\t</div>\n</template>\n\n<style lang=\"scss\" module>\n.projectSettings {\n\tdisplay: grid;\n\twidth: 100%;\n\tjustify-items: center;\n\tgrid-auto-rows: max-content;\n\n\tform {\n\t\twidth: 100%;\n\t\tmax-width: 1280px;\n\t\tpadding: 0 var(--spacing-2xl);\n\n\t\tfieldset {\n\t\t\tpadding-bottom: var(--spacing-2xl);\n\n\t\t\tlabel {\n\t\t\t\tdisplay: block;\n\t\t\t\tmargin-bottom: var(--spacing-xs);\n\t\t\t\tfont-size: var(--font-size-xl);\n\t\t\t}\n\t\t}\n\t}\n}\n\n.header {\n\twidth: 100%;\n\tmax-width: 1280px;\n\tpadding: var(--spacing-l) var(--spacing-2xl) 0;\n}\n\n.upgrade {\n\tcursor: pointer;\n}\n\n.buttons {\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\talign-items: center;\n}\n</style>\n"],"names":["props","__props","visible","_useModel","emit","__emit","locale","useI18n","selectedProject","ref","operation","wipeConfirmText","isValid","computed","onDelete","_a","uiStore","useUIStore","goToUpgrade","usersStore","useUsersStore","projectsStore","useProjectsStore","rolesStore","useRolesStore","cloudPlanStore","useCloudPlanStore","toast","useToast","router","useRouter","telemetry","useTelemetry","dialogVisible","upgradeDialogVisible","isDirty","formData","projectRoleTranslations","nameInput","usersList","user","r","projects","project","projectRoles","role","firstLicensedRole","onAddMember","userId","id","firstName","lastName","email","relation","onRoleAction","index","onNameInput","onCancel","deepCopy","_b","makeFormDataDiff","diff","cr","currentRelation","ar","sendTelemetry","onSubmit","error","onConfirmDelete","transferId","projectName","VIEWS","selectProjectNameIfMatchesDefault","watch","nextTick","onBeforeMount"],"mappings":"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"}