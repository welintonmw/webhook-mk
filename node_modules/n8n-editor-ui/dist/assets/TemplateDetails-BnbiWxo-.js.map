{"version":3,"file":"TemplateDetails-BnbiWxo-.js","sources":["../../src/components/TemplateDetailsBlock.vue","../../src/utils/templates/typeGuards.ts","../../src/components/TemplateDetails.vue"],"sourcesContent":["<template>\n\t<div :class=\"$style.block\">\n\t\t<div :class=\"$style.header\">\n\t\t\t<n8n-heading tag=\"h3\" size=\"small\" color=\"text-base\">{{ title }}</n8n-heading>\n\t\t</div>\n\t\t<div :class=\"$style.content\">\n\t\t\t<slot></slot>\n\t\t</div>\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n\tname: 'TemplateDetailsBlock',\n\tprops: {\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t},\n\t},\n});\n</script>\n\n<style lang=\"scss\" module>\n.block {\n\tpadding-bottom: var(--spacing-xl);\n}\n\n.header {\n\tpadding: 0 0 var(--spacing-4xs);\n\tborder-bottom: var(--border-base);\n}\n\n.content {\n\tpadding: var(--spacing-xs) 0 0;\n}\n</style>\n","import type {\n\tITemplatesCollection,\n\tITemplatesCollectionFull,\n\tITemplatesWorkflow,\n} from '@/Interface';\n\nexport function isTemplatesWorkflow(\n\ttemplate: ITemplatesWorkflow | ITemplatesCollection | ITemplatesCollectionFull | null,\n): template is ITemplatesWorkflow {\n\treturn !!template && 'totalViews' in template;\n}\n\nexport function isFullTemplatesCollection(\n\ttemplate: ITemplatesWorkflow | ITemplatesCollectionFull | ITemplatesCollection | null,\n): template is ITemplatesCollectionFull {\n\treturn !!template && 'description' in template && 'categories' in template;\n}\n","<template>\n\t<div>\n\t\t<n8n-loading :loading=\"loading\" :rows=\"5\" variant=\"p\" />\n\n\t\t<TemplateDetailsBlock\n\t\t\tv-if=\"!loading && template && template.nodes.length > 0\"\n\t\t\t:title=\"blockTitle\"\n\t\t>\n\t\t\t<div :class=\"$style.icons\">\n\t\t\t\t<div\n\t\t\t\t\tv-for=\"node in filterTemplateNodes(template.nodes)\"\n\t\t\t\t\t:key=\"node.name\"\n\t\t\t\t\t:class=\"$style.icon\"\n\t\t\t\t>\n\t\t\t\t\t<NodeIcon\n\t\t\t\t\t\t:node-type=\"node\"\n\t\t\t\t\t\t:size=\"24\"\n\t\t\t\t\t\t:show-tooltip=\"true\"\n\t\t\t\t\t\t@click=\"redirectToSearchPage(node)\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</TemplateDetailsBlock>\n\n\t\t<TemplateDetailsBlock\n\t\t\tv-if=\"!loading && isFullTemplatesCollection(template) && template.categories.length > 0\"\n\t\t\t:title=\"$locale.baseText('template.details.categories')\"\n\t\t>\n\t\t\t<n8n-tags :tags=\"template.categories\" @click:tag=\"redirectToCategory\" />\n\t\t</TemplateDetailsBlock>\n\n\t\t<TemplateDetailsBlock\n\t\t\tv-if=\"!loading && template\"\n\t\t\t:title=\"$locale.baseText('template.details.details')\"\n\t\t>\n\t\t\t<div :class=\"$style.text\">\n\t\t\t\t<n8n-text v-if=\"isTemplatesWorkflow(template)\" size=\"small\" color=\"text-base\">\n\t\t\t\t\t{{ $locale.baseText('template.details.created') }}\n\t\t\t\t\t<TimeAgo :date=\"template.createdAt\" />\n\t\t\t\t\t{{ $locale.baseText('template.details.by') }}\n\t\t\t\t\t{{ template.user ? template.user.username : 'n8n team' }}\n\t\t\t\t</n8n-text>\n\t\t\t</div>\n\t\t\t<div :class=\"$style.text\">\n\t\t\t\t<n8n-text\n\t\t\t\t\tv-if=\"isTemplatesWorkflow(template) && template.totalViews !== 0\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tcolor=\"text-base\"\n\t\t\t\t>\n\t\t\t\t\t{{ $locale.baseText('template.details.viewed') }}\n\t\t\t\t\t{{ abbreviateNumber(template.totalViews) }}\n\t\t\t\t\t{{ $locale.baseText('template.details.times') }}\n\t\t\t\t</n8n-text>\n\t\t\t</div>\n\t\t</TemplateDetailsBlock>\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\nimport type { PropType } from 'vue';\nimport TemplateDetailsBlock from '@/components/TemplateDetailsBlock.vue';\nimport NodeIcon from '@/components/NodeIcon.vue';\nimport { filterTemplateNodes } from '@/utils/nodeTypesUtils';\nimport { abbreviateNumber } from '@/utils/typesUtils';\nimport type {\n\tITemplatesCollection,\n\tITemplatesCollectionFull,\n\tITemplatesNode,\n\tITemplatesWorkflow,\n} from '@/Interface';\nimport { mapStores } from 'pinia';\nimport { useTemplatesStore } from '@/stores/templates.store';\nimport TimeAgo from '@/components/TimeAgo.vue';\nimport { isFullTemplatesCollection, isTemplatesWorkflow } from '@/utils/templates/typeGuards';\n\nexport default defineComponent({\n\tname: 'TemplateDetails',\n\tcomponents: {\n\t\tNodeIcon,\n\t\tTemplateDetailsBlock,\n\t\tTimeAgo,\n\t},\n\tprops: {\n\t\ttemplate: {\n\t\t\ttype: Object as PropType<\n\t\t\t\tITemplatesWorkflow | ITemplatesCollection | ITemplatesCollectionFull | null\n\t\t\t>,\n\t\t\trequired: true,\n\t\t},\n\t\tblockTitle: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tloading: {\n\t\t\ttype: Boolean,\n\t\t},\n\t},\n\tcomputed: {\n\t\t...mapStores(useTemplatesStore),\n\t},\n\tmethods: {\n\t\tabbreviateNumber,\n\t\tfilterTemplateNodes,\n\t\tredirectToCategory(id: string) {\n\t\t\tthis.templatesStore.resetSessionId();\n\t\t\tvoid this.$router.push(`/templates?categories=${id}`);\n\t\t},\n\t\tredirectToSearchPage(node: ITemplatesNode) {\n\t\t\tthis.templatesStore.resetSessionId();\n\t\t\tvoid this.$router.push(`/templates?search=${node.displayName}`);\n\t\t},\n\t\tisFullTemplatesCollection,\n\t\tisTemplatesWorkflow,\n\t},\n});\n</script>\n<style lang=\"scss\" module>\n.icons {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n}\n.icon {\n\tmargin-right: var(--spacing-xs);\n\tmargin-bottom: var(--spacing-xs);\n\tcursor: pointer;\n}\n.text {\n\tpadding-bottom: var(--spacing-xs);\n}\n</style>\n"],"names":["_sfc_main$1","defineComponent","_resolveComponent","_normalizeClass","_ctx","_component_n8n_heading","_createTextVNode","_toDisplayString","_createElementVNode","isTemplatesWorkflow","template","isFullTemplatesCollection","_sfc_main","NodeIcon","TemplateDetailsBlock","TimeAgo","mapStores","useTemplatesStore","abbreviateNumber","filterTemplateNodes","id","node","_openBlock","_createElementBlock","_createVNode","_component_n8n_loading","loading","_createBlock","_component_TemplateDetailsBlock","_withCtx","_Fragment","_renderList","_component_NodeIcon","_component_n8n_tags","redirectToCategory","_component_n8n_text","_component_TimeAgo","_createCommentVNode"],"mappings":"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"}