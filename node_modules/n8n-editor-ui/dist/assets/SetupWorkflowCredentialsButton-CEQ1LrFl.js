import{j as _,a4 as E,e as S,bG as T,ep as w,dd as b,eq as i,x as k}from"./index-1OxaEeO3.js";import{G as v,e as n,d as y,y as M,ag as N,l as g,M as I,u as x,R as A}from"./vendor-Dv5OeN6t.js";import"./pinia-sugP77Im.js";import"./n8n-4UEsHtUL.js";import"./axios-Mm4CS0gO.js";import"./esprima-next-nhoSXAeq.js";import"./luxon-CLwAIbs0.js";import"./lodash-es-CZ1inz46.js";import"./flatted-DN8lQ2XG.js";import"./@vueuse/core-BBHtM40w.js";import"./@n8n/permissions-BxxteU-C.js";import"./dateformat-CIxnBJXX.js";import"./vue-i18n-Delvyc9x.js";import"./uuid-SoommWqA.js";import"./@n8n/codemirror-lang-sql-DBO6T13I.js";import"./@lezer/common-B6ct0j_v.js";import"./prettier-bS6l4Vb1.js";import"./@jsplumb/util-DS-9vq_E.js";import"./@jsplumb/core-CVBraiyY.js";import"./@jsplumb/common-CF-b-6-M.js";import"./@jsplumb/connector-bezier-BGU0Ovbw.js";import"./@jsplumb/browser-ui-BVF2KoJK.js";import"./codemirror-lang-html-n8n-CWDO6_kP.js";import"./@n8n/codemirror-lang-Dl0FW_KM.js";import"./fast-json-stable-stringify-BOfzoJX1.js";import"./timeago.js-CiyKClrF.js";import"./qrcode.vue-BGkPba5A.js";import"./vue3-touch-events-mV0oX_Sl.js";import"./chart.js-343vZi4M.js";const pe=v({__name:"SetupWorkflowCredentialsButton",setup(B){const o=_(),m=E(),a=S(),u=T(),d=k(),p=n(()=>{var e,t;return!!((t=(e=o.workflow)==null?void 0:e.meta)!=null&&t.templateCredsSetupCompleted)}),l=n(()=>{if(p.value)return!0;const e=o.getNodes();return e.length?e.every(t=>w(m,t)):!1}),c=n(()=>{var r,s;const e=u.isFeatureEnabled(b),t=!!((s=(r=o.workflow)==null?void 0:r.meta)!=null&&s.templateId);return!e||!t||p.value?!1:!l.value}),f=y(l,e=>{e&&(o.addToWorkflowMetadata({templateCredsSetupCompleted:!0}),f())}),C=()=>{a.openModal(i)};return M(()=>{a.closeModal(i)}),(e,t)=>{const r=N("n8n-button");return c.value?(g(),I(r,{key:0,label:x(d).baseText("nodeView.setupTemplate"),size:"large",icon:"box-open",type:"secondary",onClick:t[0]||(t[0]=s=>C())},null,8,["label"])):A("",!0)}}});export{pe as default};
//# sourceMappingURL=SetupWorkflowCredentialsButton-CEQ1LrFl.js.map
