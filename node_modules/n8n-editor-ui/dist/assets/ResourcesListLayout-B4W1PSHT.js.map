{"version":3,"file":"ResourcesListLayout-B4W1PSHT.js","sources":["../../src/components/layouts/PageViewLayout.vue","../../src/components/layouts/PageViewLayoutList.vue","../../src/components/forms/ResourceFiltersDropdown.vue","../../src/components/layouts/ResourcesListLayout.vue"],"sourcesContent":["<template>\n\t<div :class=\"$style.wrapper\">\n\t\t<slot name=\"header\" />\n\t\t<main :class=\"$style.content\">\n\t\t\t<slot />\n\t\t</main>\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\nimport { mapStores } from 'pinia';\nimport { useUIStore } from '@/stores/ui.store';\n\nexport default defineComponent({\n\tname: 'PageViewLayout',\n\tdata() {\n\t\treturn {\n\t\t\tloading: false,\n\t\t};\n\t},\n\tcomputed: {\n\t\t...mapStores(useUIStore),\n\t},\n});\n</script>\n\n<style lang=\"scss\" module>\n.wrapper {\n\tdisplay: grid;\n\theight: 100%;\n\twidth: 100%;\n\tmax-width: 1280px;\n\tgrid-template-rows: auto 1fr;\n\tbox-sizing: border-box;\n\talign-content: start;\n\tpadding: var(--spacing-l) var(--spacing-2xl) 0;\n}\n\n.content {\n\tdisplay: grid;\n\theight: 100%;\n}\n</style>\n","<script lang=\"ts\">\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n\tprops: {\n\t\toverflow: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n});\n</script>\n\n<template>\n\t<div :class=\"{ [$style.wrapper]: true, [$style.overflow]: overflow }\">\n\t\t<div :class=\"$style.list\">\n\t\t\t<div v-if=\"$slots.header\" :class=\"$style.header\">\n\t\t\t\t<slot name=\"header\" />\n\t\t\t</div>\n\t\t\t<div :class=\"$style.body\">\n\t\t\t\t<slot />\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<style lang=\"scss\" module>\n.wrapper {\n\tdisplay: grid;\n\theight: 100%;\n}\n\n.overflow {\n\t.list {\n\t\t.body {\n\t\t\toverflow: auto;\n\t\t}\n\t}\n}\n\n.list {\n\tdisplay: grid;\n\tgrid-template-rows: auto 1fr;\n\theight: 100%;\n\t.body {\n\t\tposition: relative;\n\t\theight: 100%;\n\t}\n}\n</style>\n","<template>\n\t<n8n-popover trigger=\"click\" width=\"304\" size=\"large\">\n\t\t<template #reference>\n\t\t\t<n8n-button\n\t\t\t\ticon=\"filter\"\n\t\t\t\ttype=\"tertiary\"\n\t\t\t\t:active=\"hasFilters\"\n\t\t\t\t:class=\"$style['filter-button']\"\n\t\t\t\tdata-test-id=\"resources-list-filters-trigger\"\n\t\t\t>\n\t\t\t\t<n8n-badge v-show=\"filtersLength > 0\" theme=\"primary\" class=\"mr-4xs\">\n\t\t\t\t\t{{ filtersLength }}\n\t\t\t\t</n8n-badge>\n\t\t\t\t{{ $locale.baseText('forms.resourceFiltersDropdown.filters') }}\n\t\t\t</n8n-button>\n\t\t</template>\n\t\t<div :class=\"$style['filters-dropdown']\" data-test-id=\"resources-list-filters-dropdown\">\n\t\t\t<slot :filters=\"modelValue\" :set-key-value=\"setKeyValue\" />\n\t\t\t<enterprise-edition\n\t\t\t\tv-if=\"shareable && projectsStore.isProjectHome\"\n\t\t\t\t:features=\"[EnterpriseEditionFeature.Sharing]\"\n\t\t\t>\n\t\t\t\t<n8n-input-label\n\t\t\t\t\t:label=\"$locale.baseText('forms.resourceFiltersDropdown.owner')\"\n\t\t\t\t\t:bold=\"false\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tcolor=\"text-base\"\n\t\t\t\t\tclass=\"mb-3xs\"\n\t\t\t\t/>\n\t\t\t\t<ProjectSharing\n\t\t\t\t\tv-model=\"selectedProject\"\n\t\t\t\t\tclass=\"pt-2xs\"\n\t\t\t\t\t:projects=\"projectsStore.projects\"\n\t\t\t\t\t:placeholder=\"$locale.baseText('forms.resourceFiltersDropdown.owner.placeholder')\"\n\t\t\t\t\t:empty-options-text=\"$locale.baseText('projects.sharing.noMatchingProjects')\"\n\t\t\t\t\t@update:model-value=\"setKeyValue('homeProject', ($event as ProjectSharingData).id)\"\n\t\t\t\t/>\n\t\t\t</enterprise-edition>\n\t\t\t<div v-if=\"hasFilters\" :class=\"[$style['filters-dropdown-footer'], 'mt-s']\">\n\t\t\t\t<n8n-link @click=\"resetFilters\">\n\t\t\t\t\t{{ $locale.baseText('forms.resourceFiltersDropdown.reset') }}\n\t\t\t\t</n8n-link>\n\t\t\t</div>\n\t\t</div>\n\t</n8n-popover>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\nimport { EnterpriseEditionFeature } from '@/constants';\nimport { mapStores } from 'pinia';\nimport { useProjectsStore } from '@/stores/projects.store';\nimport type { PropType } from 'vue';\nimport type { ProjectSharingData } from '@/types/projects.types';\nimport ProjectSharing from '@/components/Projects/ProjectSharing.vue';\n\nexport type IResourceFiltersType = Record<string, boolean | string | string[]>;\n\nexport default defineComponent({\n\tcomponents: {\n\t\tProjectSharing,\n\t},\n\tprops: {\n\t\tmodelValue: {\n\t\t\ttype: Object as PropType<IResourceFiltersType>,\n\t\t\tdefault: () => ({}),\n\t\t},\n\t\tkeys: {\n\t\t\ttype: Array as PropType<string[]>,\n\t\t\tdefault: () => [],\n\t\t},\n\t\tshareable: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\treset: {\n\t\t\ttype: Function as PropType<() => void>,\n\t\t\tdefault: () => {},\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tEnterpriseEditionFeature,\n\t\t\tselectedProject: null as ProjectSharingData | null,\n\t\t};\n\t},\n\tcomputed: {\n\t\t...mapStores(useProjectsStore),\n\t\tfiltersLength(): number {\n\t\t\tlet length = 0;\n\n\t\t\tthis.keys.forEach((key) => {\n\t\t\t\tif (key === 'search') {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst value = this.modelValue[key];\n\t\t\t\tlength += (Array.isArray(value) ? value.length > 0 : value !== '') ? 1 : 0;\n\t\t\t});\n\n\t\t\treturn length;\n\t\t},\n\t\thasFilters(): boolean {\n\t\t\treturn this.filtersLength > 0;\n\t\t},\n\t},\n\twatch: {\n\t\tfiltersLength(value: number) {\n\t\t\tthis.$emit('update:filtersLength', value);\n\t\t},\n\t},\n\tasync beforeMount() {\n\t\tawait this.projectsStore.getAllProjects();\n\t\tthis.selectedProject =\n\t\t\tthis.projectsStore.projects.find((project) => project.id === this.modelValue.homeProject) ??\n\t\t\tnull;\n\t},\n\tmethods: {\n\t\tsetKeyValue(key: string, value: unknown) {\n\t\t\tconst filters = {\n\t\t\t\t...this.modelValue,\n\t\t\t\t[key]: value,\n\t\t\t};\n\n\t\t\tthis.$emit('update:modelValue', filters);\n\t\t},\n\t\tresetFilters() {\n\t\t\tif (this.reset) {\n\t\t\t\tthis.reset();\n\t\t\t} else {\n\t\t\t\tconst filters = { ...this.modelValue };\n\n\t\t\t\tthis.keys.forEach((key) => {\n\t\t\t\t\tfilters[key] = Array.isArray(this.modelValue[key]) ? [] : '';\n\t\t\t\t});\n\n\t\t\t\tthis.$emit('update:modelValue', filters);\n\t\t\t}\n\t\t\tthis.selectedProject = null;\n\t\t},\n\t},\n});\n</script>\n\n<style lang=\"scss\" module>\n.filter-button {\n\theight: 40px;\n\talign-items: center;\n}\n\n.filters-dropdown {\n\twidth: 280px;\n\tpadding-bottom: var(--spacing-s);\n}\n\n.filters-dropdown-footer {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n}\n</style>\n","<template>\n\t<PageViewLayout>\n\t\t<template #header> <slot name=\"header\" /> </template>\n\t\t<div v-if=\"loading\">\n\t\t\t<n8n-loading :class=\"[$style['header-loading'], 'mb-l']\" variant=\"custom\" />\n\t\t\t<n8n-loading :class=\"[$style['card-loading'], 'mb-2xs']\" variant=\"custom\" />\n\t\t\t<n8n-loading :class=\"$style['card-loading']\" variant=\"custom\" />\n\t\t</div>\n\t\t<template v-else>\n\t\t\t<div v-if=\"resources.length === 0\">\n\t\t\t\t<slot name=\"empty\">\n\t\t\t\t\t<n8n-action-box\n\t\t\t\t\t\tdata-test-id=\"empty-resources-list\"\n\t\t\t\t\t\temoji=\"ðŸ‘‹\"\n\t\t\t\t\t\t:heading=\"\n\t\t\t\t\t\t\ti18n.baseText(\n\t\t\t\t\t\t\t\tusersStore.currentUser?.firstName\n\t\t\t\t\t\t\t\t\t? (`${resourceKey}.empty.heading` as BaseTextKey)\n\t\t\t\t\t\t\t\t\t: (`${resourceKey}.empty.heading.userNotSetup` as BaseTextKey),\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tinterpolate: { name: usersStore.currentUser?.firstName ?? '' },\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\"\n\t\t\t\t\t\t:description=\"i18n.baseText(`${resourceKey}.empty.description` as BaseTextKey)\"\n\t\t\t\t\t\t:button-text=\"i18n.baseText(`${resourceKey}.empty.button` as BaseTextKey)\"\n\t\t\t\t\t\tbutton-type=\"secondary\"\n\t\t\t\t\t\t@click:button=\"onAddButtonClick\"\n\t\t\t\t\t/>\n\t\t\t\t</slot>\n\t\t\t</div>\n\t\t\t<PageViewLayoutList v-else :overflow=\"type !== 'list'\">\n\t\t\t\t<template #header>\n\t\t\t\t\t<div :class=\"$style['filters-row']\">\n\t\t\t\t\t\t<div :class=\"$style.filters\">\n\t\t\t\t\t\t\t<n8n-input\n\t\t\t\t\t\t\t\tref=\"search\"\n\t\t\t\t\t\t\t\t:model-value=\"filtersModel.search\"\n\t\t\t\t\t\t\t\t:class=\"[$style['search'], 'mr-2xs']\"\n\t\t\t\t\t\t\t\t:placeholder=\"i18n.baseText(`${resourceKey}.search.placeholder` as BaseTextKey)\"\n\t\t\t\t\t\t\t\tclearable\n\t\t\t\t\t\t\t\tdata-test-id=\"resources-list-search\"\n\t\t\t\t\t\t\t\t@update:model-value=\"onSearch\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<template #prefix>\n\t\t\t\t\t\t\t\t\t<n8n-icon icon=\"search\" />\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</n8n-input>\n\t\t\t\t\t\t\t<ResourceFiltersDropdown\n\t\t\t\t\t\t\t\tv-if=\"showFiltersDropdown\"\n\t\t\t\t\t\t\t\t:keys=\"filterKeys\"\n\t\t\t\t\t\t\t\t:reset=\"resetFilters\"\n\t\t\t\t\t\t\t\t:model-value=\"filtersModel\"\n\t\t\t\t\t\t\t\t:shareable=\"shareable\"\n\t\t\t\t\t\t\t\t@update:model-value=\"onUpdateFilters\"\n\t\t\t\t\t\t\t\t@update:filters-length=\"onUpdateFiltersLength\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<template #default=\"resourceFiltersSlotProps\">\n\t\t\t\t\t\t\t\t\t<slot name=\"filters\" v-bind=\"resourceFiltersSlotProps\" />\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</ResourceFiltersDropdown>\n\t\t\t\t\t\t\t<div :class=\"$style['sort-and-filter']\">\n\t\t\t\t\t\t\t\t<n8n-select v-model=\"sortBy\" data-test-id=\"resources-list-sort\">\n\t\t\t\t\t\t\t\t\t<n8n-option\n\t\t\t\t\t\t\t\t\t\tv-for=\"sortOption in sortOptions\"\n\t\t\t\t\t\t\t\t\t\t:key=\"sortOption\"\n\t\t\t\t\t\t\t\t\t\tdata-test-id=\"resources-list-sort-item\"\n\t\t\t\t\t\t\t\t\t\t:value=\"sortOption\"\n\t\t\t\t\t\t\t\t\t\t:label=\"i18n.baseText(`${resourceKey}.sort.${sortOption}` as BaseTextKey)\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</n8n-select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<slot name=\"add-button\" :disabled=\"disabled\">\n\t\t\t\t\t\t\t<n8n-button\n\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t:disabled=\"disabled\"\n\t\t\t\t\t\t\t\tdata-test-id=\"resources-list-add\"\n\t\t\t\t\t\t\t\t@click=\"onAddButtonClick\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{ i18n.baseText(`${resourceKey}.add` as BaseTextKey) }}\n\t\t\t\t\t\t\t</n8n-button>\n\t\t\t\t\t\t</slot>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<slot name=\"callout\"></slot>\n\n\t\t\t\t\t<div v-if=\"showFiltersDropdown\" v-show=\"hasFilters\" class=\"mt-xs\">\n\t\t\t\t\t\t<n8n-info-tip :bold=\"false\">\n\t\t\t\t\t\t\t{{ i18n.baseText(`${resourceKey}.filters.active` as BaseTextKey) }}\n\t\t\t\t\t\t\t<n8n-link data-test-id=\"workflows-filter-reset\" size=\"small\" @click=\"resetFilters\">\n\t\t\t\t\t\t\t\t{{ i18n.baseText(`${resourceKey}.filters.active.reset` as BaseTextKey) }}\n\t\t\t\t\t\t\t</n8n-link>\n\t\t\t\t\t\t</n8n-info-tip>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"pb-xs\" />\n\t\t\t\t</template>\n\n\t\t\t\t<slot name=\"preamble\" />\n\n\t\t\t\t<div\n\t\t\t\t\tv-if=\"filteredAndSortedResources.length > 0\"\n\t\t\t\t\tref=\"listWrapperRef\"\n\t\t\t\t\t:class=\"$style.listWrapper\"\n\t\t\t\t>\n\t\t\t\t\t<n8n-recycle-scroller\n\t\t\t\t\t\tv-if=\"type === 'list'\"\n\t\t\t\t\t\tdata-test-id=\"resources-list\"\n\t\t\t\t\t\t:items=\"filteredAndSortedResources\"\n\t\t\t\t\t\t:item-size=\"itemSize()\"\n\t\t\t\t\t\titem-key=\"id\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<template #default=\"{ item, updateItemSize }\">\n\t\t\t\t\t\t\t<slot :data=\"item\" :update-item-size=\"updateItemSize\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</n8n-recycle-scroller>\n\t\t\t\t\t<n8n-datatable\n\t\t\t\t\t\tv-if=\"type === 'datatable'\"\n\t\t\t\t\t\tdata-test-id=\"resources-table\"\n\t\t\t\t\t\t:class=\"$style.datatable\"\n\t\t\t\t\t\t:columns=\"getColumns()\"\n\t\t\t\t\t\t:rows=\"filteredAndSortedResources\"\n\t\t\t\t\t\t:current-page=\"currentPage\"\n\t\t\t\t\t\t:rows-per-page=\"rowsPerPage\"\n\t\t\t\t\t\t@update:current-page=\"setCurrentPage\"\n\t\t\t\t\t\t@update:rows-per-page=\"setRowsPerPage\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<template #row=\"{ columns, row }\">\n\t\t\t\t\t\t\t<slot :data=\"row\" :columns=\"columns\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</n8n-datatable>\n\t\t\t\t</div>\n\n\t\t\t\t<n8n-text v-else color=\"text-base\" size=\"medium\" data-test-id=\"resources-list-empty\">\n\t\t\t\t\t{{ i18n.baseText(`${resourceKey}.noResults` as BaseTextKey) }}\n\t\t\t\t</n8n-text>\n\n\t\t\t\t<slot name=\"postamble\" />\n\t\t\t</PageViewLayoutList>\n\t\t</template>\n\t</PageViewLayout>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, nextTick, ref, onMounted, watch } from 'vue';\nimport type { PropType } from 'vue';\n\nimport type { ProjectSharingData } from '@/types/projects.types';\nimport PageViewLayout from '@/components/layouts/PageViewLayout.vue';\nimport PageViewLayoutList from '@/components/layouts/PageViewLayoutList.vue';\nimport ResourceFiltersDropdown from '@/components/forms/ResourceFiltersDropdown.vue';\nimport { useUsersStore } from '@/stores/users.store';\nimport type { DatatableColumn } from 'n8n-design-system';\nimport { useI18n } from '@/composables/useI18n';\nimport { useDebounce } from '@/composables/useDebounce';\nimport { useTelemetry } from '@/composables/useTelemetry';\nimport { useRoute } from 'vue-router';\n\n// eslint-disable-next-line unused-imports/no-unused-imports, @typescript-eslint/no-unused-vars\nimport type { BaseTextKey } from '@/plugins/i18n';\nimport type { Scope } from '@n8n/permissions';\n\nexport type IResource = {\n\tid: string;\n\tname: string;\n\tvalue: string;\n\tupdatedAt?: string;\n\tcreatedAt?: string;\n\thomeProject?: ProjectSharingData;\n\tscopes?: Scope[];\n\ttype?: string;\n\tsharedWithProjects?: ProjectSharingData[];\n};\n\ninterface IFilters {\n\tsearch: string;\n\thomeProject: string;\n\t[key: string]: boolean | string | string[];\n}\n\ntype IResourceKeyType = 'credentials' | 'workflows';\n\nexport default defineComponent({\n\tname: 'ResourcesListLayout',\n\tcomponents: {\n\t\tPageViewLayout,\n\t\tPageViewLayoutList,\n\t\tResourceFiltersDropdown,\n\t},\n\tprops: {\n\t\tresourceKey: {\n\t\t\ttype: String,\n\t\t\tdefault: '' as IResourceKeyType,\n\t\t},\n\t\tdisplayName: {\n\t\t\ttype: Function as PropType<(resource: IResource) => string>,\n\t\t\tdefault: (resource: IResource) => resource.name,\n\t\t},\n\t\tresources: {\n\t\t\ttype: Array as PropType<IResource[]>,\n\t\t\tdefault: (): IResource[] => [],\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tinitialize: {\n\t\t\ttype: Function as PropType<() => Promise<void>>,\n\t\t\tdefault: () => async () => {},\n\t\t},\n\t\tfilters: {\n\t\t\ttype: Object,\n\t\t\tdefault: (): IFilters => ({ search: '', homeProject: '' }),\n\t\t},\n\t\tadditionalFiltersHandler: {\n\t\t\ttype: Function,\n\t\t\trequired: false,\n\t\t\tdefault: undefined,\n\t\t},\n\t\tshareable: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\tshowFiltersDropdown: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\tsortFns: {\n\t\t\ttype: Object as PropType<Record<string, (a: IResource, b: IResource) => number>>,\n\t\t\tdefault: (): Record<string, (a: IResource, b: IResource) => number> => ({}),\n\t\t},\n\t\tsortOptions: {\n\t\t\ttype: Array as PropType<string[]>,\n\t\t\tdefault: () => ['lastUpdated', 'lastCreated', 'nameAsc', 'nameDesc'],\n\t\t},\n\t\ttype: {\n\t\t\ttype: String as PropType<'datatable' | 'list'>,\n\t\t\tdefault: 'list',\n\t\t},\n\t\ttypeProps: {\n\t\t\ttype: Object as PropType<{ itemSize: number } | { columns: DatatableColumn[] }>,\n\t\t\tdefault: () => ({\n\t\t\t\titemSize: 80,\n\t\t\t}),\n\t\t},\n\t},\n\temits: ['update:filters', 'click:add', 'sort'],\n\tsetup(props, { emit }) {\n\t\tconst route = useRoute();\n\t\tconst i18n = useI18n();\n\t\tconst { callDebounced } = useDebounce();\n\t\tconst usersStore = useUsersStore();\n\t\tconst telemetry = useTelemetry();\n\n\t\tconst loading = ref(true);\n\t\tconst sortBy = ref(props.sortOptions[0]);\n\t\tconst hasFilters = ref(false);\n\t\tconst filtersModel = ref(props.filters);\n\t\tconst currentPage = ref(1);\n\t\tconst rowsPerPage = ref<number>(10);\n\t\tconst resettingFilters = ref(false);\n\t\tconst search = ref<HTMLElement | null>(null);\n\n\t\t//computed\n\n\t\tconst filterKeys = computed(() => {\n\t\t\treturn Object.keys(filtersModel.value);\n\t\t});\n\n\t\tconst filteredAndSortedResources = computed(() => {\n\t\t\tconst filtered = props.resources.filter((resource) => {\n\t\t\t\tlet matches = true;\n\n\t\t\t\tif (filtersModel.value.homeProject) {\n\t\t\t\t\tmatches =\n\t\t\t\t\t\tmatches &&\n\t\t\t\t\t\t!!(resource.homeProject && resource.homeProject.id === filtersModel.value.homeProject);\n\t\t\t\t}\n\n\t\t\t\tif (filtersModel.value.search) {\n\t\t\t\t\tconst searchString = filtersModel.value.search.toLowerCase();\n\t\t\t\t\tmatches = matches && props.displayName(resource).toLowerCase().includes(searchString);\n\t\t\t\t}\n\n\t\t\t\tif (props.additionalFiltersHandler) {\n\t\t\t\t\tmatches = props.additionalFiltersHandler(resource, filtersModel.value, matches);\n\t\t\t\t}\n\n\t\t\t\treturn matches;\n\t\t\t});\n\n\t\t\treturn filtered.sort((a, b) => {\n\t\t\t\tswitch (sortBy.value) {\n\t\t\t\t\tcase 'lastUpdated':\n\t\t\t\t\t\treturn props.sortFns.lastUpdated\n\t\t\t\t\t\t\t? props.sortFns.lastUpdated(a, b)\n\t\t\t\t\t\t\t: new Date(b.updatedAt ?? '').valueOf() - new Date(a.updatedAt ?? '').valueOf();\n\t\t\t\t\tcase 'lastCreated':\n\t\t\t\t\t\treturn props.sortFns.lastCreated\n\t\t\t\t\t\t\t? props.sortFns.lastCreated(a, b)\n\t\t\t\t\t\t\t: new Date(b.createdAt ?? '').valueOf() - new Date(a.createdAt ?? '').valueOf();\n\t\t\t\t\tcase 'nameAsc':\n\t\t\t\t\t\treturn props.sortFns.nameAsc\n\t\t\t\t\t\t\t? props.sortFns.nameAsc(a, b)\n\t\t\t\t\t\t\t: props.displayName(a).trim().localeCompare(props.displayName(b).trim());\n\t\t\t\t\tcase 'nameDesc':\n\t\t\t\t\t\treturn props.sortFns.nameDesc\n\t\t\t\t\t\t\t? props.sortFns.nameDesc(a, b)\n\t\t\t\t\t\t\t: props.displayName(b).trim().localeCompare(props.displayName(a).trim());\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn props.sortFns[sortBy.value] ? props.sortFns[sortBy.value](a, b) : 0;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\t//methods\n\n\t\tconst focusSearchInput = () => {\n\t\t\tif (search.value) {\n\t\t\t\tsearch.value.focus();\n\t\t\t}\n\t\t};\n\n\t\tconst hasAppliedFilters = (): boolean => {\n\t\t\treturn !!filterKeys.value.find(\n\t\t\t\t(key) =>\n\t\t\t\t\tkey !== 'search' &&\n\t\t\t\t\t(Array.isArray(props.filters[key])\n\t\t\t\t\t\t? props.filters[key].length > 0\n\t\t\t\t\t\t: props.filters[key] !== ''),\n\t\t\t);\n\t\t};\n\n\t\tconst setRowsPerPage = (numberOfRowsPerPage: number) => {\n\t\t\trowsPerPage.value = numberOfRowsPerPage;\n\t\t};\n\n\t\tconst setCurrentPage = (page: number) => {\n\t\t\tcurrentPage.value = page;\n\t\t};\n\n\t\tconst sendFiltersTelemetry = (source: string) => {\n\t\t\t// Prevent sending multiple telemetry events when resetting filters\n\t\t\t// Timeout is required to wait for search debounce to be over\n\t\t\tif (resettingFilters.value) {\n\t\t\t\tif (source !== 'reset') {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tsetTimeout(() => (resettingFilters.value = false), 1500);\n\t\t\t}\n\n\t\t\tconst filters = filtersModel.value as Record<string, string[] | string | boolean>;\n\t\t\tconst filtersSet: string[] = [];\n\t\t\tconst filterValues: Array<string[] | string | boolean | null> = [];\n\n\t\t\tObject.keys(filters).forEach((key) => {\n\t\t\t\tif (filters[key]) {\n\t\t\t\t\tfiltersSet.push(key);\n\t\t\t\t\tfilterValues.push(key === 'search' ? null : filters[key]);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\ttelemetry.track(`User set filters in ${props.resourceKey} list`, {\n\t\t\t\tfilters_set: filtersSet,\n\t\t\t\tfilter_values: filterValues,\n\t\t\t\t[`${props.resourceKey}_total_in_view`]: props.resources.length,\n\t\t\t\t[`${props.resourceKey}_after_filtering`]: filteredAndSortedResources.value.length,\n\t\t\t});\n\t\t};\n\n\t\tconst onAddButtonClick = (e: Event) => {\n\t\t\temit('click:add', e);\n\t\t};\n\n\t\tconst onUpdateFilters = (e: Event) => {\n\t\t\temit('update:filters', e);\n\t\t};\n\n\t\tconst resetFilters = () => {\n\t\t\tObject.keys(filtersModel.value).forEach((key) => {\n\t\t\t\tfiltersModel.value[key] = Array.isArray(filtersModel.value[key]) ? [] : '';\n\t\t\t});\n\n\t\t\tresettingFilters.value = true;\n\t\t\tsendFiltersTelemetry('reset');\n\t\t\temit('update:filters', filtersModel.value);\n\t\t};\n\n\t\tconst itemSize = () => {\n\t\t\tif ('itemSize' in props.typeProps) {\n\t\t\t\treturn props.typeProps.itemSize;\n\t\t\t}\n\t\t\treturn 0;\n\t\t};\n\n\t\tconst getColumns = () => {\n\t\t\tif ('columns' in props.typeProps) {\n\t\t\t\treturn props.typeProps.columns;\n\t\t\t}\n\t\t\treturn {};\n\t\t};\n\n\t\tconst sendSortingTelemetry = () => {\n\t\t\ttelemetry.track(`User changed sorting in ${props.resourceKey} list`, {\n\t\t\t\tsorting: sortBy.value,\n\t\t\t});\n\t\t};\n\n\t\tconst onUpdateFiltersLength = (length: number) => {\n\t\t\thasFilters.value = length > 0;\n\t\t};\n\n\t\tconst onSearch = (s: string) => {\n\t\t\tfiltersModel.value.search = s;\n\t\t\temit('update:filters', filtersModel.value);\n\t\t};\n\n\t\t//watchers\n\n\t\twatch(\n\t\t\t() => props.filters,\n\t\t\t(value) => {\n\t\t\t\tfiltersModel.value = value;\n\t\t\t},\n\t\t);\n\n\t\twatch(\n\t\t\t() => filtersModel.value.homeProject,\n\t\t\t() => {\n\t\t\t\tsendFiltersTelemetry('homeProject');\n\t\t\t},\n\t\t);\n\n\t\twatch(\n\t\t\t() => filtersModel.value.search,\n\t\t\t() => callDebounced(sendFiltersTelemetry, { debounceTime: 1000, trailing: true }, 'search'),\n\t\t);\n\n\t\twatch(\n\t\t\t() => sortBy.value,\n\t\t\t(newValue) => {\n\t\t\t\temit('sort', newValue);\n\t\t\t\tsendSortingTelemetry();\n\t\t\t},\n\t\t);\n\n\t\twatch(\n\t\t\t() => route?.params?.projectId,\n\t\t\t() => {\n\t\t\t\tresetFilters();\n\t\t\t},\n\t\t);\n\n\t\tonMounted(async () => {\n\t\t\tawait props.initialize();\n\t\t\tloading.value = false;\n\t\t\tawait nextTick();\n\n\t\t\tfocusSearchInput();\n\n\t\t\tif (hasAppliedFilters()) {\n\t\t\t\thasFilters.value = true;\n\t\t\t}\n\t\t});\n\n\t\treturn {\n\t\t\tloading,\n\t\t\ti18n,\n\t\t\tsearch,\n\t\t\tusersStore,\n\t\t\tfilterKeys,\n\t\t\tcurrentPage,\n\t\t\trowsPerPage,\n\t\t\tfilteredAndSortedResources,\n\t\t\thasFilters,\n\t\t\tsortBy,\n\t\t\tresettingFilters,\n\t\t\tfiltersModel,\n\t\t\tsendFiltersTelemetry,\n\t\t\tgetColumns,\n\t\t\titemSize,\n\t\t\tonAddButtonClick,\n\t\t\tonUpdateFiltersLength,\n\t\t\tonUpdateFilters,\n\t\t\tresetFilters,\n\t\t\tcallDebounced,\n\t\t\tsetCurrentPage,\n\t\t\tsetRowsPerPage,\n\t\t\tonSearch,\n\t\t};\n\t},\n});\n</script>\n\n<style lang=\"scss\" module>\n.filters-row {\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\tjustify-content: space-between;\n}\n\n.filters {\n\tdisplay: grid;\n\tgrid-auto-flow: column;\n\tgrid-auto-columns: max-content;\n\tgap: var(--spacing-2xs);\n\talign-items: center;\n}\n\n.search {\n\tmax-width: 240px;\n}\n\n.listWrapper {\n\tposition: absolute;\n\theight: 100%;\n\twidth: 100%;\n}\n\n.sort-and-filter {\n\twhite-space: nowrap;\n}\n\n.header-loading {\n\theight: 36px;\n}\n\n.card-loading {\n\theight: 69px;\n}\n\n.datatable {\n\tpadding-bottom: var(--spacing-s);\n}\n</style>\n"],"names":["_sfc_main$3","defineComponent","mapStores","useUIStore","_sfc_render","_ctx","$style","$setup","$data","$options","_normalizeClass","_renderSlot","_sfc_main$2","_cache","$slots","_openBlock","_createElementBlock","_createCommentVNode","_sfc_main$1","ProjectSharing","EnterpriseEditionFeature","useProjectsStore","length","key","value","project","filters","_resolveComponent","_createBlock","_component_n8n_popover","_withCtx","_createVNode","_component_n8n_button","_withDirectives","_component_n8n_badge","_createTextVNode","_toDisplayString","_vShow","_createElementVNode","setKeyValue","shareable","projectsStore","_component_enterprise_edition","$locale","_component_n8n_input_label","selectedProject","_component_ProjectSharing","$event","resetFilters","_component_n8n_link","_sfc_main","PageViewLayout","PageViewLayoutList","ResourceFiltersDropdown","resource","props","emit","route","useRoute","i18n","useI18n","callDebounced","useDebounce","usersStore","useUsersStore","telemetry","useTelemetry","loading","ref","sortBy","hasFilters","filtersModel","currentPage","rowsPerPage","resettingFilters","search","filterKeys","computed","filteredAndSortedResources","matches","searchString","a","b","focusSearchInput","hasAppliedFilters","setRowsPerPage","numberOfRowsPerPage","setCurrentPage","page","sendFiltersTelemetry","source","filtersSet","filterValues","onAddButtonClick","e","onUpdateFilters","itemSize","getColumns","sendSortingTelemetry","onUpdateFiltersLength","onSearch","s","watch","newValue","_a","onMounted","nextTick","_hoisted_2","_hoisted_3","_component_PageViewLayout","_hoisted_1","_component_n8n_loading","_Fragment","_component_n8n_action_box","resourceKey","_component_PageViewLayoutList","_component_n8n_input","_component_n8n_icon","showFiltersDropdown","_component_ResourceFiltersDropdown","_normalizeProps","_guardReactiveProps","resourceFiltersSlotProps","_component_n8n_select","_renderList","sortOption","_component_n8n_option","disabled","_component_n8n_info_tip","_hoisted_4","type","_component_n8n_recycle_scroller","item","updateItemSize","_component_n8n_datatable","columns","row","_component_n8n_text"],"mappings":"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"}