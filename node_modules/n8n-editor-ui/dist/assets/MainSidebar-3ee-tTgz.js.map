{"version":3,"file":"MainSidebar-3ee-tTgz.js","sources":["../../src/components/GiftNotificationIcon.vue","../../src/components/executions/ExecutionsUsage.vue","../../src/api/ctas.ts","../../src/components/BecomeTemplateCreatorCta/becomeTemplateCreatorStore.ts","../../src/components/BecomeTemplateCreatorCta/BecomeTemplateCreatorCta.vue","../../src/components/MainSidebarSourceControl.vue","../../src/components/Projects/ProjectNavigation.vue","../../src/components/MainSidebar.vue"],"sourcesContent":["<template>\n\t<div :class=\"$style['gift-icon']\">\n\t\t<font-awesome-icon icon=\"gift\" />\n\t\t<div :class=\"$style['notification']\">\n\t\t\t<div></div>\n\t\t</div>\n\t</div>\n</template>\n\n<style lang=\"scss\" module>\n.gift-icon {\n\tdisplay: flex;\n\tposition: relative;\n\n\tsvg {\n\t\tmargin-right: 0 !important;\n\t}\n\n\t.notification {\n\t\theight: 0.47em;\n\t\twidth: 0.47em;\n\t\tborder-radius: 50%;\n\t\tcolor: $gift-notification-active-color;\n\t\tposition: absolute;\n\t\tbackground-color: $gift-notification-outer-color;\n\t\tright: -0.3em;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\ttop: -0.148em;\n\n\t\tdiv {\n\t\t\theight: 0.36em;\n\t\t\twidth: 0.36em;\n\t\t\tbackground-color: $gift-notification-inner-color;\n\t\t\tborder-radius: 50%;\n\t\t}\n\t}\n}\n</style>\n","<template>\n\t<div :class=\"$style.container\">\n\t\t<div v-if=\"isTrialExpired\" :class=\"$style.usageText\">\n\t\t\t<n8n-text size=\"small\" color=\"danger\">\n\t\t\t\t{{ locale.baseText('executionUsage.expired.text') }}\n\t\t\t</n8n-text>\n\t\t</div>\n\t\t<div v-else-if=\"!isTrialExpired && trialHasExecutionsLeft\" :class=\"$style.usageText\">\n\t\t\t<i18n-t tag=\"span\" keypath=\"executionUsage.currentUsage\">\n\t\t\t\t<template #text>\n\t\t\t\t\t<n8n-text size=\"small\" color=\"text-dark\">\n\t\t\t\t\t\t{{ locale.baseText('executionUsage.currentUsage.text') }}\n\t\t\t\t\t</n8n-text>\n\t\t\t\t</template>\n\t\t\t\t<template #count>\n\t\t\t\t\t<n8n-text size=\"small\" :bold=\"true\" color=\"warning\">\n\t\t\t\t\t\t{{\n\t\t\t\t\t\t\tlocale.baseText('executionUsage.currentUsage.count', {\n\t\t\t\t\t\t\t\tadjustToNumber: daysLeftOnTrial || 0,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}}\n\t\t\t\t\t</n8n-text>\n\t\t\t\t</template>\n\t\t\t</i18n-t>\n\t\t</div>\n\t\t<div v-else-if=\"!trialHasExecutionsLeft\" :class=\"$style.usageText\">\n\t\t\t<n8n-text size=\"small\">\n\t\t\t\t{{ locale.baseText('executionUsage.ranOutOfExecutions.text') }}\n\t\t\t</n8n-text>\n\t\t</div>\n\t\t<div v-if=\"!isTrialExpired\" :class=\"$style.usageCounter\">\n\t\t\t<div :class=\"$style.progressBarDiv\">\n\t\t\t\t<progress\n\t\t\t\t\t:class=\"[\n\t\t\t\t\t\ttrialHasExecutionsLeft ? $style.progressBarSuccess : $style.progressBarDanger,\n\t\t\t\t\t\t$style.progressBar,\n\t\t\t\t\t]\"\n\t\t\t\t\t:value=\"currentExecutionsWithThreshold\"\n\t\t\t\t\t:max=\"maxExecutions\"\n\t\t\t\t></progress>\n\t\t\t</div>\n\t\t\t<div :class=\"$style.executionsCountSection\">\n\t\t\t\t<n8n-text size=\"xsmall\" :color=\"trialHasExecutionsLeft ? 'text-dark' : 'danger'\">\n\t\t\t\t\t{{ currentExecutions }}/{{ maxExecutions }}\n\t\t\t\t</n8n-text>\n\t\t\t\t<n8n-text size=\"xsmall\" :color=\"trialHasExecutionsLeft ? 'text-dark' : 'danger'\">{{\n\t\t\t\t\tlocale.baseText('executionUsage.label.executions')\n\t\t\t\t}}</n8n-text>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div :class=\"$style.upgradeButtonSection\">\n\t\t\t<n8n-button\n\t\t\t\t:label=\"locale.baseText('executionUsage.button.upgrade')\"\n\t\t\t\tsize=\"xmini\"\n\t\t\t\ticon=\"gem\"\n\t\t\t\ttype=\"success\"\n\t\t\t\t:block=\"true\"\n\t\t\t\t@click=\"onUpgradeClicked\"\n\t\t\t/>\n\t\t</div>\n\t</div>\n</template>\n\n<script setup lang=\"ts\">\nimport { i18n as locale } from '@/plugins/i18n';\nimport { DateTime } from 'luxon';\nimport type { CloudPlanAndUsageData } from '@/Interface';\nimport { computed } from 'vue';\nimport { useUIStore } from '@/stores/ui.store';\n\nconst PROGRESS_BAR_MINIMUM_THRESHOLD = 8;\n\nconst props = defineProps<{ cloudPlanData: CloudPlanAndUsageData | null }>();\n\nconst now = DateTime.utc();\n\nconst daysLeftOnTrial = computed(() => {\n\tconst { days = 0 } = getPlanExpirationDate().diff(now, ['days']).toObject();\n\treturn Math.ceil(days);\n});\n\nconst isTrialExpired = computed(() => {\n\tif (!props.cloudPlanData?.expirationDate) return false;\n\tconst trialEndsAt = DateTime.fromISO(props.cloudPlanData.expirationDate);\n\treturn now.toMillis() > trialEndsAt.toMillis();\n});\n\nconst getPlanExpirationDate = () => DateTime.fromISO(props?.cloudPlanData?.expirationDate ?? '');\n\nconst trialHasExecutionsLeft = computed(() => {\n\tif (!props.cloudPlanData?.usage) return 0;\n\treturn props.cloudPlanData.usage.executions < props.cloudPlanData.monthlyExecutionsLimit;\n});\n\nconst currentExecutions = computed(() => {\n\tif (!props.cloudPlanData?.usage) return 0;\n\tconst usedExecutions = props.cloudPlanData.usage.executions;\n\tconst executionsQuota = props.cloudPlanData.monthlyExecutionsLimit;\n\treturn usedExecutions > executionsQuota ? executionsQuota : usedExecutions;\n});\n\nconst currentExecutionsWithThreshold = computed(() => {\n\tif (!props.cloudPlanData?.usage) return 0;\n\tconst usedExecutions = props.cloudPlanData.usage.executions;\n\tconst executionsQuota = props.cloudPlanData.monthlyExecutionsLimit;\n\tconst threshold = (PROGRESS_BAR_MINIMUM_THRESHOLD * executionsQuota) / 100;\n\treturn usedExecutions < threshold ? threshold : usedExecutions;\n});\n\nconst maxExecutions = computed(() => {\n\tif (!props.cloudPlanData?.monthlyExecutionsLimit) return 0;\n\treturn props.cloudPlanData.monthlyExecutionsLimit;\n});\n\nconst onUpgradeClicked = () => {\n\tvoid useUIStore().goToUpgrade('canvas-nav', 'upgrade-canvas-nav', 'redirect');\n};\n</script>\n\n<style module lang=\"scss\">\n.container {\n\tdisplay: flex;\n\tflex-direction: column;\n\tbackground-color: var(--color-background-light);\n\tborder: var(--border-base);\n\tborder-right: 0;\n}\n\n.progressBarDiv {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.progressBar {\n\twidth: 62.4px;\n\tborder: 0;\n\theight: 5px;\n\tborder-radius: 20px;\n\tbackground-color: var(--color-foreground-base);\n}\n.progressBar::-webkit-progress-bar {\n\twidth: 62.4px;\n\tborder: 0;\n\theight: 5px;\n\tborder-radius: 20px;\n\tbackground-color: var(--color-foreground-base);\n}\n.progressBar::-moz-progress-bar {\n\twidth: 62.4px;\n\tborder: 0;\n\theight: 5px;\n\tborder-radius: 20px;\n\tbackground-color: var(--color-foreground-base);\n}\n\n.progressBarSuccess::-moz-progress-bar {\n\tbackground: var(--color-foreground-xdark);\n\tborder-radius: 20px;\n}\n\n.progressBarSuccess::-webkit-progress-value {\n\tbackground: var(--color-foreground-xdark);\n\tborder-radius: 20px;\n}\n\n.progressBarDanger::-webkit-progress-value {\n\tbackground: var(--color-danger);\n\tborder-radius: 20px;\n}\n\n.progressBarDanger::-moz-progress-bar {\n\tbackground: var(--color-danger);\n}\n\n.usageText {\n\tmargin-left: var(--spacing-s);\n\tmargin-right: var(--spacing-s);\n\tmargin-top: var(--spacing-xs);\n\tline-height: var(--spacing-xs);\n}\n\n.usageCounter {\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-top: var(--spacing-2xs);\n\tfont-size: var(--font-size-3xs);\n}\n\n.danger {\n\tcolor: var(--color-danger);\n}\n\n.executionsCountSection {\n\tmargin-left: var(--spacing-xs);\n}\n\n.upgradeButtonSection {\n\tmargin: var(--spacing-s);\n}\n</style>\n","import type { IRestApiContext } from '@/Interface';\nimport { get } from '@/utils/apiUtils';\n\nexport async function getBecomeCreatorCta(context: IRestApiContext): Promise<boolean> {\n\tconst response = await get(context.baseUrl, '/cta/become-creator');\n\n\treturn response;\n}\n","import { DateTime } from 'luxon';\nimport { defineStore } from 'pinia';\nimport { computed, ref } from 'vue';\nimport { STORES } from '@/constants';\nimport { useCloudPlanStore } from '@/stores/cloudPlan.store';\nimport { useStorage } from '@/composables/useStorage';\nimport { useRootStore } from '@/stores/root.store';\nimport { getBecomeCreatorCta } from '@/api/ctas';\n\nconst LOCAL_STORAGE_KEY = 'N8N_BECOME_TEMPLATE_CREATOR_CTA_DISMISSED_AT';\nconst RESHOW_DISMISSED_AFTER_DAYS = 30;\nconst POLL_INTERVAL_IN_MS = 15 * 60 * 1000; // 15 minutes\n\nexport const useBecomeTemplateCreatorStore = defineStore(STORES.BECOME_TEMPLATE_CREATOR, () => {\n\tconst cloudPlanStore = useCloudPlanStore();\n\tconst rootStore = useRootStore();\n\n\t//#region State\n\n\tconst dismissedAt = useStorage(LOCAL_STORAGE_KEY);\n\tconst ctaMeetsCriteria = ref(false);\n\tconst monitorCtasTimer = ref<ReturnType<typeof setInterval> | null>(null);\n\n\t//#endregion State\n\n\t//#region Computed\n\n\tconst isDismissed = computed(() => {\n\t\treturn dismissedAt.value ? !hasEnoughTimePassedSinceDismissal(dismissedAt.value) : false;\n\t});\n\n\tconst showBecomeCreatorCta = computed(() => {\n\t\treturn ctaMeetsCriteria.value && !cloudPlanStore.userIsTrialing && !isDismissed.value;\n\t});\n\n\t//#endregion Computed\n\n\t//#region Actions\n\n\tconst dismissCta = () => {\n\t\tdismissedAt.value = DateTime.now().toISO();\n\t};\n\n\tconst fetchBecomeCreatorCta = async () => {\n\t\tconst becomeCreatorCta = await getBecomeCreatorCta(rootStore.restApiContext);\n\n\t\tctaMeetsCriteria.value = becomeCreatorCta;\n\t};\n\n\tconst fetchUserCtasIfNeeded = async () => {\n\t\tif (isDismissed.value || cloudPlanStore.userIsTrialing || ctaMeetsCriteria.value) {\n\t\t\treturn;\n\t\t}\n\n\t\tawait fetchBecomeCreatorCta();\n\t};\n\n\tconst startMonitoringCta = () => {\n\t\tif (monitorCtasTimer.value) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Initial check after 1s so we don't bombard the API immediately during startup\n\t\tsetTimeout(fetchUserCtasIfNeeded, 1000);\n\n\t\tmonitorCtasTimer.value = setInterval(fetchUserCtasIfNeeded, POLL_INTERVAL_IN_MS);\n\t};\n\n\tconst stopMonitoringCta = () => {\n\t\tif (!monitorCtasTimer.value) {\n\t\t\treturn;\n\t\t}\n\n\t\tclearInterval(monitorCtasTimer.value);\n\t\tmonitorCtasTimer.value = null;\n\t};\n\n\t//#endregion Actions\n\n\treturn {\n\t\tshowBecomeCreatorCta,\n\t\tdismissCta,\n\t\tstartMonitoringCta,\n\t\tstopMonitoringCta,\n\t};\n});\n\nfunction hasEnoughTimePassedSinceDismissal(dismissedAt: string) {\n\tconst reshowAtTime = DateTime.fromISO(dismissedAt).plus({\n\t\tdays: RESHOW_DISMISSED_AFTER_DAYS,\n\t});\n\n\treturn reshowAtTime <= DateTime.now();\n}\n","<script setup lang=\"ts\">\nimport { useTelemetry } from '@/composables/useTelemetry';\nimport { useBecomeTemplateCreatorStore } from './becomeTemplateCreatorStore';\nimport { useI18n } from '@/composables/useI18n';\n\nconst i18n = useI18n();\nconst store = useBecomeTemplateCreatorStore();\nconst telemetry = useTelemetry();\n\nconst onClick = () => {\n\ttelemetry.track('User clicked become creator CTA');\n};\n</script>\n\n<template>\n\t<div\n\t\tv-if=\"store.showBecomeCreatorCta\"\n\t\t:class=\"$style.container\"\n\t\tdata-test-id=\"become-template-creator-cta\"\n\t>\n\t\t<div :class=\"$style.textAndCloseButton\">\n\t\t\t<p :class=\"$style.text\">\n\t\t\t\t{{ i18n.baseText('becomeCreator.text') }}\n\t\t\t</p>\n\n\t\t\t<button\n\t\t\t\t:class=\"$style.closeButton\"\n\t\t\t\tdata-test-id=\"close-become-template-creator-cta\"\n\t\t\t\t@click=\"store.dismissCta()\"\n\t\t\t>\n\t\t\t\t<n8n-icon icon=\"times\" size=\"xsmall\" :title=\"i18n.baseText('generic.close')\" />\n\t\t\t</button>\n\t\t</div>\n\n\t\t<n8n-button\n\t\t\t:class=\"$style.becomeCreatorButton\"\n\t\t\t:label=\"i18n.baseText('becomeCreator.buttonText')\"\n\t\t\tsize=\"xmini\"\n\t\t\ttype=\"secondary\"\n\t\t\telement=\"a\"\n\t\t\thref=\"https://creators.n8n.io/hub\"\n\t\t\ttarget=\"_blank\"\n\t\t\t@click=\"onClick\"\n\t\t/>\n\t</div>\n</template>\n\n<style module lang=\"scss\">\n.container {\n\tdisplay: flex;\n\tflex-direction: column;\n\tbackground-color: var(--color-background-light);\n\tborder: var(--border-base);\n\tborder-right: 0;\n}\n\n.textAndCloseButton {\n\tdisplay: flex;\n\tmargin-top: var(--spacing-xs);\n\tmargin-left: var(--spacing-s);\n\tmargin-right: var(--spacing-2xs);\n}\n\n.text {\n\tflex: 1;\n\tfont-size: var(--font-size-3xs);\n\tline-height: var(--font-line-height-compact);\n}\n\n.closeButton {\n\tflex: 0;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\twidth: var(--spacing-2xs);\n\theight: var(--spacing-2xs);\n\tborder: none;\n\tcolor: var(--color-text-light);\n\tbackground-color: transparent;\n\tcursor: pointer;\n}\n\n.becomeCreatorButton {\n\tmargin: var(--spacing-s);\n}\n</style>\n","<script lang=\"ts\" setup>\nimport { computed, nextTick, ref } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { createEventBus } from 'n8n-design-system/utils';\nimport { useI18n } from '@/composables/useI18n';\nimport { hasPermission } from '@/utils/rbac/permissions';\nimport { useToast } from '@/composables/useToast';\nimport { useLoadingService } from '@/composables/useLoadingService';\nimport { useUIStore } from '@/stores/ui.store';\nimport { useSourceControlStore } from '@/stores/sourceControl.store';\nimport { SOURCE_CONTROL_PULL_MODAL_KEY, SOURCE_CONTROL_PUSH_MODAL_KEY, VIEWS } from '@/constants';\nimport type { SourceControlAggregatedFile } from '../Interface';\nimport { sourceControlEventBus } from '@/event-bus/source-control';\n\nconst props = defineProps<{\n\tisCollapsed: boolean;\n}>();\n\nconst responseStatuses = {\n\tCONFLICT: 409,\n};\n\nconst router = useRouter();\nconst loadingService = useLoadingService();\nconst uiStore = useUIStore();\nconst sourceControlStore = useSourceControlStore();\nconst toast = useToast();\nconst i18n = useI18n();\n\nconst eventBus = createEventBus();\nconst tooltipOpenDelay = ref(300);\n\nconst currentBranch = computed(() => {\n\treturn sourceControlStore.preferences.branchName;\n});\nconst sourceControlAvailable = computed(\n\t() =>\n\t\tsourceControlStore.isEnterpriseSourceControlEnabled &&\n\t\thasPermission(['rbac'], { rbac: { scope: 'sourceControl:manage' } }),\n);\n\nasync function pushWorkfolder() {\n\tloadingService.startLoading();\n\tloadingService.setLoadingText(i18n.baseText('settings.sourceControl.loading.checkingForChanges'));\n\ttry {\n\t\tconst status = await sourceControlStore.getAggregatedStatus();\n\n\t\tuiStore.openModalWithData({\n\t\t\tname: SOURCE_CONTROL_PUSH_MODAL_KEY,\n\t\t\tdata: { eventBus, status },\n\t\t});\n\t} catch (error) {\n\t\ttoast.showError(error, i18n.baseText('error'));\n\t} finally {\n\t\tloadingService.stopLoading();\n\t\tloadingService.setLoadingText(i18n.baseText('genericHelpers.loading'));\n\t}\n}\n\nasync function pullWorkfolder() {\n\tloadingService.startLoading();\n\tloadingService.setLoadingText(i18n.baseText('settings.sourceControl.loading.pull'));\n\n\ttry {\n\t\tconst status: SourceControlAggregatedFile[] =\n\t\t\t((await sourceControlStore.pullWorkfolder(\n\t\t\t\tfalse,\n\t\t\t)) as unknown as SourceControlAggregatedFile[]) || [];\n\n\t\tconst statusWithoutLocallyCreatedWorkflows = status.filter((file) => {\n\t\t\treturn !(file.type === 'workflow' && file.status === 'created' && file.location === 'local');\n\t\t});\n\t\tif (statusWithoutLocallyCreatedWorkflows.length === 0) {\n\t\t\ttoast.showMessage({\n\t\t\t\ttitle: i18n.baseText('settings.sourceControl.pull.upToDate.title'),\n\t\t\t\tmessage: i18n.baseText('settings.sourceControl.pull.upToDate.description'),\n\t\t\t\ttype: 'success',\n\t\t\t});\n\t\t} else {\n\t\t\ttoast.showMessage({\n\t\t\t\ttitle: i18n.baseText('settings.sourceControl.pull.success.title'),\n\t\t\t\ttype: 'success',\n\t\t\t});\n\n\t\t\tconst incompleteFileTypes = ['variables', 'credential'];\n\t\t\tconst hasVariablesOrCredentials = (status || []).some((file) => {\n\t\t\t\treturn incompleteFileTypes.includes(file.type);\n\t\t\t});\n\n\t\t\tif (hasVariablesOrCredentials) {\n\t\t\t\tvoid nextTick(() => {\n\t\t\t\t\ttoast.showMessage({\n\t\t\t\t\t\tmessage: i18n.baseText('settings.sourceControl.pull.oneLastStep.description'),\n\t\t\t\t\t\ttitle: i18n.baseText('settings.sourceControl.pull.oneLastStep.title'),\n\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\tduration: 0,\n\t\t\t\t\t\tshowClose: true,\n\t\t\t\t\t\toffset: 0,\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tsourceControlEventBus.emit('pull');\n\t} catch (error) {\n\t\tconst errorResponse = error.response;\n\n\t\tif (errorResponse?.status === responseStatuses.CONFLICT) {\n\t\t\tuiStore.openModalWithData({\n\t\t\t\tname: SOURCE_CONTROL_PULL_MODAL_KEY,\n\t\t\t\tdata: { eventBus, status: errorResponse.data.data },\n\t\t\t});\n\t\t} else {\n\t\t\ttoast.showError(error, 'Error');\n\t\t}\n\t} finally {\n\t\tloadingService.stopLoading();\n\t\tloadingService.setLoadingText(i18n.baseText('genericHelpers.loading'));\n\t}\n}\n\nconst goToSourceControlSetup = async () => {\n\tawait router.push({ name: VIEWS.SOURCE_CONTROL });\n};\n</script>\n\n<template>\n\t<div\n\t\tv-if=\"sourceControlAvailable\"\n\t\t:class=\"{\n\t\t\t[$style.sync]: true,\n\t\t\t[$style.collapsed]: isCollapsed,\n\t\t\t[$style.isConnected]: sourceControlStore.isEnterpriseSourceControlEnabled,\n\t\t}\"\n\t\t:style=\"{ borderLeftColor: sourceControlStore.preferences.branchColor }\"\n\t\tdata-test-id=\"main-sidebar-source-control\"\n\t>\n\t\t<div\n\t\t\tv-if=\"sourceControlStore.preferences.connected && sourceControlStore.preferences.branchName\"\n\t\t\t:class=\"$style.connected\"\n\t\t\tdata-test-id=\"main-sidebar-source-control-connected\"\n\t\t>\n\t\t\t<span :class=\"$style.branchName\">\n\t\t\t\t<n8n-icon icon=\"code-branch\" />\n\t\t\t\t{{ currentBranch }}\n\t\t\t</span>\n\t\t\t<div :class=\"{ 'pt-xs': !isCollapsed }\">\n\t\t\t\t<n8n-tooltip :disabled=\"!isCollapsed\" :show-after=\"tooltipOpenDelay\" placement=\"right\">\n\t\t\t\t\t<template #content>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{{ i18n.baseText('settings.sourceControl.button.pull') }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t\t<n8n-button\n\t\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t\t'mr-2xs': !isCollapsed,\n\t\t\t\t\t\t\t'mb-2xs': isCollapsed && !sourceControlStore.preferences.branchReadOnly,\n\t\t\t\t\t\t}\"\n\t\t\t\t\t\ticon=\"arrow-down\"\n\t\t\t\t\t\ttype=\"tertiary\"\n\t\t\t\t\t\tsize=\"mini\"\n\t\t\t\t\t\t:square=\"isCollapsed\"\n\t\t\t\t\t\t:label=\"isCollapsed ? '' : i18n.baseText('settings.sourceControl.button.pull')\"\n\t\t\t\t\t\t@click=\"pullWorkfolder\"\n\t\t\t\t\t/>\n\t\t\t\t</n8n-tooltip>\n\t\t\t\t<n8n-tooltip\n\t\t\t\t\tv-if=\"!sourceControlStore.preferences.branchReadOnly\"\n\t\t\t\t\t:disabled=\"!isCollapsed\"\n\t\t\t\t\t:show-after=\"tooltipOpenDelay\"\n\t\t\t\t\tplacement=\"right\"\n\t\t\t\t>\n\t\t\t\t\t<template #content>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{{ i18n.baseText('settings.sourceControl.button.push') }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t\t<n8n-button\n\t\t\t\t\t\t:square=\"isCollapsed\"\n\t\t\t\t\t\t:label=\"isCollapsed ? '' : i18n.baseText('settings.sourceControl.button.push')\"\n\t\t\t\t\t\ticon=\"arrow-up\"\n\t\t\t\t\t\ttype=\"tertiary\"\n\t\t\t\t\t\tsize=\"mini\"\n\t\t\t\t\t\t@click=\"pushWorkfolder\"\n\t\t\t\t\t/>\n\t\t\t\t</n8n-tooltip>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<style lang=\"scss\" module>\n.sync {\n\tpadding: var(--spacing-s) var(--spacing-s) var(--spacing-s) var(--spacing-l);\n\tmargin: var(--spacing-2xs) 0 calc(var(--spacing-2xs) * -1);\n\tbackground: var(--color-background-light);\n\tborder-top: var(--border-width-base) var(--border-style-base) var(--color-foreground-base);\n\tfont-size: var(--font-size-2xs);\n\n\t&.isConnected {\n\t\tpadding-left: var(--spacing-m);\n\t\tborder-left: var(--spacing-3xs) var(--border-style-base) var(--color-foreground-base);\n\n\t\t&.collapsed {\n\t\t\tpadding-left: var(--spacing-xs);\n\t\t}\n\t}\n\n\t&:empty {\n\t\tdisplay: none;\n\t}\n\n\tbutton {\n\t\tfont-size: var(--font-size-3xs);\n\t}\n}\n\n.branchName {\n\twhite-space: normal;\n\tline-break: anywhere;\n}\n\n.collapsed {\n\ttext-align: center;\n\tpadding-left: var(--spacing-s);\n\tpadding-right: var(--spacing-s);\n\n\t.connected {\n\t\t> span {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n</style>\n","<script lang=\"ts\" setup>\nimport { ref, computed, onMounted, nextTick } from 'vue';\nimport { useRouter } from 'vue-router';\nimport type { IMenuItem } from 'n8n-design-system/types';\nimport { useI18n } from '@/composables/useI18n';\nimport { VIEWS } from '@/constants';\nimport { useProjectsStore } from '@/stores/projects.store';\nimport type { ProjectListItem } from '@/types/projects.types';\nimport { useToast } from '@/composables/useToast';\nimport { useUIStore } from '@/stores/ui.store';\n\ntype Props = {\n\tcollapsed: boolean;\n\tplanName?: string;\n};\n\nconst props = defineProps<Props>();\n\nconst router = useRouter();\nconst locale = useI18n();\nconst toast = useToast();\nconst projectsStore = useProjectsStore();\nconst uiStore = useUIStore();\n\nconst isCreatingProject = ref(false);\nconst isComponentMounted = ref(false);\nconst home = computed<IMenuItem>(() => ({\n\tid: 'home',\n\tlabel: locale.baseText('projects.menu.home'),\n\ticon: 'home',\n\troute: {\n\t\tto: { name: VIEWS.HOMEPAGE },\n\t},\n}));\nconst addProject = computed<IMenuItem>(() => ({\n\tid: 'addProject',\n\tlabel: locale.baseText('projects.menu.addProject'),\n\ticon: 'plus',\n\tdisabled:\n\t\t!isComponentMounted.value || isCreatingProject.value || !projectsStore.canCreateProjects,\n\tisLoading: isCreatingProject.value,\n}));\n\nconst getProjectMenuItem = (project: ProjectListItem) => ({\n\tid: project.id,\n\tlabel: project.name,\n\troute: {\n\t\tto: {\n\t\t\tname: VIEWS.PROJECTS_WORKFLOWS,\n\t\t\tparams: { projectId: project.id },\n\t\t},\n\t},\n});\n\nconst homeClicked = () => {};\nconst projectClicked = () => {};\nconst addProjectClicked = async () => {\n\tisCreatingProject.value = true;\n\n\ttry {\n\t\tconst newProject = await projectsStore.createProject({\n\t\t\tname: locale.baseText('projects.settings.newProjectName'),\n\t\t});\n\t\tawait router.push({ name: VIEWS.PROJECT_SETTINGS, params: { projectId: newProject.id } });\n\t\ttoast.showMessage({\n\t\t\ttitle: locale.baseText('projects.settings.save.successful.title', {\n\t\t\t\tinterpolate: { projectName: newProject.name ?? '' },\n\t\t\t}),\n\t\t\ttype: 'success',\n\t\t});\n\t} catch (error) {\n\t\ttoast.showError(error, locale.baseText('projects.error.title'));\n\t} finally {\n\t\tisCreatingProject.value = false;\n\t}\n};\n\nconst displayProjects = computed(() => {\n\treturn projectsStore.myProjects\n\t\t.filter((p) => p.type === 'team')\n\t\t.toSorted((a, b) => {\n\t\t\tif (!a.name || !b.name) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif (a.name > b.name) {\n\t\t\t\treturn 1;\n\t\t\t} else if (a.name < b.name) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\treturn 0;\n\t\t});\n});\n\nconst goToUpgrade = async () => {\n\tawait uiStore.goToUpgrade('rbac', 'upgrade-rbac');\n};\n\nonMounted(async () => {\n\tawait nextTick();\n\tisComponentMounted.value = true;\n});\n</script>\n\n<template>\n\t<div :class=\"$style.projects\">\n\t\t<ElMenu :collapse=\"props.collapsed\" class=\"home\">\n\t\t\t<N8nMenuItem\n\t\t\t\t:item=\"home\"\n\t\t\t\t:compact=\"props.collapsed\"\n\t\t\t\t:handle-select=\"homeClicked\"\n\t\t\t\t:active-tab=\"projectsStore.projectNavActiveId\"\n\t\t\t\tmode=\"tabs\"\n\t\t\t\tdata-test-id=\"project-home-menu-item\"\n\t\t\t/>\n\t\t</ElMenu>\n\t\t<hr\n\t\t\tv-if=\"\n\t\t\t\tdisplayProjects.length ||\n\t\t\t\t(projectsStore.hasPermissionToCreateProjects && projectsStore.teamProjectsAvailable)\n\t\t\t\"\n\t\t\tclass=\"mt-m mb-m\"\n\t\t/>\n\t\t<ElMenu v-if=\"displayProjects.length\" :collapse=\"props.collapsed\" :class=\"$style.projectItems\">\n\t\t\t<N8nMenuItem\n\t\t\t\tv-for=\"project in displayProjects\"\n\t\t\t\t:key=\"project.id\"\n\t\t\t\t:item=\"getProjectMenuItem(project)\"\n\t\t\t\t:compact=\"props.collapsed\"\n\t\t\t\t:handle-select=\"projectClicked\"\n\t\t\t\t:active-tab=\"projectsStore.projectNavActiveId\"\n\t\t\t\tmode=\"tabs\"\n\t\t\t\tdata-test-id=\"project-menu-item\"\n\t\t\t/>\n\t\t</ElMenu>\n\t\t<N8nTooltip placement=\"right\" :disabled=\"projectsStore.canCreateProjects\">\n\t\t\t<ElMenu\n\t\t\t\tv-if=\"projectsStore.hasPermissionToCreateProjects && projectsStore.teamProjectsAvailable\"\n\t\t\t\t:collapse=\"props.collapsed\"\n\t\t\t\tclass=\"pl-xs pr-xs\"\n\t\t\t>\n\t\t\t\t<N8nMenuItem\n\t\t\t\t\t:item=\"addProject\"\n\t\t\t\t\t:compact=\"props.collapsed\"\n\t\t\t\t\t:handle-select=\"addProjectClicked\"\n\t\t\t\t\tmode=\"tabs\"\n\t\t\t\t\tdata-test-id=\"add-project-menu-item\"\n\t\t\t\t/>\n\t\t\t</ElMenu>\n\t\t\t<template #content>\n\t\t\t\t<i18n-t keypath=\"projects.create.limitReached\">\n\t\t\t\t\t<template #planName>{{ props.planName }}</template>\n\t\t\t\t\t<template #limit>\n\t\t\t\t\t\t{{\n\t\t\t\t\t\t\tlocale.baseText('projects.create.limit', {\n\t\t\t\t\t\t\t\tadjustToNumber: projectsStore.teamProjectsLimit,\n\t\t\t\t\t\t\t\tinterpolate: { num: String(projectsStore.teamProjectsLimit) },\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}}\n\t\t\t\t\t</template>\n\t\t\t\t\t<template #link>\n\t\t\t\t\t\t<a :class=\"$style.upgradeLink\" href=\"#\" @click=\"goToUpgrade\">\n\t\t\t\t\t\t\t{{ locale.baseText('projects.create.limitReached.link') }}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</template>\n\t\t\t\t</i18n-t>\n\t\t\t</template>\n\t\t</N8nTooltip>\n\t\t<hr\n\t\t\tv-if=\"\n\t\t\t\tdisplayProjects.length ||\n\t\t\t\t(projectsStore.hasPermissionToCreateProjects && projectsStore.teamProjectsAvailable)\n\t\t\t\"\n\t\t\tclass=\"mt-m mb-m\"\n\t\t/>\n\t</div>\n</template>\n\n<style lang=\"scss\" module>\n.projects {\n\tdisplay: grid;\n\tgrid-auto-rows: auto;\n\twidth: 100%;\n\toverflow: hidden;\n\talign-items: start;\n}\n\n.projectItems {\n\theight: 100%;\n\tpadding: 0 var(--spacing-xs) var(--spacing-s);\n\toverflow: auto;\n}\n\n.upgradeLink {\n\tcolor: var(--color-primary);\n\tcursor: pointer;\n}\n</style>\n\n<style lang=\"scss\" scoped>\n.home {\n\tpadding: 0 var(--spacing-xs);\n\n\t:deep(.el-menu-item) {\n\t\tpadding: var(--spacing-m) var(--spacing-xs) !important;\n\t}\n}\n</style>\n","<template>\n\t<div\n\t\tid=\"side-menu\"\n\t\t:class=\"{\n\t\t\t['side-menu']: true,\n\t\t\t[$style.sideMenu]: true,\n\t\t\t[$style.sideMenuCollapsed]: isCollapsed,\n\t\t}\"\n\t>\n\t\t<div\n\t\t\tid=\"collapse-change-button\"\n\t\t\t:class=\"['clickable', $style.sideMenuCollapseButton]\"\n\t\t\t@click=\"toggleCollapse\"\n\t\t>\n\t\t\t<n8n-icon v-if=\"isCollapsed\" icon=\"chevron-right\" size=\"xsmall\" class=\"ml-5xs\" />\n\t\t\t<n8n-icon v-else icon=\"chevron-left\" size=\"xsmall\" class=\"mr-5xs\" />\n\t\t</div>\n\t\t<n8n-menu :items=\"mainMenuItems\" :collapsed=\"isCollapsed\" @select=\"handleSelect\">\n\t\t\t<template #header>\n\t\t\t\t<div :class=\"$style.logo\">\n\t\t\t\t\t<img :src=\"logoPath\" data-test-id=\"n8n-logo\" :class=\"$style.icon\" alt=\"n8n\" />\n\t\t\t\t</div>\n\t\t\t\t<ProjectNavigation\n\t\t\t\t\t:collapsed=\"isCollapsed\"\n\t\t\t\t\t:plan-name=\"cloudPlanStore.currentPlanData?.displayName\"\n\t\t\t\t/>\n\t\t\t</template>\n\n\t\t\t<template #beforeLowerMenu>\n\t\t\t\t<BecomeTemplateCreatorCta v-if=\"fullyExpanded && !userIsTrialing\" />\n\t\t\t\t<ExecutionsUsage\n\t\t\t\t\tv-if=\"fullyExpanded && userIsTrialing\"\n\t\t\t\t\t:cloud-plan-data=\"currentPlanAndUsageData\"\n\t\t\t/></template>\n\t\t\t<template #menuSuffix>\n\t\t\t\t<div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if=\"hasVersionUpdates\"\n\t\t\t\t\t\tdata-test-id=\"version-updates-panel-button\"\n\t\t\t\t\t\t:class=\"$style.updates\"\n\t\t\t\t\t\t@click=\"openUpdatesPanel\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div :class=\"$style.giftContainer\">\n\t\t\t\t\t\t\t<GiftNotificationIcon />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<n8n-text\n\t\t\t\t\t\t\t:class=\"{ ['ml-xs']: true, [$style.expanded]: fullyExpanded }\"\n\t\t\t\t\t\t\tcolor=\"text-base\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ nextVersions.length > 99 ? '99+' : nextVersions.length }} update{{\n\t\t\t\t\t\t\t\tnextVersions.length > 1 ? 's' : ''\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t</n8n-text>\n\t\t\t\t\t</div>\n\t\t\t\t\t<MainSidebarSourceControl :is-collapsed=\"isCollapsed\" />\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t\t<template v-if=\"showUserArea\" #footer>\n\t\t\t\t<div :class=\"$style.userArea\">\n\t\t\t\t\t<div class=\"ml-3xs\" data-test-id=\"main-sidebar-user-menu\">\n\t\t\t\t\t\t<!-- This dropdown is only enabled when sidebar is collapsed -->\n\t\t\t\t\t\t<el-dropdown\n\t\t\t\t\t\t\t:disabled=\"!isCollapsed\"\n\t\t\t\t\t\t\tplacement=\"right-end\"\n\t\t\t\t\t\t\ttrigger=\"click\"\n\t\t\t\t\t\t\t@command=\"onUserActionToggle\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div :class=\"{ [$style.avatar]: true, ['clickable']: isCollapsed }\">\n\t\t\t\t\t\t\t\t<n8n-avatar\n\t\t\t\t\t\t\t\t\t:first-name=\"usersStore.currentUser?.firstName\"\n\t\t\t\t\t\t\t\t\t:last-name=\"usersStore.currentUser?.lastName\"\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<template #dropdown>\n\t\t\t\t\t\t\t\t<el-dropdown-menu>\n\t\t\t\t\t\t\t\t\t<el-dropdown-item command=\"settings\">\n\t\t\t\t\t\t\t\t\t\t{{ $locale.baseText('settings') }}\n\t\t\t\t\t\t\t\t\t</el-dropdown-item>\n\t\t\t\t\t\t\t\t\t<el-dropdown-item command=\"logout\">\n\t\t\t\t\t\t\t\t\t\t{{ $locale.baseText('auth.signout') }}\n\t\t\t\t\t\t\t\t\t</el-dropdown-item>\n\t\t\t\t\t\t\t\t</el-dropdown-menu>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</el-dropdown>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\t:class=\"{ ['ml-2xs']: true, [$style.userName]: true, [$style.expanded]: fullyExpanded }\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<n8n-text size=\"small\" :bold=\"true\" color=\"text-dark\">{{\n\t\t\t\t\t\t\tusersStore.currentUser?.fullName\n\t\t\t\t\t\t}}</n8n-text>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div :class=\"{ [$style.userActions]: true, [$style.expanded]: fullyExpanded }\">\n\t\t\t\t\t\t<n8n-action-dropdown\n\t\t\t\t\t\t\t:items=\"userMenuItems\"\n\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t\tdata-test-id=\"user-menu\"\n\t\t\t\t\t\t\t@select=\"onUserActionToggle\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</n8n-menu>\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport type { CloudPlanAndUsageData, IExecutionResponse, IMenuItem, IVersion } from '@/Interface';\nimport GiftNotificationIcon from './GiftNotificationIcon.vue';\n\nimport { useMessage } from '@/composables/useMessage';\nimport { ABOUT_MODAL_KEY, VERSIONS_MODAL_KEY, VIEWS } from '@/constants';\nimport { useUserHelpers } from '@/composables/useUserHelpers';\nimport { defineComponent } from 'vue';\nimport { mapStores } from 'pinia';\nimport { useCloudPlanStore } from '@/stores/cloudPlan.store';\nimport { useRootStore } from '@/stores/root.store';\nimport { useSettingsStore } from '@/stores/settings.store';\nimport { useSourceControlStore } from '@/stores/sourceControl.store';\nimport { useUIStore } from '@/stores/ui.store';\nimport { useUsersStore } from '@/stores/users.store';\nimport { useVersionsStore } from '@/stores/versions.store';\nimport { useWorkflowsStore } from '@/stores/workflows.store';\nimport { useTemplatesStore } from '@/stores/templates.store';\nimport ExecutionsUsage from '@/components/executions/ExecutionsUsage.vue';\nimport BecomeTemplateCreatorCta from '@/components/BecomeTemplateCreatorCta/BecomeTemplateCreatorCta.vue';\nimport MainSidebarSourceControl from '@/components/MainSidebarSourceControl.vue';\nimport { hasPermission } from '@/utils/rbac/permissions';\nimport { useExternalHooks } from '@/composables/useExternalHooks';\nimport { useDebounce } from '@/composables/useDebounce';\nimport { useBecomeTemplateCreatorStore } from '@/components/BecomeTemplateCreatorCta/becomeTemplateCreatorStore';\nimport ProjectNavigation from '@/components/Projects/ProjectNavigation.vue';\nimport { useRoute, useRouter } from 'vue-router';\n\nexport default defineComponent({\n\tname: 'MainSidebar',\n\tcomponents: {\n\t\tGiftNotificationIcon,\n\t\tExecutionsUsage,\n\t\tMainSidebarSourceControl,\n\t\tBecomeTemplateCreatorCta,\n\t\tProjectNavigation,\n\t},\n\tsetup() {\n\t\tconst externalHooks = useExternalHooks();\n\t\tconst { callDebounced } = useDebounce();\n\t\tconst router = useRouter();\n\t\tconst route = useRoute();\n\n\t\treturn {\n\t\t\texternalHooks,\n\t\t\tcallDebounced,\n\t\t\t...useMessage(),\n\t\t\t...useUserHelpers(router, route),\n\t\t};\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tbasePath: '',\n\t\t\tfullyExpanded: false,\n\t\t};\n\t},\n\tcomputed: {\n\t\t...mapStores(\n\t\t\tuseRootStore,\n\t\t\tuseSettingsStore,\n\t\t\tuseUIStore,\n\t\t\tuseUsersStore,\n\t\t\tuseVersionsStore,\n\t\t\tuseWorkflowsStore,\n\t\t\tuseCloudPlanStore,\n\t\t\tuseSourceControlStore,\n\t\t\tuseBecomeTemplateCreatorStore,\n\t\t\tuseTemplatesStore,\n\t\t),\n\t\tlogoPath(): string {\n\t\t\treturn this.basePath + (this.isCollapsed ? 'static/logo/collapsed.svg' : this.uiStore.logo);\n\t\t},\n\t\thasVersionUpdates(): boolean {\n\t\t\treturn (\n\t\t\t\tthis.settingsStore.settings.releaseChannel === 'stable' &&\n\t\t\t\tthis.versionsStore.hasVersionUpdates\n\t\t\t);\n\t\t},\n\t\tnextVersions(): IVersion[] {\n\t\t\treturn this.versionsStore.nextVersions;\n\t\t},\n\t\tisCollapsed(): boolean {\n\t\t\treturn this.uiStore.sidebarMenuCollapsed;\n\t\t},\n\t\tcanUserAccessSettings(): boolean {\n\t\t\tconst accessibleRoute = this.findFirstAccessibleSettingsRoute();\n\t\t\treturn accessibleRoute !== null;\n\t\t},\n\t\tshowUserArea(): boolean {\n\t\t\treturn hasPermission(['authenticated']);\n\t\t},\n\t\tworkflowExecution(): IExecutionResponse | null {\n\t\t\treturn this.workflowsStore.getWorkflowExecution;\n\t\t},\n\t\tuserMenuItems(): object[] {\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tid: 'settings',\n\t\t\t\t\tlabel: this.$locale.baseText('settings'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'logout',\n\t\t\t\t\tlabel: this.$locale.baseText('auth.signout'),\n\t\t\t\t},\n\t\t\t];\n\t\t},\n\t\tmainMenuItems(): IMenuItem[] {\n\t\t\tconst items: IMenuItem[] = [];\n\n\t\t\tconst defaultSettingsRoute = this.findFirstAccessibleSettingsRoute();\n\t\t\tconst regularItems: IMenuItem[] = [\n\t\t\t\t{\n\t\t\t\t\tid: 'cloud-admin',\n\t\t\t\t\tposition: 'bottom',\n\t\t\t\t\tlabel: 'Admin Panel',\n\t\t\t\t\ticon: 'cloud',\n\t\t\t\t\tavailable: this.settingsStore.isCloudDeployment && hasPermission(['instanceOwner']),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t// Link to in-app templates, available if custom templates are enabled\n\t\t\t\t\tid: 'templates',\n\t\t\t\t\ticon: 'box-open',\n\t\t\t\t\tlabel: this.$locale.baseText('mainSidebar.templates'),\n\t\t\t\t\tposition: 'bottom',\n\t\t\t\t\tavailable:\n\t\t\t\t\t\tthis.settingsStore.isTemplatesEnabled && this.templatesStore.hasCustomTemplatesHost,\n\t\t\t\t\troute: { to: { name: VIEWS.TEMPLATES } },\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t// Link to website templates, available if custom templates are not enabled\n\t\t\t\t\tid: 'templates',\n\t\t\t\t\ticon: 'box-open',\n\t\t\t\t\tlabel: this.$locale.baseText('mainSidebar.templates'),\n\t\t\t\t\tposition: 'bottom',\n\t\t\t\t\tavailable:\n\t\t\t\t\t\tthis.settingsStore.isTemplatesEnabled && !this.templatesStore.hasCustomTemplatesHost,\n\t\t\t\t\tlink: {\n\t\t\t\t\t\thref: this.templatesStore.websiteTemplateRepositoryURL,\n\t\t\t\t\t\ttarget: '_blank',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'variables',\n\t\t\t\t\ticon: 'variable',\n\t\t\t\t\tlabel: this.$locale.baseText('mainSidebar.variables'),\n\t\t\t\t\tcustomIconSize: 'medium',\n\t\t\t\t\tposition: 'bottom',\n\t\t\t\t\troute: { to: { name: VIEWS.VARIABLES } },\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'executions',\n\t\t\t\t\ticon: 'tasks',\n\t\t\t\t\tlabel: this.$locale.baseText('mainSidebar.executions'),\n\t\t\t\t\tposition: 'bottom',\n\t\t\t\t\troute: { to: { name: VIEWS.EXECUTIONS } },\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'settings',\n\t\t\t\t\ticon: 'cog',\n\t\t\t\t\tlabel: this.$locale.baseText('settings'),\n\t\t\t\t\tposition: 'bottom',\n\t\t\t\t\tavailable: this.canUserAccessSettings && this.usersStore.currentUser !== null,\n\t\t\t\t\tactivateOnRouteNames: [VIEWS.USERS_SETTINGS, VIEWS.API_SETTINGS, VIEWS.PERSONAL_SETTINGS],\n\t\t\t\t\troute: { to: defaultSettingsRoute },\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'help',\n\t\t\t\t\ticon: 'question',\n\t\t\t\t\tlabel: this.$locale.baseText('mainSidebar.help'),\n\t\t\t\t\tposition: 'bottom',\n\t\t\t\t\tchildren: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'quickstart',\n\t\t\t\t\t\t\ticon: 'video',\n\t\t\t\t\t\t\tlabel: this.$locale.baseText('mainSidebar.helpMenuItems.quickstart'),\n\t\t\t\t\t\t\tlink: {\n\t\t\t\t\t\t\t\thref: 'https://www.youtube.com/watch?v=1MwSoB0gnM4',\n\t\t\t\t\t\t\t\ttarget: '_blank',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'docs',\n\t\t\t\t\t\t\ticon: 'book',\n\t\t\t\t\t\t\tlabel: this.$locale.baseText('mainSidebar.helpMenuItems.documentation'),\n\t\t\t\t\t\t\tlink: {\n\t\t\t\t\t\t\t\thref: 'https://docs.n8n.io?utm_source=n8n_app&utm_medium=app_sidebar',\n\t\t\t\t\t\t\t\ttarget: '_blank',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'forum',\n\t\t\t\t\t\t\ticon: 'users',\n\t\t\t\t\t\t\tlabel: this.$locale.baseText('mainSidebar.helpMenuItems.forum'),\n\t\t\t\t\t\t\tlink: {\n\t\t\t\t\t\t\t\thref: 'https://community.n8n.io?utm_source=n8n_app&utm_medium=app_sidebar',\n\t\t\t\t\t\t\t\ttarget: '_blank',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'examples',\n\t\t\t\t\t\t\ticon: 'graduation-cap',\n\t\t\t\t\t\t\tlabel: this.$locale.baseText('mainSidebar.helpMenuItems.course'),\n\t\t\t\t\t\t\tlink: {\n\t\t\t\t\t\t\t\thref: 'https://www.youtube.com/watch?v=1MwSoB0gnM4',\n\t\t\t\t\t\t\t\ttarget: '_blank',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'about',\n\t\t\t\t\t\t\ticon: 'info',\n\t\t\t\t\t\t\tlabel: this.$locale.baseText('mainSidebar.aboutN8n'),\n\t\t\t\t\t\t\tposition: 'bottom',\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t];\n\t\t\treturn [...items, ...regularItems];\n\t\t},\n\t\tuserIsTrialing(): boolean {\n\t\t\treturn this.cloudPlanStore.userIsTrialing;\n\t\t},\n\t\tcurrentPlanAndUsageData(): CloudPlanAndUsageData | null {\n\t\t\tconst planData = this.cloudPlanStore.currentPlanData;\n\t\t\tconst usage = this.cloudPlanStore.currentUsageData;\n\t\t\tif (!planData || !usage) return null;\n\t\t\treturn {\n\t\t\t\t...planData,\n\t\t\t\tusage,\n\t\t\t};\n\t\t},\n\t},\n\tasync mounted() {\n\t\tthis.basePath = this.rootStore.baseUrl;\n\t\tif (this.$refs.user) {\n\t\t\tvoid this.externalHooks.run('mainSidebar.mounted', {\n\t\t\t\tuserRef: this.$refs.user as Element,\n\t\t\t});\n\t\t}\n\n\t\tvoid this.$nextTick(() => {\n\t\t\tif (window.innerWidth < 900 || this.uiStore.isNodeView) {\n\t\t\t\tthis.uiStore.sidebarMenuCollapsed = true;\n\t\t\t} else {\n\t\t\t\tthis.uiStore.sidebarMenuCollapsed = false;\n\t\t\t}\n\n\t\t\tthis.fullyExpanded = !this.isCollapsed;\n\t\t});\n\n\t\tthis.becomeTemplateCreatorStore.startMonitoringCta();\n\t},\n\tcreated() {\n\t\twindow.addEventListener('resize', this.onResize);\n\t},\n\tbeforeUnmount() {\n\t\tthis.becomeTemplateCreatorStore.stopMonitoringCta();\n\t\twindow.removeEventListener('resize', this.onResize);\n\t},\n\tmethods: {\n\t\ttrackHelpItemClick(itemType: string) {\n\t\t\tthis.$telemetry.track('User clicked help resource', {\n\t\t\t\ttype: itemType,\n\t\t\t\tworkflow_id: this.workflowsStore.workflowId,\n\t\t\t});\n\t\t},\n\t\ttrackTemplatesClick() {\n\t\t\tthis.$telemetry.track('User clicked on templates', {\n\t\t\t\trole: this.usersStore.currentUserCloudInfo?.role,\n\t\t\t\tactive_workflow_count: this.workflowsStore.activeWorkflows.length,\n\t\t\t});\n\t\t},\n\t\tasync onUserActionToggle(action: string) {\n\t\t\tswitch (action) {\n\t\t\t\tcase 'logout':\n\t\t\t\t\tthis.onLogout();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'settings':\n\t\t\t\t\tvoid this.$router.push({ name: VIEWS.PERSONAL_SETTINGS });\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\tonLogout() {\n\t\t\tvoid this.$router.push({ name: VIEWS.SIGNOUT });\n\t\t},\n\t\ttoggleCollapse() {\n\t\t\tthis.uiStore.toggleSidebarMenuCollapse();\n\t\t\t// When expanding, delay showing some element to ensure smooth animation\n\t\t\tif (!this.isCollapsed) {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.fullyExpanded = !this.isCollapsed;\n\t\t\t\t}, 300);\n\t\t\t} else {\n\t\t\t\tthis.fullyExpanded = !this.isCollapsed;\n\t\t\t}\n\t\t},\n\t\topenUpdatesPanel() {\n\t\t\tthis.uiStore.openModal(VERSIONS_MODAL_KEY);\n\t\t},\n\t\tasync handleSelect(key: string) {\n\t\t\tswitch (key) {\n\t\t\t\tcase 'templates':\n\t\t\t\t\tif (\n\t\t\t\t\t\tthis.settingsStore.isTemplatesEnabled &&\n\t\t\t\t\t\t!this.templatesStore.hasCustomTemplatesHost\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.trackTemplatesClick();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'about': {\n\t\t\t\t\tthis.trackHelpItemClick('about');\n\t\t\t\t\tthis.uiStore.openModal(ABOUT_MODAL_KEY);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 'cloud-admin': {\n\t\t\t\t\tvoid this.cloudPlanStore.redirectToDashboard();\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 'quickstart':\n\t\t\t\tcase 'docs':\n\t\t\t\tcase 'forum':\n\t\t\t\tcase 'examples': {\n\t\t\t\t\tthis.trackHelpItemClick(key);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\tfindFirstAccessibleSettingsRoute() {\n\t\t\tconst settingsRoutes = this.$router\n\t\t\t\t.getRoutes()\n\t\t\t\t.find((route) => route.path === '/settings')\n\t\t\t\t?.children.map((route) => route.name ?? '');\n\n\t\t\tlet defaultSettingsRoute = { name: VIEWS.USERS_SETTINGS };\n\t\t\tfor (const route of settingsRoutes ?? []) {\n\t\t\t\tif (this.canUserAccessRouteByName(route.toString())) {\n\t\t\t\t\tdefaultSettingsRoute = {\n\t\t\t\t\t\tname: route.toString() as VIEWS,\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn defaultSettingsRoute;\n\t\t},\n\t\tonResize(event: UIEvent) {\n\t\t\tvoid this.callDebounced(this.onResizeEnd, { debounceTime: 100 }, event);\n\t\t},\n\t\tasync onResizeEnd(event: UIEvent) {\n\t\t\tconst browserWidth = (event.target as Window).outerWidth;\n\t\t\tawait this.checkWidthAndAdjustSidebar(browserWidth);\n\t\t},\n\t\tasync checkWidthAndAdjustSidebar(width: number) {\n\t\t\tif (width < 900) {\n\t\t\t\tthis.uiStore.sidebarMenuCollapsed = true;\n\t\t\t\tawait this.$nextTick();\n\t\t\t\tthis.fullyExpanded = !this.isCollapsed;\n\t\t\t}\n\t\t},\n\t},\n});\n</script>\n\n<style lang=\"scss\" module>\n.sideMenu {\n\tposition: relative;\n\theight: 100%;\n\tborder-right: var(--border-width-base) var(--border-style-base) var(--color-foreground-base);\n\ttransition: width 150ms ease-in-out;\n\twidth: $sidebar-expanded-width;\n\t.logo {\n\t\theight: $header-height;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tpadding: var(--spacing-xs);\n\n\t\timg {\n\t\t\tposition: relative;\n\t\t\tleft: 1px;\n\t\t\theight: 20px;\n\t\t}\n\t}\n\n\t&.sideMenuCollapsed {\n\t\twidth: $sidebar-width;\n\n\t\t.logo img {\n\t\t\tleft: 0;\n\t\t}\n\t}\n}\n\n.sideMenuCollapseButton {\n\tposition: absolute;\n\tright: -10px;\n\ttop: 50%;\n\tz-index: 999;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tcolor: var(--color-text-base);\n\tbackground-color: var(--color-foreground-xlight);\n\twidth: 20px;\n\theight: 20px;\n\tborder: var(--border-width-base) var(--border-style-base) var(--color-foreground-base);\n\tborder-radius: 50%;\n\n\t&:hover {\n\t\tcolor: var(--color-primary-shade-1);\n\t}\n}\n\n.updates {\n\tdisplay: flex;\n\talign-items: center;\n\tcursor: pointer;\n\tpadding: var(--spacing-2xs) var(--spacing-l);\n\tmargin: var(--spacing-2xs) 0 0;\n\n\tsvg {\n\t\tcolor: var(--color-text-base) !important;\n\t}\n\tspan {\n\t\tdisplay: none;\n\t\t&.expanded {\n\t\t\tdisplay: initial;\n\t\t}\n\t}\n\n\t&:hover {\n\t\t&,\n\t\t& svg {\n\t\t\tcolor: var(--color-text-dark) !important;\n\t\t}\n\t}\n}\n\n.userArea {\n\tdisplay: flex;\n\tpadding: var(--spacing-xs);\n\talign-items: center;\n\theight: 60px;\n\tborder-top: var(--border-width-base) var(--border-style-base) var(--color-foreground-base);\n\n\t.userName {\n\t\tdisplay: none;\n\t\toverflow: hidden;\n\t\twidth: 100px;\n\t\twhite-space: nowrap;\n\t\ttext-overflow: ellipsis;\n\n\t\t&.expanded {\n\t\t\tdisplay: initial;\n\t\t}\n\n\t\tspan {\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\t}\n\n\t.userActions {\n\t\tdisplay: none;\n\n\t\t&.expanded {\n\t\t\tdisplay: initial;\n\t\t}\n\t}\n}\n\n@media screen and (max-height: 470px) {\n\t:global(#help) {\n\t\tdisplay: none;\n\t}\n}\n</style>\n"],"names":["_hoisted_2","_openBlock","_createVNode","_component_font_awesome_icon","_normalizeClass","_ctx","PROGRESS_BAR_MINIMUM_THRESHOLD","props","__props","now","DateTime","daysLeftOnTrial","computed","days","getPlanExpirationDate","isTrialExpired","_a","trialEndsAt","trialHasExecutionsLeft","currentExecutions","usedExecutions","executionsQuota","currentExecutionsWithThreshold","threshold","maxExecutions","onUpgradeClicked","useUIStore","getBecomeCreatorCta","context","get","LOCAL_STORAGE_KEY","RESHOW_DISMISSED_AFTER_DAYS","POLL_INTERVAL_IN_MS","useBecomeTemplateCreatorStore","defineStore","STORES","cloudPlanStore","useCloudPlanStore","rootStore","useRootStore","dismissedAt","useStorage","ctaMeetsCriteria","ref","monitorCtasTimer","isDismissed","hasEnoughTimePassedSinceDismissal","showBecomeCreatorCta","dismissCta","fetchBecomeCreatorCta","becomeCreatorCta","fetchUserCtasIfNeeded","i18n","useI18n","store","telemetry","useTelemetry","onClick","responseStatuses","useRouter","loadingService","useLoadingService","uiStore","sourceControlStore","useSourceControlStore","toast","useToast","eventBus","createEventBus","tooltipOpenDelay","currentBranch","sourceControlAvailable","hasPermission","pushWorkfolder","status","SOURCE_CONTROL_PUSH_MODAL_KEY","error","pullWorkfolder","file","incompleteFileTypes","nextTick","sourceControlEventBus","errorResponse","SOURCE_CONTROL_PULL_MODAL_KEY","router","locale","projectsStore","useProjectsStore","isCreatingProject","isComponentMounted","home","VIEWS","addProject","getProjectMenuItem","project","homeClicked","projectClicked","addProjectClicked","newProject","displayProjects","p","a","b","goToUpgrade","onMounted","_sfc_main","defineComponent","GiftNotificationIcon","ExecutionsUsage","MainSidebarSourceControl","BecomeTemplateCreatorCta","ProjectNavigation","externalHooks","useExternalHooks","callDebounced","useDebounce","route","useRoute","useMessage","useUserHelpers","mapStores","useSettingsStore","useUsersStore","useVersionsStore","useWorkflowsStore","useTemplatesStore","items","defaultSettingsRoute","regularItems","planData","usage","itemType","action","VERSIONS_MODAL_KEY","key","ABOUT_MODAL_KEY","settingsRoutes","event","browserWidth","width","_hoisted_1","_resolveComponent","_createElementBlock","$style","_createElementVNode","isCollapsed","_cache","args","_createBlock","_component_n8n_icon","handleSelect","_createSlots","_withCtx","_component_ProjectNavigation","fullyExpanded","userIsTrialing","currentPlanAndUsageData","_createCommentVNode","hasVersionUpdates","_component_GiftNotificationIcon","_component_n8n_text","_createTextVNode","_toDisplayString","showUserArea","_component_el_dropdown","onUserActionToggle","_component_el_dropdown_menu","_component_el_dropdown_item","$locale","_component_n8n_avatar","_b","_component_n8n_action_dropdown"],"mappings":"mmDAIcA,GAAA,4DAHFC,MAAQ,MAAA,iCACe,CACjCC,EAEMC,EAAA,CAAA,KAAA,MAAA,CAAA,UAFa,CAHrB,MAAAC,EAAAC,EAAA,OAAA,YAAA,kGCuEMC,GAAiC,mEAEvC,MAAMC,EAAQC,EAERC,EAAMC,EAAS,MAEfC,EAAkBC,EAAS,IAAM,CACtC,KAAM,CAAE,KAAAC,EAAO,CAAE,EAAIC,EAAsB,EAAE,KAAKL,EAAK,CAAC,MAAM,CAAC,EAAE,SAAS,EACnE,OAAA,KAAK,KAAKI,CAAI,CAAA,CACrB,EAEKE,EAAiBH,EAAS,IAAM,OACjC,GAAA,GAACI,EAAAT,EAAM,gBAAN,MAAAS,EAAqB,gBAAuB,MAAA,GACjD,MAAMC,EAAcP,EAAS,QAAQH,EAAM,cAAc,cAAc,EACvE,OAAOE,EAAI,SAAA,EAAaQ,EAAY,SAAS,CAAA,CAC7C,EAEKH,EAAwB,IAAM,OAAA,OAAAJ,EAAS,UAAQM,EAAAT,GAAA,YAAAA,EAAO,gBAAP,YAAAS,EAAsB,iBAAkB,EAAE,GAEzFE,EAAyBN,EAAS,IAAM,OACzC,OAACI,EAAAT,EAAM,gBAAN,MAAAS,EAAqB,MACnBT,EAAM,cAAc,MAAM,WAAaA,EAAM,cAAc,uBAD1B,CAC0B,CAClE,EAEKY,EAAoBP,EAAS,IAAM,OACpC,GAAA,GAACI,EAAAT,EAAM,gBAAN,MAAAS,EAAqB,OAAc,MAAA,GAClC,MAAAI,EAAiBb,EAAM,cAAc,MAAM,WAC3Cc,EAAkBd,EAAM,cAAc,uBACrC,OAAAa,EAAiBC,EAAkBA,EAAkBD,CAAA,CAC5D,EAEKE,EAAiCV,EAAS,IAAM,OACjD,GAAA,GAACI,EAAAT,EAAM,gBAAN,MAAAS,EAAqB,OAAc,MAAA,GAClC,MAAAI,EAAiBb,EAAM,cAAc,MAAM,WAC3Cc,EAAkBd,EAAM,cAAc,uBACtCgB,EAAajB,GAAiCe,EAAmB,IAChE,OAAAD,EAAiBG,EAAYA,EAAYH,CAAA,CAChD,EAEKI,EAAgBZ,EAAS,IAAM,OAChC,OAACI,EAAAT,EAAM,gBAAN,MAAAS,EAAqB,uBACnBT,EAAM,cAAc,uBAD8B,CAC9B,CAC3B,EAEKkB,EAAmB,IAAM,CACzBC,EAAW,EAAE,YAAY,aAAc,qBAAsB,UAAU,CAAA,orECjH7E,eAAsBC,GAAoBC,EAA4C,CAG9E,OAFU,MAAMC,GAAID,EAAQ,QAAS,qBAAqB,CAGlE,CCEA,MAAME,GAAoB,+CACpBC,GAA8B,GAC9BC,GAAsB,GAAK,GAAK,IAEzBC,EAAgCC,GAAYC,GAAO,wBAAyB,IAAM,CAC9F,MAAMC,EAAiBC,IACjBC,EAAYC,IAIZC,EAAcC,GAAWX,EAAiB,EAC1CY,EAAmBC,EAAI,EAAK,EAC5BC,EAAmBD,EAA2C,IAAI,EAMlEE,EAAcjC,EAAS,IACrB4B,EAAY,MAAQ,CAACM,GAAkCN,EAAY,KAAK,EAAI,EACnF,EAEKO,EAAuBnC,EAAS,IAC9B8B,EAAiB,OAAS,CAACN,EAAe,gBAAkB,CAACS,EAAY,KAChF,EAMKG,EAAa,IAAM,CACxBR,EAAY,MAAQ9B,EAAS,IAAI,EAAE,MAAM,CAAA,EAGpCuC,EAAwB,SAAY,CACzC,MAAMC,EAAmB,MAAMvB,GAAoBW,EAAU,cAAc,EAE3EI,EAAiB,MAAQQ,CAAA,EAGpBC,EAAwB,SAAY,CACrCN,EAAY,OAAST,EAAe,gBAAkBM,EAAiB,OAI3E,MAAMO,EAAsB,CAAA,EAyBtB,MAAA,CACN,qBAAAF,EACA,WAAAC,EACA,mBAzB0B,IAAM,CAC5BJ,EAAiB,QAKrB,WAAWO,EAAuB,GAAI,EAErBP,EAAA,MAAQ,YAAYO,EAAuBnB,EAAmB,EAAA,EAkB/E,kBAfyB,IAAM,CAC1BY,EAAiB,QAItB,cAAcA,EAAiB,KAAK,EACpCA,EAAiB,MAAQ,KAAA,CASzB,CAEF,CAAC,EAED,SAASE,GAAkCN,EAAqB,CAKxD,OAJc9B,EAAS,QAAQ8B,CAAW,EAAE,KAAK,CACvD,KAAMT,EAAA,CACN,GAEsBrB,EAAS,KACjC,wDCxFA,MAAM0C,EAAOC,IACPC,EAAQrB,IACRsB,EAAYC,KAEZC,EAAU,IAAM,CACrBF,EAAU,MAAM,iCAAiC,CAAA,2mCCQlD,MAAMG,EAAmB,CACxB,SAAU,GAAA,EAGIC,EAAU,EACzB,MAAMC,EAAiBC,KACjBC,EAAUpC,IACVqC,EAAqBC,IACrBC,EAAQC,IACRd,EAAOC,IAEPc,EAAWC,IACXC,EAAmB1B,EAAI,GAAG,EAE1B2B,EAAgB1D,EAAS,IACvBmD,EAAmB,YAAY,UACtC,EACKQ,EAAyB3D,EAC9B,IACCmD,EAAmB,kCACnBS,EAAc,CAAC,MAAM,EAAG,CAAE,KAAM,CAAE,MAAO,sBAAA,EAA0B,CAAA,EAGrE,eAAeC,GAAiB,CAC/Bb,EAAe,aAAa,EAC5BA,EAAe,eAAeR,EAAK,SAAS,mDAAmD,CAAC,EAC5F,GAAA,CACG,MAAAsB,EAAS,MAAMX,EAAmB,sBAExCD,EAAQ,kBAAkB,CACzB,KAAMa,GACN,KAAM,CAAE,SAAAR,EAAU,OAAAO,CAAO,CAAA,CACzB,QACOE,EAAO,CACfX,EAAM,UAAUW,EAAOxB,EAAK,SAAS,OAAO,CAAC,CAAA,QAC5C,CACDQ,EAAe,YAAY,EAC3BA,EAAe,eAAeR,EAAK,SAAS,wBAAwB,CAAC,CACtE,CACD,CAEA,eAAeyB,GAAiB,CAC/BjB,EAAe,aAAa,EAC5BA,EAAe,eAAeR,EAAK,SAAS,qCAAqC,CAAC,EAE9E,GAAA,CACG,MAAAsB,EACH,MAAMX,EAAmB,eAC1B,KACkD,GAKhD,GAHyCW,EAAO,OAAQI,GACpD,EAAEA,EAAK,OAAS,YAAcA,EAAK,SAAW,WAAaA,EAAK,WAAa,QACpF,EACwC,SAAW,EACnDb,EAAM,YAAY,CACjB,MAAOb,EAAK,SAAS,4CAA4C,EACjE,QAASA,EAAK,SAAS,kDAAkD,EACzE,KAAM,SAAA,CACN,MACK,CACNa,EAAM,YAAY,CACjB,MAAOb,EAAK,SAAS,2CAA2C,EAChE,KAAM,SAAA,CACN,EAEK,MAAA2B,EAAsB,CAAC,YAAa,YAAY,GACnBL,GAAU,CAAI,GAAA,KAAMI,GAC/CC,EAAoB,SAASD,EAAK,IAAI,CAC7C,GAGKE,EAAS,IAAM,CACnBf,EAAM,YAAY,CACjB,QAASb,EAAK,SAAS,qDAAqD,EAC5E,MAAOA,EAAK,SAAS,+CAA+C,EACpE,KAAM,OACN,SAAU,EACV,UAAW,GACX,OAAQ,CAAA,CACR,CAAA,CACD,CAEH,CACA6B,GAAsB,KAAK,MAAM,QACzBL,EAAO,CACf,MAAMM,EAAgBN,EAAM,UAExBM,GAAA,YAAAA,EAAe,UAAWxB,EAAiB,SAC9CI,EAAQ,kBAAkB,CACzB,KAAMqB,GACN,KAAM,CAAE,SAAAhB,EAAU,OAAQe,EAAc,KAAK,IAAK,CAAA,CAClD,EAEKjB,EAAA,UAAUW,EAAO,OAAO,CAC/B,QACC,CACDhB,EAAe,YAAY,EAC3BA,EAAe,eAAeR,EAAK,SAAS,wBAAwB,CAAC,CACtE,CACD,u8DCtGA,MAAM7C,EAAQC,EAER4E,EAASzB,IACT0B,EAAShC,IACTY,EAAQC,IACRoB,EAAgBC,KAChBzB,EAAUpC,IAEV8D,EAAoB7C,EAAI,EAAK,EAC7B8C,EAAqB9C,EAAI,EAAK,EAC9B+C,EAAO9E,EAAoB,KAAO,CACvC,GAAI,OACJ,MAAOyE,EAAO,SAAS,oBAAoB,EAC3C,KAAM,OACN,MAAO,CACN,GAAI,CAAE,KAAMM,EAAM,QAAS,CAC5B,CACC,EAAA,EACIC,EAAahF,EAAoB,KAAO,CAC7C,GAAI,aACJ,MAAOyE,EAAO,SAAS,0BAA0B,EACjD,KAAM,OACN,SACC,CAACI,EAAmB,OAASD,EAAkB,OAAS,CAACF,EAAc,kBACxE,UAAWE,EAAkB,KAC5B,EAAA,EAEIK,EAAsBC,IAA8B,CACzD,GAAIA,EAAQ,GACZ,MAAOA,EAAQ,KACf,MAAO,CACN,GAAI,CACH,KAAMH,EAAM,mBACZ,OAAQ,CAAE,UAAWG,EAAQ,EAAG,CACjC,CACD,CAAA,GAGKC,EAAc,IAAM,CAAA,EACpBC,EAAiB,IAAM,CAAA,EACvBC,EAAoB,SAAY,CACrCT,EAAkB,MAAQ,GAEtB,GAAA,CACG,MAAAU,EAAa,MAAMZ,EAAc,cAAc,CACpD,KAAMD,EAAO,SAAS,kCAAkC,CAAA,CACxD,EACD,MAAMD,EAAO,KAAK,CAAE,KAAMO,EAAM,iBAAkB,OAAQ,CAAE,UAAWO,EAAW,EAAG,CAAG,CAAA,EACxFjC,EAAM,YAAY,CACjB,MAAOoB,EAAO,SAAS,0CAA2C,CACjE,YAAa,CAAE,YAAaa,EAAW,MAAQ,EAAG,CAAA,CAClD,EACD,KAAM,SAAA,CACN,QACOtB,EAAO,CACfX,EAAM,UAAUW,EAAOS,EAAO,SAAS,sBAAsB,CAAC,CAAA,QAC7D,CACDG,EAAkB,MAAQ,EAC3B,CAAA,EAGKW,EAAkBvF,EAAS,IACzB0E,EAAc,WACnB,OAAQc,GAAMA,EAAE,OAAS,MAAM,EAC/B,SAAS,CAACC,EAAGC,IACT,CAACD,EAAE,MAAQ,CAACC,EAAE,KACV,EAEJD,EAAE,KAAOC,EAAE,KACP,EACGD,EAAE,KAAOC,EAAE,KACd,GAED,CACP,CACF,EAEKC,EAAc,SAAY,CACzB,MAAAzC,EAAQ,YAAY,OAAQ,cAAc,CAAA,EAGjD,OAAA0C,GAAU,SAAY,CACrB,MAAMxB,EAAS,EACfS,EAAmB,MAAQ,EAAA,CAC3B,q7DCmCDgB,GAAeC,EAAgB,CAC9B,KAAM,cACN,WAAY,CACX,qBAAAC,GACA,gBAAAC,GACA,yBAAAC,GACA,yBAAAC,GACA,kBAAAC,EACD,EACA,OAAQ,CACP,MAAMC,EAAgBC,KAChB,CAAE,cAAAC,GAAkBC,KACpB/B,EAASzB,IACTyD,EAAQC,KAEP,MAAA,CACN,cAAAL,EACA,cAAAE,EACA,GAAGI,GAAW,EACd,GAAGC,GAAenC,EAAQgC,CAAK,CAAA,CAEjC,EACA,MAAO,CACC,MAAA,CACN,SAAU,GACV,cAAe,EAAA,CAEjB,EACA,SAAU,CACT,GAAGI,GACFjF,EACAkF,GACA/F,EACAgG,GACAC,GACAC,GACAvF,EACA2B,EACA/B,EACA4F,EACD,EACA,UAAmB,CAClB,OAAO,KAAK,UAAY,KAAK,YAAc,4BAA8B,KAAK,QAAQ,KACvF,EACA,mBAA6B,CAC5B,OACC,KAAK,cAAc,SAAS,iBAAmB,UAC/C,KAAK,cAAc,iBAErB,EACA,cAA2B,CAC1B,OAAO,KAAK,cAAc,YAC3B,EACA,aAAuB,CACtB,OAAO,KAAK,QAAQ,oBACrB,EACA,uBAAiC,CAEhC,OADwB,KAAK,qCACF,IAC5B,EACA,cAAwB,CAChB,OAAArD,EAAc,CAAC,eAAe,CAAC,CACvC,EACA,mBAA+C,CAC9C,OAAO,KAAK,eAAe,oBAC5B,EACA,eAA0B,CAClB,MAAA,CACN,CACC,GAAI,WACJ,MAAO,KAAK,QAAQ,SAAS,UAAU,CACxC,EACA,CACC,GAAI,SACJ,MAAO,KAAK,QAAQ,SAAS,cAAc,CAC5C,CAAA,CAEF,EACA,eAA6B,CAC5B,MAAMsD,EAAqB,CAAA,EAErBC,EAAuB,KAAK,mCAC5BC,EAA4B,CACjC,CACC,GAAI,cACJ,SAAU,SACV,MAAO,cACP,KAAM,QACN,UAAW,KAAK,cAAc,mBAAqBxD,EAAc,CAAC,eAAe,CAAC,CACnF,EACA,CAEC,GAAI,YACJ,KAAM,WACN,MAAO,KAAK,QAAQ,SAAS,uBAAuB,EACpD,SAAU,SACV,UACC,KAAK,cAAc,oBAAsB,KAAK,eAAe,uBAC9D,MAAO,CAAE,GAAI,CAAE,KAAMmB,EAAM,UAAY,CACxC,EACA,CAEC,GAAI,YACJ,KAAM,WACN,MAAO,KAAK,QAAQ,SAAS,uBAAuB,EACpD,SAAU,SACV,UACC,KAAK,cAAc,oBAAsB,CAAC,KAAK,eAAe,uBAC/D,KAAM,CACL,KAAM,KAAK,eAAe,6BAC1B,OAAQ,QACT,CACD,EACA,CACC,GAAI,YACJ,KAAM,WACN,MAAO,KAAK,QAAQ,SAAS,uBAAuB,EACpD,eAAgB,SAChB,SAAU,SACV,MAAO,CAAE,GAAI,CAAE,KAAMA,EAAM,UAAY,CACxC,EACA,CACC,GAAI,aACJ,KAAM,QACN,MAAO,KAAK,QAAQ,SAAS,wBAAwB,EACrD,SAAU,SACV,MAAO,CAAE,GAAI,CAAE,KAAMA,EAAM,WAAa,CACzC,EACA,CACC,GAAI,WACJ,KAAM,MACN,MAAO,KAAK,QAAQ,SAAS,UAAU,EACvC,SAAU,SACV,UAAW,KAAK,uBAAyB,KAAK,WAAW,cAAgB,KACzE,qBAAsB,CAACA,EAAM,eAAgBA,EAAM,aAAcA,EAAM,iBAAiB,EACxF,MAAO,CAAE,GAAIoC,CAAqB,CACnC,EACA,CACC,GAAI,OACJ,KAAM,WACN,MAAO,KAAK,QAAQ,SAAS,kBAAkB,EAC/C,SAAU,SACV,SAAU,CACT,CACC,GAAI,aACJ,KAAM,QACN,MAAO,KAAK,QAAQ,SAAS,sCAAsC,EACnE,KAAM,CACL,KAAM,8CACN,OAAQ,QACT,CACD,EACA,CACC,GAAI,OACJ,KAAM,OACN,MAAO,KAAK,QAAQ,SAAS,yCAAyC,EACtE,KAAM,CACL,KAAM,gEACN,OAAQ,QACT,CACD,EACA,CACC,GAAI,QACJ,KAAM,QACN,MAAO,KAAK,QAAQ,SAAS,iCAAiC,EAC9D,KAAM,CACL,KAAM,qEACN,OAAQ,QACT,CACD,EACA,CACC,GAAI,WACJ,KAAM,iBACN,MAAO,KAAK,QAAQ,SAAS,kCAAkC,EAC/D,KAAM,CACL,KAAM,8CACN,OAAQ,QACT,CACD,EACA,CACC,GAAI,QACJ,KAAM,OACN,MAAO,KAAK,QAAQ,SAAS,sBAAsB,EACnD,SAAU,QACX,CACD,CACD,CAAA,EAED,MAAO,CAAC,GAAGD,EAAO,GAAGE,CAAY,CAClC,EACA,gBAA0B,CACzB,OAAO,KAAK,eAAe,cAC5B,EACA,yBAAwD,CACjD,MAAAC,EAAW,KAAK,eAAe,gBAC/BC,EAAQ,KAAK,eAAe,iBAC9B,MAAA,CAACD,GAAY,CAACC,EAAc,KACzB,CACN,GAAGD,EACH,MAAAC,CAAA,CAEF,CACD,EACA,MAAM,SAAU,CACV,KAAA,SAAW,KAAK,UAAU,QAC3B,KAAK,MAAM,MACT,KAAK,cAAc,IAAI,sBAAuB,CAClD,QAAS,KAAK,MAAM,IAAA,CACpB,EAGG,KAAK,UAAU,IAAM,CACrB,OAAO,WAAa,KAAO,KAAK,QAAQ,WAC3C,KAAK,QAAQ,qBAAuB,GAEpC,KAAK,QAAQ,qBAAuB,GAGhC,KAAA,cAAgB,CAAC,KAAK,WAAA,CAC3B,EAED,KAAK,2BAA2B,oBACjC,EACA,SAAU,CACF,OAAA,iBAAiB,SAAU,KAAK,QAAQ,CAChD,EACA,eAAgB,CACf,KAAK,2BAA2B,oBACzB,OAAA,oBAAoB,SAAU,KAAK,QAAQ,CACnD,EACA,QAAS,CACR,mBAAmBC,EAAkB,CAC/B,KAAA,WAAW,MAAM,6BAA8B,CACnD,KAAMA,EACN,YAAa,KAAK,eAAe,UAAA,CACjC,CACF,EACA,qBAAsB,OAChB,KAAA,WAAW,MAAM,4BAA6B,CAClD,MAAMnH,EAAA,KAAK,WAAW,uBAAhB,YAAAA,EAAsC,KAC5C,sBAAuB,KAAK,eAAe,gBAAgB,MAAA,CAC3D,CACF,EACA,MAAM,mBAAmBoH,EAAgB,CACxC,OAAQA,EAAQ,CACf,IAAK,SACJ,KAAK,SAAS,EACd,MACD,IAAK,WACC,KAAK,QAAQ,KAAK,CAAE,KAAMzC,EAAM,kBAAmB,EACxD,KAGF,CACD,EACA,UAAW,CACL,KAAK,QAAQ,KAAK,CAAE,KAAMA,EAAM,QAAS,CAC/C,EACA,gBAAiB,CAChB,KAAK,QAAQ,4BAER,KAAK,YAKJ,KAAA,cAAgB,CAAC,KAAK,YAJ3B,WAAW,IAAM,CACX,KAAA,cAAgB,CAAC,KAAK,aACzB,GAAG,CAIR,EACA,kBAAmB,CACb,KAAA,QAAQ,UAAU0C,EAAkB,CAC1C,EACA,MAAM,aAAaC,EAAa,CAC/B,OAAQA,EAAK,CACZ,IAAK,YAEH,KAAK,cAAc,oBACnB,CAAC,KAAK,eAAe,wBAErB,KAAK,oBAAoB,EAE1B,MACD,IAAK,QAAS,CACb,KAAK,mBAAmB,OAAO,EAC1B,KAAA,QAAQ,UAAUC,EAAe,EACtC,KACD,CACA,IAAK,cAAe,CACd,KAAK,eAAe,sBACzB,KACD,CACA,IAAK,aACL,IAAK,OACL,IAAK,QACL,IAAK,WAAY,CAChB,KAAK,mBAAmBD,CAAG,EAC3B,KACD,CAGD,CACD,EACA,kCAAmC,OAClC,MAAME,GAAiBxH,EAAA,KAAK,QAC1B,YACA,KAAMoG,GAAUA,EAAM,OAAS,WAAW,IAFrB,YAAApG,EAGpB,SAAS,IAAKoG,GAAUA,EAAM,MAAQ,IAEzC,IAAIW,EAAuB,CAAE,KAAMpC,EAAM,cAAe,EAC7C,UAAAyB,KAASoB,GAAkB,GACrC,GAAI,KAAK,yBAAyBpB,EAAM,SAAU,CAAA,EAAG,CAC7BW,EAAA,CACtB,KAAMX,EAAM,SAAS,CAAA,EAEtB,KACD,CAGM,OAAAW,CACR,EACA,SAASU,EAAgB,CACnB,KAAK,cAAc,KAAK,YAAa,CAAE,aAAc,KAAOA,CAAK,CACvE,EACA,MAAM,YAAYA,EAAgB,CAC3B,MAAAC,EAAgBD,EAAM,OAAkB,WACxC,MAAA,KAAK,2BAA2BC,CAAY,CACnD,EACA,MAAM,2BAA2BC,EAAe,CAC3CA,EAAQ,MACX,KAAK,QAAQ,qBAAuB,GACpC,MAAM,KAAK,YACN,KAAA,cAAgB,CAAC,KAAK,YAE7B,CACD,CACD,CAAC,mXA3ZSC,GAAc,CAAA,KAAA,EAAC5I,GAAa,CAAA,MAAA,+WA1DrC6I,EAuGM,UAAA,SArGC5I,EAHR,EAAA6I,EAAA,MAAA,CAAA,GAAA,YAGwCC,MAAe3I,EAAA,CAAa2I,YAAO,GAAA,CAAA1I,EAAA,OAAA,QAAA,EAAA,kDAH3E2I,EAAA,MAAA,CAYI,GAAA,yBAAA,MAAA5I,EAAA,CAAA,YAAAC,EAAA,OAAA,sBAAA,CAAA,UAEe4I,EAAW,CAAA,IAAAC,EAAA,CAAA,EAAA,IAAAC,IAAA9I,EAAA,gBAAAA,EAAA,eAAA,GAAA8I,CAAA,EAAA,EAAA,CAd9B9I,EAAA,aAAAJ,IAcoDmJ,EAAAC,EAAA,CAAC,IAAI,EAAU,KAAK,gBAAA,KAAA,gCACjCD,EAAAC,EAAA,CAAC,IAAI,EAAU,KAAK,eAAA,KAAA,uBAEzD,CAAA,EAAW,EAAA,CAAA,EAAAnJ,EAAkC+I,EAAW,CAAG,MAAQK,EAAAA,cAjBrE,UAAAjJ,EAAA,YAkBc,SAAMA,EAAA,YAChB,EAAAkJ,GAAA,CAAA,OAAMC,EAnBV,IAAA,OAAA,OAAAR,EAAA,MAAA,CAoBK,MAA8E5I,EAAAC,EAAA,OAAA,IAAA,CAAA,EAAA,CAA5C2I,EAAA,MAAA,CAAY,IAAK3I,EApBxD,SAoBuE,eAAS,WApBhF,MAAAD,EAAAC,EAAA,OAAA,IAAA,EAAA,IAAA,OAyBM,KAAA,GAAAuI,EAAA,CAFA,EAAA,CAAA,EAAA1I,EACSuJ,EAAiB,CAAA,UAAApJ,EAAA,uFAIlB,EAAA,KAAA,EAAA,CAAe,YAC2C,WAAA,CAAA,CAAA,EAAA,EAApE,gBAAAmJ,EAAA,IAAA,CAAAnJ,EA7BJ,eA+BWqJ,CAAAA,EAAAA,gBAAAA,EAAAA,EAAaN,EAAIO,EAAc,YADtC,GAGC,EAAA,EAjCLtJ,EAAA,eAAAA,EAAA,gBAAAJ,MAgCuB2J,EAAuB,CAAA,IAAA,EAhC9C,kBAAAvJ,EAAA,uBAAA,EAAA,KAAA,EAAA,CAAA,iBAAA,CAAA,GAkCcwJ,EAqBJ,GAAA,EAAA,CAAA,CAAA,aAlBEC,EAAiB,IAAA,CADxBd,EAAA,MAAA,KAAA,CAAA3I,EApCL,uBAsCmByI,EAAA,MAAA,CACZ,IAAK,EACL,eAAK,+BAAA,MAAA1I,EAAAC,EAAA,OAAA,OAAA,EAEN,QAEM6I,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,IAAAC,IAAA9I,EAAA,kBAAAA,EAAA,iBAAA,GAAA8I,CAAA,EAAA,EAAA,UADL,MAAwB/I,EAAAC,EAAA,OAAA,aAAA,CAAA,EAAA,CAEzBH,EAOW6J,CAAA,CANT,EAAA,CAAA,EAAA7J,EACK8J,EAAW,CAAA,MAAA5J,EAAA,CAAA,QAAA,GAAA,CAAAC,EAAA,OAAA,QAAA,EAAAA,EAAA,aAAA,CAAA,EA/CxB,MAAA,WAAA,EAAA,gBAAA4J,EAAAC,EAAA7J,EAAA,aAAA,OAAA,GAAA,MAAAA,EAAA,aAAA,MAAA,EAAA,UAAA6J,EAAA7J,EAAA,aAAA,OAAA,EAAA,IAAA,EAAA,EAAA,CAAA,CAAA,CAAA,KAAA,EAAA,EAAA,CAAA,OAAA,CAAA,CAsDK,EAAA,CAAA,GAAAwJ,EAAA,GAAA,EAAA,6DAtDL,CAAA,CAAA,CAAA,EAyDmBM,EAAAA,CAAAA,EAAAA,CAzDnB9J,EAAA,aAAA,CA0DI,KAAA,SAAA,GAAMmJ,EA1DV,IAAA,CAAAR,EAAA,MAAA,CA2DK,MAAA5I,EA0BMC,EA1BN,OA0BM,QAAA,CAAA,EAAA,GAvBQ4I,MAAWjJ,GAAA,CAAAE,EACbkK,EAAW,CACrB,SAAQ,CAAO/J,EAAA,YACd,UAASgK,YAAAA,QAAAA,QASC,UAAQhK,EAAA,kBAAA,EAAA,UA1E1BmJ,EA8E4B,IAAA,CAAAtJ,EAFnBoK,EAEmB,KAFD,CAAA,QA5E3Bd,EA6E4C,IAAA,CA7E5CtJ,EAAAqK,EA6EaC,SAAQ,UAAQ,EAAA,CAAA,QAAAhB,EAAA,IAAA,CA7E7BS,EAAAC,EAAA7J,EAAA,QAAA,SAAA,UAAA,CAAA,EAAA,CAAA,CAAA,CAAA,EA+ES,EAAA,CAAA,CAAA,EA/ETH,EAAAqK,EAgFaC,SAAQ,QAAQ,EAAA,CAAA,QAAAhB,EAAA,IAAA,CAhF7BS,EAAAC,EAAA7J,EAAA,QAAA,SAAA,cAAA,CAAA,EAAA,CAAA,CAAA,CAAA,KAAA,CAAA,CAAA,CAAA,KAAA,CAAA,CAAA,CAAA,UAmEkBmJ,EAnElB,IAAA,SAAA,OAAAR,EAAA,MAAA,CAoEQ,MAIE5I,EAAA,CAAA,CAAAC,EAAA,OAAA,MAAA,EAAA,GAAA,UAAAA,EAAA,WAAA,CAAA,CAAA,EAAA,GAFSoK,EAAa,CACvB,cAAYzJ,EAAAX,EAAA,WAAA,cAAA,YAAAW,EAAA,UAAA,aAAA0J,EAAArK,EAAA,WAAA,cAAA,YAAAqK,EAAA,yDAvErB,EAAA,CAAA,CAAA,EAAA,KA4FW,EAAA,EAAA,CAAA,WAAA,WAAA,CAAA,CAAA,CAAA,WAHL,MAEatK,EAAA,CAAA,SAAA,GAAA,CAAAC,EAAA,OAAA,QAAA,EAAA,GAAA,CAAAA,EAAA,OAAA,QAAA,EAAAA,EAAA,cAAA,CAAA,EAAA,CAFqBH,EAAA8J,EAAA,CAAE,KAAK,QAAA,KAAA,GAzF/C,MAAA,WAAA,EAAA,6BAAAC,EAAAC,GAAAlJ,EAAAX,EAAA,WAAA,cAAA,YAAAW,EAAA,QAAA,EAAA,CAAA,CAAA,EAAA,KA6FK,CAAA,CAAM,EAAA,CAAA,EAAAgI,EAAA,MAAA,CACL,MAKE5I,EAAA,CAAA,CAAAC,EAAA,OAAA,WAAA,EAAA,GAAA,CAAAA,EAAA,OAAA,QAAA,EAAAA,EAAA,aAAA,CAAA,CAAA,EAAA,GAHSsK,EAAW,CACrB,MAAAtK,EAAA,cACC,UAAQgK,YAAAA,eAAAA,2EAlGhB,EAAA,CAAA,CAAA,CAAA,EAAA,IAAA,GAAA,EAAA"}