/*! (c) 2020 Andrea Giammarchi */const{parse:p,stringify:w}=JSON,{keys:h}=Object,f=String,k="string",g={},m="object",b=(s,e)=>e,j=s=>s instanceof f?f(s):s,S=(s,e)=>typeof e===k?new f(e):e,v=(s,e,n,i)=>{const o=[];for(let t=h(n),{length:l}=t,r=0;r<l;r++){const c=t[r],y=n[c];if(y instanceof f){const a=s[y];typeof a===m&&!e.has(a)?(e.add(a),n[c]=g,o.push({k:c,a:[s,e,a,i]})):n[c]=i.call(n,c,a)}else n[c]!==g&&(n[c]=i.call(n,c,y))}for(let{length:t}=o,l=0;l<t;l++){const{k:r,a:c}=o[l];n[r]=i.call(n,r,v.apply(null,c))}return n},O=(s,e)=>{const n=p(s,S).map(j),i=n[0],o=b,t=typeof i===m&&i?v(n,new Set,i,o):i;return o.call({"":t},"",t)};export{O as p};
//# sourceMappingURL=flatted-DN8lQ2XG.js.map
