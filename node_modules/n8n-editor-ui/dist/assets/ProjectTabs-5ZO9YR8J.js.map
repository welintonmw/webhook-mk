{"version":3,"file":"ProjectTabs-5ZO9YR8J.js","sources":["../../src/components/Projects/ProjectTabs.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { ref, watch, computed } from 'vue';\nimport type { RouteRecordName } from 'vue-router';\nimport { useRoute } from 'vue-router';\nimport { VIEWS } from '@/constants';\nimport { useI18n } from '@/composables/useI18n';\nimport { useProjectsStore } from '@/stores/projects.store';\nimport { getProjectPermissions } from '@/permissions';\n\nconst locale = useI18n();\nconst route = useRoute();\n\nconst projectsStore = useProjectsStore();\n\nconst selectedTab = ref<RouteRecordName | null | undefined>('');\nconst options = computed(() => {\n\tconst projectId = route?.params?.projectId;\n\tconst to = projectId\n\t\t? {\n\t\t\t\tworkflows: {\n\t\t\t\t\tname: VIEWS.PROJECTS_WORKFLOWS,\n\t\t\t\t\tparams: { projectId },\n\t\t\t\t},\n\t\t\t\tcredentials: {\n\t\t\t\t\tname: VIEWS.PROJECTS_CREDENTIALS,\n\t\t\t\t\tparams: { projectId },\n\t\t\t\t},\n\t\t\t}\n\t\t: {\n\t\t\t\tworkflows: {\n\t\t\t\t\tname: VIEWS.WORKFLOWS,\n\t\t\t\t},\n\t\t\t\tcredentials: {\n\t\t\t\t\tname: VIEWS.CREDENTIALS,\n\t\t\t\t},\n\t\t\t};\n\tconst tabs = [\n\t\t{\n\t\t\tlabel: locale.baseText('mainSidebar.workflows'),\n\t\t\tvalue: to.workflows.name,\n\t\t\tto: to.workflows,\n\t\t},\n\t\t{\n\t\t\tlabel: locale.baseText('mainSidebar.credentials'),\n\t\t\tvalue: to.credentials.name,\n\t\t\tto: to.credentials,\n\t\t},\n\t];\n\n\tif (projectId && getProjectPermissions(projectsStore.currentProject).update) {\n\t\ttabs.push({\n\t\t\tlabel: locale.baseText('projects.settings'),\n\t\t\tvalue: VIEWS.PROJECT_SETTINGS,\n\t\t\tto: { name: VIEWS.PROJECT_SETTINGS, params: { projectId } },\n\t\t});\n\t}\n\n\treturn tabs;\n});\nwatch(\n\t() => route?.name,\n\t() => {\n\t\tselectedTab.value = route?.name;\n\t},\n\t{ immediate: true },\n);\n</script>\n\n<template>\n\t<div :class=\"$style.projectTabs\">\n\t\t<N8nTabs v-model=\"selectedTab\" :options=\"options\" data-test-id=\"project-tabs\" />\n\t</div>\n</template>\n\n<style module lang=\"scss\">\n.projectTabs {\n\tpadding: var(--spacing-2xs) 0 var(--spacing-l);\n}\n</style>\n"],"names":["locale","useI18n","route","useRoute","projectsStore","useProjectsStore","selectedTab","ref","options","computed","projectId","_a","to","VIEWS","tabs","getProjectPermissions","watch"],"mappings":"uPASA,MAAMA,EAASC,IACTC,EAAQC,IAERC,EAAgBC,IAEhBC,EAAcC,EAAwC,EAAE,EACxDC,EAAUC,EAAS,IAAM,OACxB,MAAAC,GAAYC,EAAAT,GAAA,YAAAA,EAAO,SAAP,YAAAS,EAAe,UAC3BC,EAAKF,EACR,CACA,UAAW,CACV,KAAMG,EAAM,mBACZ,OAAQ,CAAE,UAAAH,CAAU,CACrB,EACA,YAAa,CACZ,KAAMG,EAAM,qBACZ,OAAQ,CAAE,UAAAH,CAAU,CACrB,CAAA,EAEA,CACA,UAAW,CACV,KAAMG,EAAM,SACb,EACA,YAAa,CACZ,KAAMA,EAAM,WACb,CAAA,EAEGC,EAAO,CACZ,CACC,MAAOd,EAAO,SAAS,uBAAuB,EAC9C,MAAOY,EAAG,UAAU,KACpB,GAAIA,EAAG,SACR,EACA,CACC,MAAOZ,EAAO,SAAS,yBAAyB,EAChD,MAAOY,EAAG,YAAY,KACtB,GAAIA,EAAG,WACR,CAAA,EAGD,OAAIF,GAAaK,EAAsBX,EAAc,cAAc,EAAE,QACpEU,EAAK,KAAK,CACT,MAAOd,EAAO,SAAS,mBAAmB,EAC1C,MAAOa,EAAM,iBACb,GAAI,CAAE,KAAMA,EAAM,iBAAkB,OAAQ,CAAE,UAAAH,EAAY,CAAA,CAC1D,EAGKI,CAAA,CACP,EACD,OAAAE,EACC,IAAMd,GAAA,YAAAA,EAAO,KACb,IAAM,CACLI,EAAY,MAAQJ,GAAA,YAAAA,EAAO,IAC5B,EACA,CAAE,UAAW,EAAK,CAAA"}