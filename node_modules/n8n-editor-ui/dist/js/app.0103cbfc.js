(function(e){function t(t){for(var o,a,r=t[0],l=t[1],d=t[2],u=0,h=[];u<r.length;u++)a=r[u],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&h.push(n[a][0]),n[a]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);c&&c(t);while(h.length)h.shift()();return i.push.apply(i,d||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],o=!0,r=1;r<s.length;r++){var l=s[r];0!==n[l]&&(o=!1)}o&&(i.splice(t--,1),e=a(a.s=s[0]))}return e}var o={},n={app:0},i=[];function a(t){if(o[t])return o[t].exports;var s=o[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=e,a.c=o,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(s,o,function(t){return e[t]}.bind(null,o));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/%BASE_PATH%/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var d=0;d<r.length;d++)t(r[d]);var c=l;i.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("cd49")},"0034":function(e,t,s){"use strict";var o=s("57b6"),n=s.n(o);s.d(t,"default",(function(){return n.a}))},"00c9":function(e,t,s){e.exports={content:"DuplicateWorkflowDialog_content_Asx89",footer:"DuplicateWorkflowDialog_footer_2r30D"}},"04bb":function(e,t,s){e.exports={container:"SaveButton_container_3azMz",saved:"SaveButton_saved_1pOW9"}},"0526":function(e,t,s){e.exports={badge:"Badge_badge_1XB27",danger:"Badge_danger_3sbTf Badge_badge_1XB27",warning:"Badge_warning_HhAe4 Badge_badge_1XB27"}},"05a3":function(e,t,s){},"07d2":function(e,t,s){"use strict";var o=s("f17f"),n=s.n(o);s.d(t,"default",(function(){return n.a}))},"07f6":function(e,t,s){"use strict";var o=s("00c9"),n=s.n(o);s.d(t,"default",(function(){return n.a}))},"07f7":function(e,t,s){"use strict";s("e66e")},"082b":function(e,t,s){"use strict";s("b23e")},"0a29":function(e,t,s){},"0b5a":function(e,t,s){"use strict";s("ef96")},"0c53":function(e,t,s){},"0d29":function(e,t,s){"use strict";var o=s("a2e4"),n=s.n(o);s.d(t,"default",(function(){return n.a}))},"0db7":function(e,t,s){},"0e5c":function(e,t,s){"use strict";s("82d7")},"0f00":function(e,t,s){"use strict";s("b8b4")},"0f24":function(e,t,s){},1:function(e,t){},1166:function(e,t,s){"use strict";s("c55a")},"14e7":function(e,t,s){e.exports={subcategory:"SubcategoryItem_subcategory_1qA9P",details:"SubcategoryItem_details_vkl5C",title:"SubcategoryItem_title_bhMTr",description:"SubcategoryItem_description_3eMGH",action:"SubcategoryItem_action_18PKP",arrow:"SubcategoryItem_arrow_1jPkb"}},"1b39":function(e,t,s){"use strict";s("a3a5")},"1c10":function(e,t,s){"use strict";var o=s("98f8"),n=s.n(o);s.d(t,"default",(function(){return n.a}))},"1c19":function(e,t,s){},2:function(e,t){},2049:function(e,t,s){},"22cb":function(e,t,s){"use strict";s("9b22")},"241c":function(e,t,s){"use strict";var o=s("26f7"),n=s.n(o);s.d(t,"default",(function(){return n.a}))},2581:function(e,t,s){},"26f7":function(e,t,s){e.exports={container:"CredentialInputs_container_9j1R7"}},"26fe":function(e,t,s){"use strict";s("0db7")},"2d96":function(e,t,s){"use strict";s("f75d")},"2dcf":function(e,t,s){"use strict";s("35f7")},"2dd6":function(e,t){(function(){"use strict";var e=this,t=e.jsPlumb,s=e.jsPlumbUtil,o=e.Biltong,n="Straight",i="Arc";const a=function(e){e=e||{},this.type="N8nCustom",e.stub=null==e.stub?30:e.stub;var s,o=t.Connectors.AbstractConnector.apply(this,arguments),n=0,i=0,a=null==e.midpoint?.5:e.midpoint,l=!0===e.alwaysRespectStubs,d=e.loopbackVerticalLength||0,c=null,u=null,p=null!=e.cornerRadius?e.cornerRadius:0,m=e.loopbackMinimum||100,v=.4,y=40,b=e.targetGap||0,k=e.stub||0;this.setTargetEndpoint=function(e){this.overrideTargetEndpoint=e},this.resetTargetEndpoint=function(){this.overrideTargetEndpoint=null},this._compute=function(t,s){const o=w(s,{targetGap:b,stub:k,overrideTargetEndpoint:this.overrideTargetEndpoint,getEndpointOffset:e.getEndpointOffset});Object.keys(o).forEach(e=>{t[e]=o[e]}),o.tx<0?this._computeFlowchart(o):this._computeBezier(o)},this._computeBezier=function(e){var t,s,a=e.sourcePos,l=e.targetPos,d=Math.abs(a[0]-l[0])-e.targetGap,c=Math.abs(a[1]-l[1]),u=a[0]<l[0]?d:0,h=a[1]<l[1]?c:0,p=a[0]<l[0]?0:d,m=a[1]<l[1]?0:c;i=e.ySpan<=20||e.ySpan<=100&&e.xSpan<=100?.1:e.xSpan*v+y,t=r([u,h],a,l,e.sourceEndpoint,e.targetEndpoint,e.so,e.to,i,n),s=r([p,m],l,a,e.targetEndpoint,e.sourceEndpoint,e.to,e.so,i,n),o.addSegment(this,"Bezier",{x1:u,y1:h,x2:p,y2:m,cp1x:t[0],cp1y:t[1],cp2x:s[0],cp2y:s[1]})};const x=function(e,t,s,o){if(c!==t||u!==s){var n=null==c?o.sx:c,i=null==u?o.sy:u,a=n===t?"v":"h";c=t,u=s,e.push([n,i,t,s,a])}};this._computeFlowchart=function(e){s=[],c=null,u=null;var t=f(e,{alwaysRespectStubs:l});x(s,t[0],t[1],e);var n=g(e,t,{midpoint:a,loopbackMinimum:m,loopbackVerticalLength:d});if(n)for(var i=0;i<n.length;i++)x(s,n[i][0],n[i][1],e);x(s,t[2],t[3],e),x(s,e.tx,e.ty,e),h(o,this,s,e,p)}};function r(e,t,s,o,n,i,a,r,l){var d=i[0]!==a[0]||i[1]===a[1],c=[];return d?(0===a[0]?c.push(s[0]<t[0]?e[0]+l:e[0]-l):c.push(e[0]+r*a[0]),0===a[1]?c.push(s[1]<t[1]?e[1]+l:e[1]-l):c.push(e[1]+r*i[1])):(0===i[0]?c.push(t[0]<s[0]?e[0]+l:e[0]-l):c.push(e[0]-r*i[0]),0===i[1]?c.push(t[1]<s[1]?e[1]+l:e[1]-l):c.push(e[1]+r*a[1])),c}function l(e){return e<0?-1:0===e?0:1}function d(e){return[l(e[2]-e[0]),l(e[3]-e[1])]}function c(e){return Math.sqrt(Math.pow(e[0]-e[2],2)+Math.pow(e[1]-e[3],2))}function u(e){var t=[];return t.push.apply(t,e),t}function h(e,t,s,o,a){for(var r,l,h,p=null,m=0;m<s.length-1;m++){if(p=p||u(s[m]),r=u(s[m+1]),l=d(p),h=d(r),a>0&&p[4]!==r[4]){var f=Math.min(c(p),c(r)),g=Math.min(a,f/2);p[2]-=l[0]*g,p[3]-=l[1]*g,r[0]+=h[0]*g,r[1]+=h[1]*g;var w=l[1]===h[0]&&1===h[0]||l[1]===h[0]&&0===h[0]&&l[0]!==h[1]||l[1]===h[0]&&-1===h[0],v=r[1]>p[3]?1:-1,y=r[0]>p[2]?1:-1,b=v===y,k=b&&w||!b&&!w?r[0]:p[2],x=b&&w||!b&&!w?p[3]:r[1];e.addSegment(t,n,{x1:p[0],y1:p[1],x2:p[2],y2:p[3]}),e.addSegment(t,i,{r:g,x1:p[2],y1:p[3],x2:r[0],y2:r[1],cx:k,cy:x,ac:w})}else{var C=p[2]===p[0]?0:p[2]>p[0]?o.lw/2:-o.lw/2,_=p[3]===p[1]?0:p[3]>p[1]?o.lw/2:-o.lw/2;e.addSegment(t,n,{x1:p[0]-C,y1:p[1]-_,x2:p[2]+C,y2:p[3]+_})}p=r}null!=r&&e.addSegment(t,n,{x1:r[0],y1:r[1],x2:r[2],y2:r[3]})}t.Connectors.N8nCustom=a,s.extend(t.Connectors.N8nCustom,t.Connectors.AbstractConnector);const p={opposite:function(e,{axis:t,startStub:s,endStub:o,idx:n,midx:i,midy:a}){var r=e,l=r["is"+t.toUpperCase()+"GreaterThanStubTimes2"];return!l||1===r.so[n]&&s>o||-1===r.so[n]&&s<o?{x:[[s,a],[o,a]],y:[[i,s],[i,o]]}[t]:1===r.so[n]&&s<o||-1===r.so[n]&&s>o?{x:[[i,r.sy],[i,r.ty]],y:[[r.sx,a],[r.tx,a]]}[t]:void 0}},m={opposite:function(e,{axis:t,alwaysRespectStubs:s}){var o=e,n="x"===t?0:1,i={x:function(){return 1===o.so[n]&&(o.startStubX>o.endStubX&&o.tx>o.startStubX||o.sx>o.endStubX&&o.tx>o.sx)||-1===o.so[n]&&(o.startStubX<o.endStubX&&o.tx<o.startStubX||o.sx<o.endStubX&&o.tx<o.sx)},y:function(){return 1===o.so[n]&&(o.startStubY>o.endStubY&&o.ty>o.startStubY||o.sy>o.endStubY&&o.ty>o.sy)||-1===o.so[n]&&(o.startStubY<o.endStubY&&o.ty<o.startStubY||o.sy<o.endStubY&&o.ty<o.sy)}};return!s&&i[t]()?{x:[(e.sx+e.tx)/2,e.startStubY,(e.sx+e.tx)/2,e.endStubY],y:[e.startStubX,(e.sy+e.ty)/2,e.endStubX,(e.sy+e.ty)/2]}[t]:[e.startStubX,e.startStubY,e.endStubX,e.endStubY]}};function f(e,{alwaysRespectStubs:t}){return m["opposite"](e,{axis:e.sourceAxis,alwaysRespectStubs:t})}function g(e,t,{midpoint:s,loopbackVerticalLength:o,loopbackMinimum:n}){const i=e.sourceAxis,a="x"===e.sourceAxis?0:1,r="x"===e.sourceAxis?1:0,l=t[a],d=t[r],c=t[a+2],u=t[r+2],h=e.endStubX-e.startStubX,m=e.endStubY-e.startStubY,f=m>=0?1:-1;var g,w=e.startStubX+(e.endStubX-e.startStubX)*s;return g=h<-1*n?e.startStubY-(h<0?f*o:0):e.startStubY+(e.endStubY-e.startStubY)*s,p["opposite"](e,{axis:i,startStub:l,otherStartStub:d,endStub:c,otherEndStub:u,idx:a,oidx:r,midx:w,midy:g})}function w(e,{targetGap:t,stub:n,overrideTargetEndpoint:i,getEndpointOffset:a}){let{targetPos:r,targetEndpoint:l}=e;i&&(r=i.anchor.getCurrentLocation(),l=i);const d=0;n=n||0;const c=s.isArray(n)?n[0]:n,u=s.isArray(n)?n[1]:n;var h=o.quadrant(e.sourcePos,r),p=r[0]<e.sourcePos[0],m=r[1]<e.sourcePos[1],f=e.strokeWidth||1,g=e.sourceEndpoint.anchor.getOrientation(e.sourceEndpoint),w=l.anchor.getOrientation(l),v=p?r[0]:e.sourcePos[0],y=m?r[1]:e.sourcePos[1],b=Math.abs(r[0]-e.sourcePos[0]),k=Math.abs(r[1]-e.sourcePos[1]);if(0===g[0]&&0===g[1]||0===w[0]&&0===w[1]){var x=b>k?0:1,C=[1,0][x];g=[],w=[],g[x]=e.sourcePos[x]>r[x]?-1:1,w[x]=e.sourcePos[x]>r[x]?1:-1,g[C]=0,w[C]=0}const _=p?b+d*g[0]:d*g[0],E=m?k+d*g[1]:d*g[1],$=p?t*w[0]:b+t*w[0],N=m?t*w[1]:k+t*w[1],T=g[0]*w[0]+g[1]*w[1],I=c+(a&&e.sourceEndpoint?a(e.sourceEndpoint):0),S=u+(a&&l?a(l):0);var O={sx:_,sy:E,tx:$,ty:N,lw:f,xSpan:Math.abs($-_),ySpan:Math.abs(N-E),mx:(_+$)/2,my:(E+N)/2,so:g,to:w,x:v,y:y,w:b,h:k,segment:h,startStubX:_+g[0]*I,startStubY:E+g[1]*I,endStubX:$+w[0]*S,endStubY:N+w[1]*S,isXGreaterThanStubTimes2:Math.abs(_-$)>I+S,isYGreaterThanStubTimes2:Math.abs(E-N)>I+S,opposite:-1===T,perpendicular:0===T,orthogonal:1===T,sourceAxis:0===g[0]?"y":"x",points:[v,y,b,k,_,E,$,N],stubs:[I,S],anchorOrientation:"opposite",sourceEndpoint:e.sourceEndpoint,targetEndpoint:l,sourcePos:e.sourcePos,targetPos:l.anchor.getCurrentLocation(),targetGap:t};return O}}).call("undefined"!==typeof window?window:this)},"2df2":function(e,t,s){"use strict";s("98e5")},"30db":function(e,t,s){"use strict";s("b114")},3204:function(e,t,s){},"33ac":function(e,t,s){"use strict";s("754c")},"35f7":function(e,t,s){},"36c5":function(e,t,s){e.exports={container:"CredentialInfo_container_6PQw5",label:"CredentialInfo_label_2EkWq",accessLabel:"CredentialInfo_accessLabel_3j9Lf CredentialInfo_label_2EkWq",valueLabel:"CredentialInfo_valueLabel_27AQP"}},3905:function(e,t,s){e.exports={copyText:"CopyInput_copyText_3EVrj",copyButton:"CopyInput_copyButton_2dW9I",subtitle:"CopyInput_subtitle_1OsjU"}},3976:function(e,t,s){},"39b0":function(e,t,s){},"3c13":function(e,t,s){},"3c38":function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"paramter-input-list-wrapper"},e._l(e.filteredParameters,(function(t){return s("div",{key:t.name,class:{indent:e.indent}},[!0===e.multipleValues(t)&&"fixedCollection"!==t.type?s("div",{staticClass:"parameter-item"},[s("multiple-parameter",{attrs:{parameter:t,values:e.getParameterValue(e.nodeValues,t.name,e.path),nodeValues:e.nodeValues,path:e.getPath(t.name)},on:{valueChanged:e.valueChanged}})],1):"notice"===t.type?s("div",{staticClass:"parameter-item parameter-notice"},[s("n8n-text",{attrs:{size:"small"}},[s("span",{domProps:{innerHTML:e._s(t.displayName)}})])],1):["collection","fixedCollection"].includes(t.type)?s("div",{staticClass:"multi-parameter"},[!0===e.hideDelete||e.isReadOnly?e._e():s("div",{staticClass:"delete-option clickable",attrs:{title:"Delete"}},[s("font-awesome-icon",{staticClass:"reset-icon clickable",attrs:{icon:"trash",title:"Parameter Options"},on:{click:function(s){return e.deleteOption(t.name)}}})],1),s("n8n-input-label",{attrs:{label:t.displayName,tooltipText:t.description,size:"small",underline:!0,labelHoverableOnly:!0}},["collection"===t.type?s("collection-parameter",{attrs:{parameter:t,values:e.getParameterValue(e.nodeValues,t.name,e.path),nodeValues:e.nodeValues,path:e.getPath(t.name)},on:{valueChanged:e.valueChanged}}):"fixedCollection"===t.type?s("fixed-collection-parameter",{attrs:{parameter:t,values:e.getParameterValue(e.nodeValues,t.name,e.path),nodeValues:e.nodeValues,path:e.getPath(t.name)},on:{valueChanged:e.valueChanged}}):e._e()],1)],1):e.displayNodeParameter(t)?s("div",{staticClass:"parameter-item"},[!0===e.hideDelete||e.isReadOnly?e._e():s("div",{staticClass:"delete-option clickable",attrs:{title:"Delete"}},[s("font-awesome-icon",{staticClass:"reset-icon clickable",attrs:{icon:"trash",title:"Delete Parameter"},on:{click:function(s){return e.deleteOption(t.name)}}})],1),s("parameter-input-full",{attrs:{parameter:t,value:e.getParameterValue(e.nodeValues,t.name,e.path),displayOptions:!0,path:e.getPath(t.name),isReadOnly:e.isReadOnly},on:{valueChanged:e.valueChanged}})],1):e._e()])})),0)},n=[],i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"duplicate-parameter",on:{keydown:function(e){e.stopPropagation()}}},[s("n8n-input-label",{attrs:{label:e.parameter.displayName,tooltipText:e.parameter.description,underline:!0,labelHoverableOnly:!0,size:"small"}},[e._l(e.values,(function(t,o){return s("div",{key:o,staticClass:"duplicate-parameter-item",class:e.parameter.type},[e.isReadOnly?e._e():s("div",{staticClass:"delete-item clickable"},[s("font-awesome-icon",{attrs:{icon:"trash",title:"Delete Item"},on:{click:function(t){return e.deleteItem(o)}}}),e.sortable?s("div",[0!==o?s("font-awesome-icon",{staticClass:"clickable",attrs:{icon:"angle-up",title:"Move up"},on:{click:function(t){return e.moveOptionUp(o)}}}):e._e(),o!==e.values.length-1?s("font-awesome-icon",{staticClass:"clickable",attrs:{icon:"angle-down",title:"Move down"},on:{click:function(t){return e.moveOptionDown(o)}}}):e._e()],1):e._e()],1),"collection"===e.parameter.type?s("div",[s("collection-parameter",{attrs:{parameter:e.parameter,values:t,nodeValues:e.nodeValues,path:e.getPath(o),hideDelete:e.hideDelete},on:{valueChanged:e.valueChanged}})],1):s("div",[s("parameter-input",{staticClass:"duplicate-parameter-input-item",attrs:{parameter:e.parameter,value:t,displayOptions:!0,path:e.getPath(o),inputSize:"small",isReadOnly:e.isReadOnly},on:{valueChanged:e.valueChanged}})],1)])})),s("div",{staticClass:"add-item-wrapper"},[e.values&&0===Object.keys(e.values).length||e.isReadOnly?s("div",{staticClass:"no-items-exist"},[s("n8n-text",{attrs:{size:"small"}},[e._v("Currently no items exist")])],1):e._e(),e.isReadOnly?e._e():s("n8n-button",{attrs:{fullWidth:"",label:e.addButtonText},on:{click:function(t){return e.addItem()}}})],1)],2)],1)},a=[],r=s("3eb9"),l=s("89e8"),d=s("9ec3"),c=s("4971"),u=s("aaf5"),h=Object(u["a"])(c["a"]).extend({name:"MultipleParameter",components:{CollectionParameter:r["default"],ParameterInput:l["a"]},props:["nodeValues","parameter","path","values"],computed:{addButtonText(){return this.parameter.typeOptions&&this.parameter.typeOptions.multipleValueButtonText?this.parameter.typeOptions.multipleValueButtonText:"Add item"},hideDelete(){return 1===this.parameter.options.length},sortable(){return this.parameter.typeOptions&&this.parameter.typeOptions.sortable}},methods:{addItem(){const e=this.getPath();let t=Object(d["get"])(this.nodeValues,e);void 0===t&&(t=[]),t.push(JSON.parse(JSON.stringify(this.parameter.default)));const s={name:e,value:t};this.$emit("valueChanged",s)},deleteItem(e){const t={name:this.getPath(e),value:void 0};this.$emit("valueChanged",t)},getPath(e){return this.path+(void 0!==e?`[${e}]`:"")},moveOptionDown(e){this.values.splice(e+1,0,this.values.splice(e,1)[0]);const t={name:this.path,value:this.values};this.$emit("valueChanged",t)},moveOptionUp(e){this.values.splice(e-1,0,this.values.splice(e,1)[0]);const t={name:this.path,value:this.values};this.$emit("valueChanged",t)},valueChanged(e){this.$emit("valueChanged",e)}}}),p=h,m=(s("746d"),s("5e82"),s("2be6")),f=Object(m["a"])(p,i,a,!1,null,"23a9099c",null),g=f.exports,w=s("d2e2"),v=s("4a0c"),y=Object(u["a"])(c["a"],w["a"]).extend({name:"ParameterInputList",components:{MultipleParameter:g,ParameterInputFull:v["a"]},props:["nodeValues","parameters","path","hideDelete","indent"],computed:{filteredParameters(){return this.parameters.filter(e=>this.displayNodeParameter(e))},filteredParameterNames(){return this.filteredParameters.map(e=>e.name)}},methods:{multipleValues(e){return!0===this.getArgument("multipleValues",e)},getArgument(e,t){if(void 0!==t.typeOptions&&void 0!==t.typeOptions[e])return t.typeOptions[e]},getPath(e){return(this.path?this.path+".":"")+e},deleteOption(e){const t={name:this.getPath(e),value:void 0};this.$emit("valueChanged",t)},displayNodeParameter(e){if("hidden"===e.type)return!1;if(void 0===e.displayOptions)return!0;const t={};let s=this.nodeValues;this.path&&(s=Object(d["get"])(this.nodeValues,this.path));const o=Object.keys(s);let n,i=0,a=!1;do{if(n=o.shift(),"string"===typeof s[n]&&"="===s[n].charAt(0)){if(s[n].includes("$parameter")&&o.some(e=>s[n].includes(e))){o.push(n);continue}try{t[n]=this.resolveExpression(s[n],t)}catch(r){t[n]=""}a=!0}else t[n]=s[n];if(i++>50)break}while(0!==o.length);return!0===a?this.path?(s=JSON.parse(JSON.stringify(this.nodeValues)),Object(d["set"])(s,this.path,t),this.displayParameter(s,e,this.path)):this.displayParameter(t,e,""):this.displayParameter(this.nodeValues,e,this.path)},valueChanged(e){this.$emit("valueChanged",e)}},watch:{filteredParameterNames(e,t){if(void 0!==e)for(const s of t)if(!e.includes(s)){const e={name:`${this.path}.${s}`,node:this.$store.getters.activeNode.name,value:void 0};this.$emit("valueChanged",e)}}},beforeCreate:function(){this.$options.components.FixedCollectionParameter=s("fe0b").default,this.$options.components.CollectionParameter=s("3eb9").default}}),b=y,k=(s("ae93"),Object(m["a"])(b,o,n,!1,null,null,null));t["default"]=k.exports},"3eb9":function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"collection-parameter",on:{keydown:function(e){e.stopPropagation()}}},[s("div",{staticClass:"collection-parameter-wrapper"},[0===e.getProperties.length?s("div",{staticClass:"no-items-exist"},[s("n8n-text",{attrs:{size:"small"}},[e._v("Currently no properties exist")])],1):e._e(),s("parameter-input-list",{attrs:{parameters:e.getProperties,nodeValues:e.nodeValues,path:e.path,hideDelete:e.hideDelete,indent:!0},on:{valueChanged:e.valueChanged}}),e.parameterOptions.length>0&&!e.isReadOnly?s("div",{staticClass:"param-options"},[1===e.parameter.options.length?s("n8n-button",{attrs:{fullWidth:"",label:e.getPlaceholderText},on:{click:function(t){return e.optionSelected(e.parameter.options[0].name)}}}):s("div",{staticClass:"add-option"},[s("n8n-select",{attrs:{placeholder:e.getPlaceholderText,size:"small",filterable:""},on:{change:e.optionSelected},model:{value:e.selectedOption,callback:function(t){e.selectedOption=t},expression:"selectedOption"}},e._l(e.parameterOptions,(function(e){return s("n8n-option",{key:e.name,attrs:{label:e.displayName,value:e.name}})})),1)],1)],1):e._e()],1)])},n=[],i=s("4971"),a=s("6fae"),r=s("9ec3"),l=s("aaf5"),d=Object(l["a"])(i["a"],a["a"]).extend({name:"CollectionParameter",props:["hideDelete","nodeValues","parameter","path","values"],data(){return{selectedOption:void 0}},computed:{getPlaceholderText(){return this.parameter.placeholder?this.parameter.placeholder:"Choose Option To Add"},getProperties(){const e=[];let t;for(const s of this.propertyNames)t=this.getOptionProperties(s),void 0!==t&&e.push(...t);return e},filteredOptions(){return this.parameter.options.filter(e=>this.displayNodeParameter(e))},parameterOptions(){return this.filteredOptions.filter(e=>!this.propertyNames.includes(e.name))},propertyNames(){return this.values?Object.keys(this.values):[]}},methods:{getArgument(e){if(void 0!==this.parameter.typeOptions&&void 0!==this.parameter.typeOptions[e])return this.parameter.typeOptions[e]},getOptionProperties(e){const t=[];for(const s of this.parameter.options)s.name===e&&t.push(s);return t},displayNodeParameter(e){return void 0===e.displayOptions||this.displayParameter(this.nodeValues,e,this.path)},optionSelected(e){const t=this.getOptionProperties(e);if(0===t.length)return;const s=t[0],o=`${this.path}.${s.name}`;let n;if(void 0!==s.typeOptions&&!0===s.typeOptions.multipleValues){let t;"fixedCollection"===s.type?t=Object(r["get"])(this.nodeValues,`${this.path}.${e}`,{}):(t=Object(r["get"])(this.nodeValues,`${this.path}.${e}`,[]),t.push(JSON.parse(JSON.stringify(s.default)))),n={name:o,value:t}}else n={name:o,value:JSON.parse(JSON.stringify(s.default))};this.$emit("valueChanged",n),this.selectedOption=void 0},valueChanged(e){this.$emit("valueChanged",e)}},beforeCreate:function(){this.$options.components.ParameterInputList=s("3c38").default}}),c=d,u=(s("ab7d"),s("2be6")),h=Object(u["a"])(c,o,n,!1,null,null,null);t["default"]=h.exports},"3f4d":function(e,t,s){"use strict";var o=s("7d42"),n=s.n(o);s.d(t,"default",(function(){return n.a}))},4072:function(e,t,s){e.exports={container:"InlineNameEdit_container_1_vQf",headline:"InlineNameEdit_headline_2Dnxo",nameInput:"InlineNameEdit_nameInput_mMGgl",subtitle:"InlineNameEdit_subtitle_227Od"}},"412c":function(e,t,s){e.exports={"node-item":"NodeItem_node-item_2Zsor",bordered:"NodeItem_bordered_w_vFL",details:"NodeItem_details_2r40-","node-icon":"NodeItem_node-icon_2HTdM",name:"NodeItem_name_YVqyq",description:"NodeItem_description_381cn","trigger-icon":"NodeItem_trigger-icon_2L8v3"}},"41ea":function(e,t,s){"use strict";s("a2ea")},4242:function(e,t,s){"use strict";s("a980")},"456b":function(e,t,s){"use strict";var o=s("b4ec"),n=s.n(o);s.d(t,"default",(function(){return n.a}))},4614:function(e,t,s){},"465a":function(e,t,s){},"46d0":function(e,t,s){"use strict";s("7caa")},4774:function(e,t,s){e.exports={credentialModal:"CredentialEdit_credentialModal_3EKhZ",mainContent:"CredentialEdit_mainContent_3sXyZ",sidebar:"CredentialEdit_sidebar_fo-5O",header:"CredentialEdit_header_1Btov",container:"CredentialEdit_container_2BczV",credInfo:"CredentialEdit_credInfo_34nAe",credTab:"CredentialEdit_credTab_3r_dn",credActions:"CredentialEdit_credActions_1asPH",credIcon:"CredentialEdit_credIcon_17CFE"}},"478f":function(e,t,s){"use strict";s("2049")},4971:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var o=s("77f0"),n=s("9ec3"),i=s("aaf5");const a=Object(i["a"])(o["a"]).extend({data(){return{loadingService:null,debouncedFunctions:[]}},computed:{isReadOnly(){return!["NodeViewExisting","NodeViewNew"].includes(this.$route.name)}},methods:{displayTimer(e,t=!1){if(e<6e4)return!1===t?Math.floor(e/1e3)+" sec.":e/1e3+" sec.";const s=Math.floor(e/1e3),o=Math.floor(s/60),n=(s-60*o).toString().padStart(2,"0");return`${o}:${n} min.`},editAllowedCheck(){return!this.isReadOnly||(this.$showMessage({title:"Workflow can not be changed!",message:"The workflow can not be edited as a past execution gets displayed. To make changed either open the original workflow of which the execution gets displayed or save it under a new name first.",type:"error",duration:0}),!1)},startLoading(e){null===this.loadingService&&(this.loadingService=this.$loading({lock:!0,text:e||"Loading",spinner:"el-icon-loading",background:"rgba(255, 255, 255, 0.8)"}))},setLoadingText(e){this.loadingService.text=e},stopLoading(){null!==this.loadingService&&(this.loadingService.close(),this.loadingService=null)},async callDebounced(...e){const t=e.shift(),s=e.shift();void 0===this.debouncedFunctions[t]&&(this.debouncedFunctions[t]=Object(n["debounce"])(this[t],s,{leading:!0})),await this.debouncedFunctions[t].apply(this,e)}}})},"4a0c":function(e,t,s){"use strict";var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("n8n-input-label",{attrs:{label:e.parameter.displayName,tooltipText:e.parameter.description,showTooltip:e.focused,bold:!1,size:"small"}},[s("parameter-input",{attrs:{parameter:e.parameter,value:e.value,displayOptions:e.displayOptions,path:e.path,isReadOnly:e.isReadOnly,inputSize:"small"},on:{valueChanged:e.valueChanged,focus:function(t){e.focused=!0},blur:function(t){e.focused=!1}}})],1)},n=[],i=s("9869"),a=s("89e8"),r=i["default"].extend({name:"ParameterInputFull",components:{ParameterInput:a["a"]},data(){return{focused:!1}},props:["displayOptions","isReadOnly","parameter","path","value"],methods:{getArgument(e){if(void 0!==this.parameter.typeOptions&&void 0!==this.parameter.typeOptions[e])return this.parameter.typeOptions[e]},valueChanged(e){this.$emit("valueChanged",e)}}}),l=r,d=s("2be6"),c=Object(d["a"])(l,o,n,!1,null,null,null);t["a"]=c.exports},"4a15":function(e,t,s){"use strict";s("97cd")},"4a31":function(e,t,s){"use strict";var o=s("d1dc"),n=s.n(o);s.d(t,"default",(function(){return n.a}))},"4b3a":function(e,t,s){e.exports={icon:"Banner_icon_-91Jn",dangerIcon:"Banner_dangerIcon_3HO5q Banner_icon_-91Jn",container:"Banner_container_8nqa5",message:"Banner_message_3I2eD",dangerMessage:"Banner_dangerMessage_HkF59 Banner_message_3I2eD",banner:"Banner_banner_2eGM6",content:"Banner_content_3IX8j",expandButton:"Banner_expandButton_1rL6X",details:"Banner_details_zA4z4 Banner_message_3I2eD"}},"4ba5":function(e,t,s){"use strict";s("05a3")},"4c7a":function(e,t,s){"use strict";var o=s("4774"),n=s.n(o);s.d(t,"default",(function(){return n.a}))},"4cb6":function(e,t,s){"use strict";s("679b")},"53f5":function(e,t,s){"use strict";s("5ac7")},5572:function(e,t,s){},"57b6":function(e,t,s){e.exports={icon:"WarningTooltip_icon_1TAzy"}},"595c":function(e,t,s){"use strict";s("f1e5")},"5a17":function(e,t,s){},"5ac7":function(e,t,s){},"5c0b":function(e,t,s){"use strict";s("8cbf")},"5d38":function(e,t,s){"use strict";var o=s("14e7"),n=s.n(o);s.d(t,"default",(function(){return n.a}))},"5dc0":function(e,t,s){},"5e82":function(e,t,s){"use strict";s("a9cb")},"622c":function(e,t,s){"use strict";var o=s("4072"),n=s.n(o);s.d(t,"default",(function(){return n.a}))},"62ca":function(e,t,s){"use strict";s("5dc0")},"62ee":function(e,t,s){"use strict";var o=s("b7fe"),n=s.n(o);s.d(t,"default",(function(){return n.a}))},"63b3":function(e,t,s){"use strict";s("3976")},"679b":function(e,t,s){},"691d":function(e,t,s){"use strict";s("39b0")},"6f1b":function(e,t,s){"use strict";s("3204")},"6f70":function(e,t,s){"use strict";s("f19f")},"6fae":function(e,t,s){"use strict";s.d(t,"a",(function(){return l}));var o=s("85ee"),n=s("e105"),i=s("7b04"),a=s("9ec3"),r=s("aaf5");const l=Object(r["a"])(i["a"]).extend({methods:{getParameterValue(e,t,s){return Object(a["get"])(e,s?s+"."+t:t)},displayParameter(e,t,s){return n["NodeHelpers"].displayParameterPath(e,t,s)},getNodeIssues(e,t,s){let o=null;if(s=s||[],!0===t.disabled)return null;if(null===e)s.includes("typeUnknown")||(o={typeUnknown:!0});else if(s.includes("parameters")||(o=n["NodeHelpers"].getNodeParametersIssues(e.properties,t)),!s.includes("credentials")){const s=this.getNodeCredentialIssues(t,e);null===o?o=s:n["NodeHelpers"].mergeIssues(o,s)}return!0!==this.hasNodeExecutionIssues(t)||s.includes("execution")||(null===o&&(o={}),o.execution=!0),o},hasNodeExecutionIssues(e){const t=this.$store.getters.getWorkflowRunData;if(null===t||!t.hasOwnProperty(e.name))return!1;for(const s of t[e.name])if(void 0!==s.error)return!0;return!1},updateNodesExecutionIssues(){const e=this.$store.getters.allNodes;for(const t of e)this.$store.commit("setNodeIssue",{node:t.name,type:"execution",value:!!this.hasNodeExecutionIssues(t)||null})},updateNodeCredentialIssues(e){const t=this.getNodeCredentialIssues(e);let s=null;null!==t&&(s=t.credentials),this.$store.commit("setNodeIssue",{node:e.name,type:"credentials",value:s})},updateNodeParameterIssues(e,t){if(void 0===t&&(t=this.$store.getters.nodeType(e.type)),null===t)return;const s=n["NodeHelpers"].getNodeParametersIssues(t.properties,e);let o=null;null!==s&&(o=s.parameters),this.$store.commit("setNodeIssue",{node:e.name,type:"parameters",value:o})},getNodeCredentialIssues(e,t){if(!0===e.disabled)return null;if(void 0===t&&(t=this.$store.getters.nodeType(e.type)),null===t||void 0===t.credentials)return null;if(void 0===t.credentials)return null;const s={};let o,n,i,a;for(const r of t.credentials)if(!0===this.displayParameter(e.parameters,r,""))if(n=this.$store.getters["credentials/getCredentialTypeByName"](r.name),i=null===n?r.name:n.displayName,void 0===e.credentials||void 0===e.credentials[r.name])!0===r.required&&(s[r.name]=[`Credentials for "${i}" are not set.`]);else{if(a=e.credentials[r.name],"string"===typeof a&&(a={id:null,name:a}),o=this.$store.getters["credentials/getCredentialsByType"](r.name),null===o&&(o=[]),a.id){const e=o.find(e=>e.id===a.id);if(e)continue}const t=o.filter(e=>e.name===a.name);if(t.length>1){s[r.name]=[`Credentials with name "${a.name}" exist for "${i}"`,"Credentials are not clearly identified. Please select the correct credentials."];continue}0===t.length&&(s[r.name]=[`Credentials with name "${a.name}" do not exist for "${i}".`,"You can create credentials with the exact name and then they get auto-selected on refresh."])}return 0===Object.keys(s).length?null:{credentials:s}},updateNodesCredentialsIssues(){const e=this.$store.getters.allNodes;let t;for(const s of e)t=this.getNodeCredentialIssues(s),this.$store.commit("setNodeIssue",{node:s.name,type:"credentials",value:null===t?null:t.credentials})},getNodeInputData(e,t=0,s=0){if(null===e)return[];if(null===this.$store.getters.getWorkflowExecution)return[];const o=this.$store.getters.getWorkflowExecution.data,n=o.resultData.runData;return null!==n&&void 0!==n[e.name]&&n[e.name][t].data&&void 0!==n[e.name][t].data?this.getMainInputData(n[e.name][t].data,s):[]},getMainInputData(e,t){return!e||!e.hasOwnProperty("main")||void 0===e.main||e.main.length<t||null===e.main[t]?[]:e.main[t]},getBinaryData(e,t,s,o){if(null===t)return[];const n=e;if(null===n||!n[t]||!n[t][s]||!n[t][s].data)return[];const i=this.getMainInputData(n[t][s].data,o),a=[];for(let r=0;r<i.length;r++)i[r].hasOwnProperty("binary")&&void 0!==i[r].binary&&a.push(i[r].binary);return a},disableNodes(e){for(const t of e){const e={name:t.name,properties:{disabled:!t.disabled}};this.$store.commit("updateNodeProperties",e),this.$store.commit("clearNodeExecutionData",t.name),this.updateNodeParameterIssues(t),this.updateNodeCredentialIssues(t)}},getNodeSubtitle(e,t,s){if(e.notesInFlow)return e.notes;if(null!==t&&void 0!==t.subtitle)return s.expression.getSimpleParameterValue(e,t.subtitle,"internal",o["gb"]);if(void 0!==e.parameters.operation){const s=e.parameters.operation;if(null===t)return s;const o=t.properties.find(e=>"operation"===e.name);if(void 0===o)return s;if(void 0===o.options)return s;const n=o.options.find(t=>t.value===e.parameters.operation);return void 0===n?s:n.name}}}})},"6fc1":function(e,t,s){},7040:function(e,t,s){e.exports={container:"NodeCredentials_container_3XrKr",warning:"NodeCredentials_warning_1WyCw",edit:"NodeCredentials_edit_FmnDE",input:"NodeCredentials_input_3QAyJ",hasIssues:"NodeCredentials_hasIssues_2eibp NodeCredentials_input_3QAyJ"}},7218:function(e,t,s){"use strict";s("6fc1")},"73a9":function(e,t,s){"use strict";var o=s("0526"),n=s.n(o);s.d(t,"default",(function(){return n.a}))},7428:function(e,t,s){},"746d":function(e,t,s){"use strict";s("4614")},"754c":function(e,t,s){},7579:function(e,t,s){},"76b1":function(e,t,s){"use strict";s("f92e")},"77f0":function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var o=s("aaf5"),n=s("debe");function i(e,t){return null!==t.parentElement&&(t.parentElement===e||i(e,t.parentElement))}let a=[];const r=Object(o["a"])(n["a"]).extend({methods:{$showMessage(e,t=!0){e.dangerouslyUseHTMLString=!0,void 0===e.position&&(e.position="bottom-right");const s=this.$notify(e);return 0===e.duration&&a.push(s),"error"===e.type&&t&&this.$telemetry.track("Instance FE emitted error",{error_title:e.title,error_message:e.message,workflow_id:this.$store.getters.workflowId}),s},$showToast(e){let t;if(e.closeOnClick){const s=e.onClick;e.onClick=()=>{t&&t.close(),s&&s()}}if(e.onLinkClick){const s=s=>{if(s&&s.target&&e.onLinkClick&&i(t.$el,s.target)){const t=s.target;t&&"A"===t.tagName&&e.onLinkClick(s.target)}};window.addEventListener("click",s);const o=e.onClose;e.onClose=()=>{window.removeEventListener("click",s),o&&o()}}return t=this.$showMessage({title:e.title,message:e.message,onClick:e.onClick,onClose:e.onClose,duration:e.duration,customClass:e.customClass,type:e.type}),t},$getExecutionError(e){let t="There was a problem executing the workflow!";if(e&&e.message){let s;e.node&&(s="string"===typeof e.node?e.node:e.node.name);const o=s?`${s}: ${e.message}`:e.message;t=`There was a problem executing the workflow:<br /><strong>"${o}"</strong>`}return t},$showError(e,t,s){const o=e,n=s?s+"<br/>":"";this.$showMessage({title:t,message:`\n\t\t\t\t\t${n}\n\t\t\t\t\t<i>${o.message}</i>\n\t\t\t\t\t${this.collapsableDetails(o)}`,type:"error",duration:0},!1),this.$externalHooks().run("showMessage.showError",{title:t,message:s,errorMessage:o.message}),this.$telemetry.track("Instance FE emitted error",{error_title:t,error_description:s,error_message:o.message,workflow_id:this.$store.getters.workflowId})},async confirmMessage(e,t,s="warning",o="OK",n="Cancel"){try{const i={confirmButtonText:o,cancelButtonText:n,dangerouslyUseHTMLString:!0,...s&&{type:s}};return await this.$confirm(e,t,i),!0}catch(i){return!1}},clearAllStickyNotifications(){a.map(e=>{e&&e.close()}),a=[]},collapsableDetails({description:e,node:t}){if(!e)return"";const s=e.length>500?e.slice(0,500)+"...":e;return`\n\t\t\t\t<br>\n\t\t\t\t<br>\n\t\t\t\t<details>\n\t\t\t\t\t<summary\n\t\t\t\t\t\tstyle="color: #ff6d5a; font-weight: bold; cursor: pointer;"\n\t\t\t\t\t>\n\t\t\t\t\t\tShow Details\n\t\t\t\t\t</summary>\n\t\t\t\t\t<p>${t.name}: ${s}</p>\n\t\t\t\t</details>\n\t\t\t`}}})},"788e":function(e,t,s){"use strict";var o=s("3905"),n=s.n(o);s.d(t,"default",(function(){return n.a}))},"7b04":function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var o=s("9869"),n=s("2f01"),i=s("a185");function a(e){const t={...e,workflowData:e.workflowData,data:Object(n["a"])(e.data)};return t.finished=!!t.finished&&t.finished,e.id&&(t.id=e.id),t}const r=o["default"].extend({methods:{restApi(){const e=this;return{async makeRestApiRequest(t,s,o){return Object(i["b"])(e.$store.getters.getRestApiContext,t,s,o)},getActiveWorkflows:()=>e.restApi().makeRestApiRequest("GET","/active"),getActivationError:t=>e.restApi().makeRestApiRequest("GET","/active/error/"+t),getCurrentExecutions:t=>{let s={};return t&&(s={filter:t}),e.restApi().makeRestApiRequest("GET","/executions-current",s)},stopCurrentExecution:t=>e.restApi().makeRestApiRequest("POST",`/executions-current/${t}/stop`),getNodeTypes:(t=!1)=>e.restApi().makeRestApiRequest("GET","/node-types",{onlyLatest:t}),getNodesInformation:t=>e.restApi().makeRestApiRequest("POST","/node-types",{nodeInfos:t}),getNodeParameterOptions:(t,s,o,n,i)=>{const a={nodeTypeAndVersion:t,path:s,methodName:o,credentials:i,currentNodeParameters:n};return e.restApi().makeRestApiRequest("GET","/node-parameter-options",a)},removeTestWebhook:t=>e.restApi().makeRestApiRequest("DELETE","/test-webhook/"+t),runWorkflow:async t=>e.restApi().makeRestApiRequest("POST","/workflows/run",t),createNewWorkflow:t=>e.restApi().makeRestApiRequest("POST","/workflows",t),updateWorkflow:(t,s)=>e.restApi().makeRestApiRequest("PATCH","/workflows/"+t,s),deleteWorkflow:t=>e.restApi().makeRestApiRequest("DELETE","/workflows/"+t),getWorkflow:t=>e.restApi().makeRestApiRequest("GET","/workflows/"+t),getWorkflows:t=>{let s;return t&&(s={filter:t}),e.restApi().makeRestApiRequest("GET","/workflows",s)},getWorkflowFromUrl:t=>e.restApi().makeRestApiRequest("GET","/workflows/from-url",{url:t}),getExecution:async t=>{const s=await e.restApi().makeRestApiRequest("GET","/executions/"+t);return a(s)},deleteExecutions:t=>e.restApi().makeRestApiRequest("POST","/executions/delete",t),retryExecution:(t,s)=>{let o;return!0===s&&(o={loadWorkflow:!0}),e.restApi().makeRestApiRequest("POST",`/executions/${t}/retry`,o)},getPastExecutions:(t,s,o,n)=>{let i={};return t&&(i={filter:t,firstId:n,lastId:o,limit:s}),e.restApi().makeRestApiRequest("GET","/executions",i)},getTimezones:()=>e.restApi().makeRestApiRequest("GET","/options/timezones")}}}})},"7caa":function(e,t,s){},"7d42":function(e,t,s){e.exports={card:"VersionCard_card_3ttZQ",header:"VersionCard_header_mdwrN",name:"VersionCard_name_3Ouh8",divider:"VersionCard_divider_1iHvN",description:"VersionCard_description_2STXe","release-date":"VersionCard_release-date_2gF-F",nodes:"VersionCard_nodes_1KqJD"}},"7fa5":function(e,t,s){e.exports={category:"CategoryItem_category_2Mn3E",name:"CategoryItem_name_3wwGu",arrow:"CategoryItem_arrow_YtIA6"}},8145:function(e,t,s){},"826c":function(e,t,s){"use strict";s("0f24")},"82d7":function(e,t,s){},8407:function(e,t,s){"use strict";s("8145")},"847d":function(e,t,s){"use strict";s("a0a7")},"85ee":function(e,t,s){"use strict";s.d(t,"R",(function(){return o})),s.d(t,"S",(function(){return n})),s.d(t,"X",(function(){return i})),s.d(t,"gb",(function(){return a})),s.d(t,"fb",(function(){return r})),s.d(t,"x",(function(){return l})),s.d(t,"w",(function(){return d})),s.d(t,"U",(function(){return c})),s.d(t,"z",(function(){return u})),s.d(t,"T",(function(){return h})),s.d(t,"y",(function(){return p})),s.d(t,"wb",(function(){return m})),s.d(t,"Eb",(function(){return f})),s.d(t,"Bb",(function(){return g})),s.d(t,"Fb",(function(){return w})),s.d(t,"r",(function(){return v})),s.d(t,"t",(function(){return y})),s.d(t,"s",(function(){return b})),s.d(t,"db",(function(){return k})),s.d(t,"e",(function(){return x})),s.d(t,"d",(function(){return C})),s.d(t,"c",(function(){return _})),s.d(t,"f",(function(){return E})),s.d(t,"xb",(function(){return $})),s.d(t,"g",(function(){return N})),s.d(t,"u",(function(){return T})),s.d(t,"h",(function(){return I})),s.d(t,"F",(function(){return S})),s.d(t,"G",(function(){return O})),s.d(t,"C",(function(){return A})),s.d(t,"A",(function(){return D})),s.d(t,"B",(function(){return P})),s.d(t,"D",(function(){return W})),s.d(t,"J",(function(){return R})),s.d(t,"K",(function(){return L})),s.d(t,"M",(function(){return V})),s.d(t,"O",(function(){return M})),s.d(t,"V",(function(){return B})),s.d(t,"W",(function(){return j})),s.d(t,"Y",(function(){return U})),s.d(t,"cb",(function(){return F})),s.d(t,"lb",(function(){return z})),s.d(t,"ob",(function(){return H})),s.d(t,"pb",(function(){return K})),s.d(t,"qb",(function(){return Y})),s.d(t,"rb",(function(){return G})),s.d(t,"sb",(function(){return q})),s.d(t,"vb",(function(){return J})),s.d(t,"ib",(function(){return X})),s.d(t,"Db",(function(){return Z})),s.d(t,"Hb",(function(){return Q})),s.d(t,"q",(function(){return ee})),s.d(t,"v",(function(){return te})),s.d(t,"tb",(function(){return se})),s.d(t,"jb",(function(){return oe})),s.d(t,"yb",(function(){return ne})),s.d(t,"a",(function(){return ie})),s.d(t,"zb",(function(){return ae})),s.d(t,"Ab",(function(){return re})),s.d(t,"eb",(function(){return le})),s.d(t,"H",(function(){return de})),s.d(t,"kb",(function(){return ce})),s.d(t,"L",(function(){return ue})),s.d(t,"Cb",(function(){return he})),s.d(t,"Gb",(function(){return pe})),s.d(t,"b",(function(){return me})),s.d(t,"E",(function(){return fe})),s.d(t,"I",(function(){return ge})),s.d(t,"N",(function(){return we})),s.d(t,"P",(function(){return ve})),s.d(t,"Q",(function(){return ye})),s.d(t,"hb",(function(){return be})),s.d(t,"mb",(function(){return ke})),s.d(t,"nb",(function(){return xe})),s.d(t,"ub",(function(){return Ce})),s.d(t,"Z",(function(){return _e})),s.d(t,"bb",(function(){return Ee})),s.d(t,"o",(function(){return $e})),s.d(t,"m",(function(){return Ne})),s.d(t,"l",(function(){return Te})),s.d(t,"k",(function(){return Ie})),s.d(t,"n",(function(){return Se})),s.d(t,"j",(function(){return Oe})),s.d(t,"p",(function(){return Ae})),s.d(t,"i",(function(){return De})),s.d(t,"ab",(function(){return Pe}));const o=204800,n=250,i="node-",a="[filled at execution time]",r="__EMPTY__",l=1,d="My workflow",c=128,u=" copy",h=24,p="duplicate",m="tagsManager",f="workflowOpen",g="versions",w="settings",v="editCredential",y="selectCredential",b="credentialsList",k="personalization",x=768,C=992,_=1200,E=1920,$="https://api.n8n.io/",N="n8n-nodes-base.calendlyTrigger",T="n8n-nodes-base.cron",I="n8n-nodes-base.clearbit",S="n8n-nodes-base.function",O="n8n-nodes-base.githubTrigger",A="n8n-nodes-base.errorTrigger",D="n8n-nodes-base.elasticSecurity",P="n8n-nodes-base.emailSend",W="n8n-nodes-base.executeCommand",R="n8n-nodes-base.httpRequest",L="n8n-nodes-base.if",V="n8n-nodes-base.itemLists",M="n8n-nodes-base.jiraTrigger",B="n8n-nodes-base.microsoftExcel",j="n8n-nodes-base.microsoftTeams",U="n8n-nodes-base.noOp",F="n8n-nodes-base.pagerDuty",z="n8n-nodes-base.salesforce",H="n8n-nodes-base.segment",K="n8n-nodes-base.set",Y="n8n-nodes-base.slack",G="n8n-nodes-base.spreadsheetFile",q="n8n-nodes-base.start",J="n8n-nodes-base.switch",X="n8n-nodes-base.quickbooks",Z="n8n-nodes-base.webhook",Q="n8n-nodes-base.xero",ee="Core Nodes",te="Custom Nodes",se={"Core Nodes":{Flow:"Branches, core triggers, merge data",Files:"Work with CSV, XML, text, images etc.","Data Transformation":"Manipulate data fields, run code",Helpers:"HTTP Requests (API calls), date and time, scrape HTML"}},oe="Regular",ne="Trigger",ie="All",ae="Miscellaneous",re="Helpers",le="Suggested Nodes ✨",de=[q],ce="https://n8n-community.typeform.com/to/K1fBVTZ3",ue="n8n-instance-id",he="3000-01-01T00:00:00.000Z",pe="workArea",me="automationConsulting",fe="finance",ge="HR",we="IT-Engineering",ve="legal",ye="marketing-growth",be="product",ke="sales-businessDevelopment",xe="security",Ce="support",_e="ops",Ee="other",$e="companySize",Ne="<20",Te="20-99",Ie="100-499",Se="500-999",Oe="1000+",Ae="personalUser",De="codingSkill",Pe="otherWorkArea"},"89b8":function(e,t,s){e.exports={title:"CredentialsSelectModal_title_2cgg1",subtitle:"CredentialsSelectModal_subtitle_31FVi"}},"89e8":function(e,t,s){"use strict";var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:e.parameterInputClasses,on:{keydown:function(e){e.stopPropagation()}}},[s("expression-edit",{attrs:{dialogVisible:e.expressionEditDialogVisible,value:e.value,parameter:e.parameter,path:e.path},on:{closeDialog:e.closeExpressionEditDialog,valueChanged:e.expressionUpdated}}),s("div",{staticClass:"parameter-input ignore-key-press",style:e.parameterInputWrapperStyle,on:{click:e.openExpressionEdit}},[e.isValueExpression&&e.showExpressionAsTextInput?s("n8n-input",{attrs:{size:e.inputSize,value:e.expressionDisplayValue,disabled:e.isReadOnly,title:e.displayTitle},on:{keydown:function(e){e.stopPropagation()}}}):["json","string"].includes(e.parameter.type)||null!==e.remoteParameterOptionsLoadingIssues?s("div",[s("code-edit",{attrs:{dialogVisible:e.codeEditDialogVisible,value:e.value,parameter:e.parameter},on:{closeDialog:e.closeCodeEditDialog,valueChanged:e.expressionUpdated}}),s("text-edit",{attrs:{dialogVisible:e.textEditDialogVisible,value:e.value,parameter:e.parameter},on:{closeDialog:e.closeTextEditDialog,valueChanged:e.expressionUpdated}}),!0===e.isEditor?s("div",{staticClass:"code-edit clickable",on:{click:function(t){return e.displayEditDialog()}}},[e.codeEditDialogVisible?e._e():s("prism-editor",{attrs:{lineNumbers:!0,readonly:!0,code:e.displayValue,language:"js"}})],1):s("n8n-input",{ref:"inputField",attrs:{size:e.inputSize,type:e.getStringInputType,rows:e.getArgument("rows"),value:e.displayValue,disabled:e.isReadOnly,title:e.displayTitle,placeholder:e.isValueExpression?"":e.parameter.placeholder},on:{input:e.onTextInputChange,change:e.valueChanged,keydown:function(e){e.stopPropagation()},focus:e.setFocus,blur:e.onBlur},model:{value:e.tempValue,callback:function(t){e.tempValue=t},expression:"tempValue"}},[s("div",{staticClass:"expand-input-icon-container",attrs:{slot:"suffix"},slot:"suffix"},[e.isValueExpression||e.isReadOnly?e._e():s("font-awesome-icon",{staticClass:"edit-window-button clickable",attrs:{icon:"external-link-alt",title:"Open Edit Window"},on:{click:function(t){return e.displayEditDialog()}}})],1)])],1):"color"===e.parameter.type?s("div",{ref:"inputField",staticClass:"color-input"},[s("el-color-picker",{staticClass:"color-picker",attrs:{size:"small",value:e.displayValue,disabled:e.isReadOnly,title:e.displayTitle,"show-alpha":e.getArgument("showAlpha")},on:{focus:e.setFocus,blur:e.onBlur,change:e.valueChanged}}),s("n8n-input",{attrs:{size:e.inputSize,type:"text",value:e.tempValue,disabled:e.isReadOnly,title:e.displayTitle},on:{change:e.valueChanged,keydown:function(e){e.stopPropagation()},focus:e.setFocus,blur:e.onBlur},model:{value:e.tempValue,callback:function(t){e.tempValue=t},expression:"tempValue"}})],1):"dateTime"===e.parameter.type?s("el-date-picker",{ref:"inputField",attrs:{type:"datetime",size:e.inputSize,value:e.displayValue,title:e.displayTitle,disabled:e.isReadOnly,placeholder:e.parameter.placeholder?e.parameter.placeholder:"Select date and time","picker-options":e.dateTimePickerOptions},on:{change:e.valueChanged,focus:e.setFocus,blur:e.onBlur,keydown:function(e){e.stopPropagation()}},model:{value:e.tempValue,callback:function(t){e.tempValue=t},expression:"tempValue"}}):"number"===e.parameter.type?s("n8n-input-number",{ref:"inputField",attrs:{size:e.inputSize,value:e.displayValue,controls:!1,max:e.getArgument("maxValue"),min:e.getArgument("minValue"),precision:e.getArgument("numberPrecision"),step:e.getArgument("numberStepSize"),disabled:e.isReadOnly,title:e.displayTitle,placeholder:e.parameter.placeholder},on:{change:e.valueChanged,input:e.onTextInputChange,focus:e.setFocus,blur:e.onBlur,keydown:function(e){e.stopPropagation()}}}):"options"===e.parameter.type?s("n8n-select",{ref:"inputField",attrs:{size:e.inputSize,filterable:"",value:e.displayValue,loading:e.remoteParameterOptionsLoading,disabled:e.isReadOnly||e.remoteParameterOptionsLoading,title:e.displayTitle,"popper-append-to-body":!0},on:{change:e.valueChanged,keydown:function(e){e.stopPropagation()},focus:e.setFocus,blur:e.onBlur}},e._l(e.parameterOptions,(function(t){return s("n8n-option",{key:t.value,attrs:{value:t.value,label:t.name}},[s("div",{staticClass:"list-option"},[s("div",{staticClass:"option-headline"},[e._v(e._s(t.name))]),t.description?s("div",{staticClass:"option-description",domProps:{innerHTML:e._s(t.description)}}):e._e()])])})),1):"multiOptions"===e.parameter.type?s("n8n-select",{ref:"inputField",attrs:{size:e.inputSize,filterable:"",multiple:"",value:e.displayValue,loading:e.remoteParameterOptionsLoading,disabled:e.isReadOnly||e.remoteParameterOptionsLoading,title:e.displayTitle},on:{change:e.valueChanged,keydown:function(e){e.stopPropagation()},focus:e.setFocus,blur:e.onBlur}},e._l(e.parameterOptions,(function(t){return s("n8n-option",{key:t.value,attrs:{value:t.value,label:t.name}},[s("div",{staticClass:"list-option"},[s("div",{staticClass:"option-headline"},[e._v(e._s(t.name))]),t.description?s("div",{staticClass:"option-description",domProps:{innerHTML:e._s(t.description)}}):e._e()])])})),1):"boolean"===e.parameter.type?s("el-switch",{ref:"inputField",staticClass:"switch-input",attrs:{"active-color":"#13ce66",value:e.displayValue,disabled:e.isReadOnly},on:{change:e.valueChanged}}):e._e()],1),e.getIssues.length?s("div",{staticClass:"parameter-issues"},[s("n8n-tooltip",{attrs:{placement:"top"}},[s("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s("Issues:<br />&nbsp;&nbsp;- "+e.getIssues.join("<br />&nbsp;&nbsp;- "))},slot:"content"}),s("font-awesome-icon",{attrs:{icon:"exclamation-triangle"}})],1)],1):e._e(),e.displayOptionsComputed?s("div",{staticClass:"parameter-options"},[s("el-dropdown",{attrs:{trigger:"click",size:"mini"},on:{command:e.optionSelected}},[s("span",{staticClass:"el-dropdown-link"},[s("font-awesome-icon",{staticClass:"reset-icon clickable",attrs:{icon:"cogs",title:"Parameter Options"}})],1),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[!0===e.parameter.noDataExpression||e.isValueExpression?e._e():s("el-dropdown-item",{attrs:{command:"addExpression"}},[e._v("Add Expression")]),!0!==e.parameter.noDataExpression&&e.isValueExpression?s("el-dropdown-item",{attrs:{command:"removeExpression"}},[e._v("Remove Expression")]):e._e(),Boolean(e.remoteMethod)?s("el-dropdown-item",{attrs:{command:"refreshOptions"}},[e._v("Refresh List")]):e._e(),s("el-dropdown-item",{attrs:{command:"resetValue",disabled:e.isDefault,divided:""}},[e._v("Reset Value")])],1)],1)],1):e._e()],1)},n=[],i=s("9ec3"),a=s("e105"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.dialogVisible?s("div",[s("el-dialog",{attrs:{visible:e.dialogVisible,"append-to-body":"","close-on-click-modal":!1,width:"80%",title:"Edit "+e.parameter.displayName,"before-close":e.closeDialog}},[s("div",{staticClass:"ignore-key-press"},[s("n8n-input-label",{attrs:{label:e.parameter.displayName}},[s("div",{class:e.$style.editor,on:{keydown:function(e){e.stopPropagation()}}},[s("prism-editor",{attrs:{lineNumbers:!0,code:e.value,readonly:e.isReadOnly,language:"js"},on:{change:e.valueChanged}})],1)])],1)])],1):e._e()},l=[],d=s("789a"),c=s.n(d),u=s("4971"),h=s("aaf5"),p=Object(h["a"])(u["a"]).extend({name:"CodeEdit",props:["dialogVisible","parameter","value"],components:{PrismEditor:c.a},data(){return{}},methods:{valueChanged(e){this.$emit("valueChanged",e)},closeDialog(){return this.$emit("closeDialog"),!1}}}),m=p,f=s("95d5"),g=s("2be6");function w(e){this["$style"]=f["default"].locals||f["default"]}var v=Object(g["a"])(m,r,l,!1,w,null,null),y=v.exports,b=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.dialogVisible?s("div",{on:{keydown:function(e){e.stopPropagation()}}},[s("el-dialog",{attrs:{visible:e.dialogVisible,"custom-class":"expression-dialog classic","append-to-body":"",width:"80%",title:"Edit Expression","before-close":e.closeDialog}},[s("el-row",[s("el-col",{attrs:{span:8}},[s("div",{staticClass:"header-side-menu"},[s("div",{staticClass:"headline"},[e._v(" Edit Expression ")]),s("div",{staticClass:"sub-headline"},[e._v(" Variable Selector ")])]),s("div",{staticClass:"variable-selector"},[s("variable-selector",{attrs:{path:e.path},on:{itemSelected:e.itemSelected}})],1)]),s("el-col",{staticClass:"right-side",attrs:{span:16}},[s("div",{staticClass:"expression-editor-wrapper"},[s("div",{staticClass:"editor-description"},[e._v(" Expression ")]),s("div",{staticClass:"expression-editor"},[s("expression-input",{ref:"inputFieldExpression",attrs:{parameter:e.parameter,rows:"8",value:e.value,path:e.path},on:{change:e.valueChanged,keydown:function(t){return t.stopPropagation(),e.noOp.apply(null,arguments)}}})],1)]),s("div",{staticClass:"expression-result-wrapper"},[s("div",{staticClass:"editor-description"},[e._v(" Result ")]),s("expression-input",{ref:"expressionResult",attrs:{parameter:e.parameter,resolvedValue:"true",rows:"8",value:e.displayValue,path:e.path}})],1)])],1)],1)],1):e._e()},k=[],x=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{ref:"expression-editor",staticClass:"ignore-key-press",style:e.editorStyle,on:{keydown:function(e){e.stopPropagation()}}})])},C=[],_=s("9869"),E=(s("b8f1"),s("d5a1")),$=s.n(E),N=s("5d01"),T=s.n(N),I=s("d2e2"),S=Object(h["a"])(u["a"],I["a"]).extend({name:"ExpressionInput",props:["rows","value","parameter","path","resolvedValue"],data(){return{editor:null}},computed:{editorStyle(){let e=1;return this.rows&&(e=parseInt(this.rows,10)),{height:Math.max(26*e+10,40)+"px"}},workflow(){return this.getWorkflow()}},watch:{value(){this.resolvedValue&&this.initValue()}},mounted(){const e=this,t=$.a.import("blots/inline");class s extends t{static create(e){const t=super.create(e);return t.setAttribute("data-value",e),t.setAttribute("class","variable"),t}static formats(t){let s=t.innerHTML.trim();e.resolvedValue&&(s=t.getAttribute("data-value"));const o=e.getPlaceholderClasses(s);return t.getAttribute("class")!==o&&t.setAttribute("class",o),!0}}s.blotName="variable",s.className="variable",s.tagName="span",$.a.register({"formats/variable":s}),T.a.DEFAULTS={expression:{trigger:/\B[\w\s]/,find:/\{\{[^\s,;:!?}]+\}\}/i,format:"variable"}},this.editor=new $.a(this.$refs["expression-editor"],{readOnly:!!this.resolvedValue||this.isReadOnly,modules:{autoformat:{},keyboard:{bindings:{"list autofill":{prefix:/^$/}}}}}),this.editor.root.addEventListener("blur",e=>{this.$emit("blur",e)}),this.initValue(),this.resolvedValue||(this.setFocus(),this.editor.on("text-change",()=>this.update()))},methods:{customizeVariable(e){const t={classes:[],message:e};let s;try{s=this.resolveExpression("="+e),void 0!==s?t.classes.push("valid"):t.classes.push("invalid")}catch(o){t.classes.push("invalid")}return t},resolveParameterString(e){let t;try{t=this.resolveExpression("="+e)}catch(s){return`[invalid (${s.message})]`}return void 0===t?"[not found]":t},getPlaceholderClasses(e){const t=this.customizeVariable(e);return"variable "+t.classes.join(" ")},getValue(){if(!this.editor)return"";const e=this.editor.getContents();if(!e||!e.ops)return"";let t="";return e.ops.forEach(e=>{e.insert&&(t+=e.insert)}),"="+t.replace(/\s+$/g,"")},setFocus(){this.editor.focus()},itemSelected(e){this.editor.focus();const t=this.editor.getSelection();let s=null;if(t&&(s=t.index),s)this.editor.insertText(s,`{{${e.variable}}}`,"variable",!0),this.update();else{let t=this.getValue();"="===t||"=0"===t?t=`{{${e.variable}}}\n`:t+=` {{${e.variable}}}\n`,this.$emit("change",t,!0),this.resolvedValue||_["default"].nextTick(()=>{this.initValue()})}},initValue(){if(!this.value)return;let e=this.value;"="===e.charAt(0)&&(e=e.slice(1));const t=[];e.replace(/\{\{(.*?)\}\}/gi,"*%%#_@^$1*%%#_@").split("*%%#_@").forEach(e=>{if(e&&"^"===e.charAt(0)){let s=`{{${e.slice(1)}}}`;this.resolvedValue&&(s=[null,void 0].includes(s)?"":s,s=this.resolveParameterString(s.toString())),s=[null,void 0].includes(s)?"":s,t.push({attributes:{variable:`{{${e.slice(1)}}}`},insert:s.toString()})}else t.push({insert:e})}),this.editor.setContents(t)},update(){this.$emit("input",this.getValue()),this.$emit("change",this.getValue())}}}),O=S,A=(s("46d0"),Object(g["a"])(O,x,C,!1,null,null,null)),D=A.exports,P=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"variable-selector-wrapper",on:{keydown:function(e){e.stopPropagation()}}},[s("div",{staticClass:"input-wrapper"},[s("n8n-input",{ref:"inputField",attrs:{placeholder:"Variable filter...",size:"small",type:"text"},model:{value:e.variableFilter,callback:function(t){e.variableFilter=t},expression:"variableFilter"}})],1),s("div",{staticClass:"result-wrapper"},e._l(e.currentResults,(function(t){return s("variable-selector-item",{key:t.key,attrs:{item:t,extendAll:e.extendAll},on:{itemSelected:e.forwardItemSelected}})})),1)])},W=[],R=s("85ee"),L=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"item"},[e.item.options?s("div",{staticClass:"options"},[e.item.options.length?s("div",{staticClass:"headline clickable",on:{click:function(t){e.extended=!e.extended}}},[!0!==e.extendAll?s("div",{staticClass:"options-toggle"},[e.extended?s("font-awesome-icon",{attrs:{icon:"angle-down"}}):s("font-awesome-icon",{attrs:{icon:"angle-right"}})],1):e._e(),s("div",{staticClass:"option-title",attrs:{title:e.item.key}},[e._v(" "+e._s(e.item.name)+" "),!0===e.allowParentSelect?s("el-dropdown",{attrs:{trigger:"click"},on:{click:function(e){e.stopPropagation()},command:function(t){return e.optionSelected(t,e.item)}}},[s("span",{staticClass:"el-dropdown-link clickable",on:{click:function(e){e.stopPropagation()}}},[s("font-awesome-icon",{attrs:{icon:"dot-circle",title:"Select Item"}})],1),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.itemAddOperations,(function(t){return s("el-dropdown-item",{key:t.command,attrs:{command:t.command}},[e._v(e._s(t.displayName))])})),1)],1):e._e()],1)]):e._e(),!e.item.options||!0!==e.extended&&!0!==e.extendAll?e._e():s("div",e._l(e.item.options,(function(t){return s("variable-selector-item",{key:t.key,staticClass:"sub-level",attrs:{item:t,extendAll:e.extendAll,allowParentSelect:t.allowParentSelect},on:{itemSelected:e.forwardItemSelected}})})),1)]):s("div",{staticClass:"value clickable",on:{click:function(t){return e.selectItem(e.item)}}},[s("div",{staticClass:"item-title",attrs:{title:e.item.key}},[e._v(" "+e._s(e.item.name)+": "),s("font-awesome-icon",{attrs:{icon:"dot-circle",title:"Select Item"}})],1),s("div",{staticClass:"item-value"},[e._v(e._s(void 0!==e.item.value?e.item.value:"--- EMPTY ---"))])])])},V=[],M=_["default"].extend({name:"VariableSelectorItem",props:["allowParentSelect","extendAll","item"],computed:{itemAddOperations(){const e=[{command:"raw",displayName:"Raw value"}];return"array"===this.item.dataType?(e.push({command:"arrayLength",displayName:"Length"}),e.push({command:"arrayValues",displayName:"Values"})):"object"===this.item.dataType&&(e.push({command:"objectKeys",displayName:"Keys"}),e.push({command:"objectValues",displayName:"Values"})),e}},data(){return{extended:!1}},methods:{optionSelected(e,t){let s=t.key;"arrayValues"===e?s=t.key+".join(', ')":"arrayLength"===e?s=t.key+".length":"objectKeys"===e?s=`Object.keys(${t.key}).join(', ')`:"objectValues"===e&&(s=`Object.values(${t.key}).join(', ')`),this.$emit("itemSelected",{variable:s})},selectItem(e){this.$emit("itemSelected",{variable:e.key})},forwardItemSelected(e){this.$emit("itemSelected",e)}}}),B=M,j=(s("4242"),Object(g["a"])(B,L,V,!1,null,"252a712c",null)),U=j.exports,F=Object(h["a"])(I["a"]).extend({name:"VariableSelector",components:{VariableSelectorItem:U},props:["path"],data(){return{variableFilter:"",selectorOpenInputIndex:null}},computed:{extendAll(){return!!this.variableFilter},currentResults(){return this.getFilterResults(this.variableFilter.toLowerCase(),0)},workflow(){return this.getWorkflow()}},methods:{forwardItemSelected(e){this.$emit("itemSelected",e)},sortOptions(e){return null===e?null:e.sort((e,t)=>{const s=e.hasOwnProperty("options"),o=t.hasOwnProperty("options");return o&&!s?1:!o&&s||e.name<t.name?-1:e.name>t.name?1:0})},removeEmptyEntries(e){if(Array.isArray(e)){const t=[];let s;return e.forEach(e=>{s=this.removeEmptyEntries(e),null!==s&&t.push(s)}),t}if(e&&e.options){const t=this.removeEmptyEntries(e.options);return Array.isArray(t)&&t.length?(e.options=this.sortOptions(t),e):Array.isArray(t)&&0===t.length?(delete e.options,e):null}return e},getPathNormalized(e){if(void 0===e)return"";const t=e.split("."),s=[];let o;for(const n of t){const e=n.match(/\[.*?\]/g);if(null===e)s.push(n);else for(o of("["!==n.charAt(0)&&s.push(n.substr(0,n.indexOf("["))),e))o=o.slice(1,-1),['"',"'"].includes(o.charAt(0))?(o=o.slice(1,-1),s.push(o)):s.push(`[${o}]`)}return s.join("|")},jsonDataToFilterOption(e,t,s,o,n,i,a){let r=`${t}["${s}"]`;void 0!==n&&(r+=`[${n}]`);const l=[];if(null===e)return l.push({name:s,key:r,value:"[null]"}),l;if(Array.isArray(e)){let d=s,c=t;void 0!==n&&(c+=`["${s}"]`,d=n.toString());const u=[];for(let t=0;t<e.length;t++)u.push.apply(u,this.jsonDataToFilterOption(e[t],c,d,o,t,`[Item: ${t}]`,a));l.push({name:i||s,options:u,key:r,allowParentSelect:!0,dataType:"array"})}else if("object"===typeof e){const t=[];for(const s of Object.keys(e))t.push.apply(t,this.jsonDataToFilterOption(e[s],r,s,o,void 0,void 0,a));t.length&&l.push({name:i||s,options:this.sortOptions(t),key:r,allowParentSelect:!0,dataType:"object"})}else{if(void 0!==o&&-1===s.toLowerCase().indexOf(o))return l;this.getPathNormalized(a)!==this.getPathNormalized(r)&&l.push({name:s,key:r,value:e})}return l},getNodeOutputData(e,t,s,o=0,n=0,i="main",a=0,r=!1){if(!e.hasOwnProperty(t))return null;if(e[t].length<=n)return null;if(!e[t][n].hasOwnProperty("data")||null===e[t][n].data||void 0===e[t][n].data)return null;if(!e[t][n].data.hasOwnProperty(i))return null;if(e[t][n].data[i].length<=a)return null;if(null===e[t][n].data[i][a]||e[t][n].data[i][a].length<=o)return null;const l=e[t][n].data[i][a][o],d=[];if(l.hasOwnProperty("json")){const e=!0===r?"$json":`$node["${t}"].json`,o=[];for(const t of Object.keys(l.json))o.push.apply(o,this.jsonDataToFilterOption(l.json[t],e,t,s));o.length&&d.push({name:"JSON",options:this.sortOptions(o)})}if(l.hasOwnProperty("binary")){const e=!0===r?"$binary":`$node["${t}"].binary`,o=[];let n=[];for(const t of Object.keys(l.binary)){n=[];for(const o in l.binary[t])"data"!==o&&(s&&-1===o.toLowerCase().indexOf(s)||n.push({name:o,key:`${e}.${t}.${o}`,value:l.binary[t][o]}));n.length&&o.push({name:t,key:`${e}.${t}`,options:this.sortOptions(n),allowParentSelect:!0})}o.length&&d.push({name:"Binary",key:e,options:this.sortOptions(o),allowParentSelect:!0})}return d},getNodeContext(e,t,s,o,n){const i=0,r=0,l="main",d=0,c=[],u=this.connectionInputData(s,l,d,i);if(null===u)return c;const h={$executionId:R["gb"],$resumeWebhookUrl:R["gb"]},p=new a["WorkflowDataProxy"](e,t,d,r,o,u,{},"manual",h),m=p.getDataProxy(),f=m.$node[o].context;for(const a of Object.keys(f))void 0!==n&&-1===a.toLowerCase().indexOf(n)||c.push({name:a,key:`$node["${o}"].context["${a}"]`,value:f[a]});return c},getNodeParameters(e,t,s,o){const n=this.workflow.getNode(e);if(null===n)return null;const i=[];for(const a in n.parameters)a!==s&&(void 0!==o&&-1===a.toLowerCase().indexOf(o)||i.push.apply(i,this.jsonDataToFilterOption(n.parameters[a],t,a,o,void 0,void 0,s)));return i},getFilterResults(e,t){const s="main",o=this.$store.getters.activeNode;if(null===o)return[];const n=this.$store.getters.getWorkflowExecution;let i=this.workflow.getParentNodes(o.name,s,1),a=this.$store.getters.getWorkflowRunData;null===a&&(a={});let r=[];const l=[];let d,c;if(null!==n){const t=n.data;d=this.getNodeContext(this.workflow,t,i,o.name,e),d.length&&l.push({name:"Context",options:this.sortOptions(d)})}if(i.length){const s=this.workflow.getNodeConnectionOutputIndex(o.name,i[0],"main");c=this.getNodeOutputData(a,i[0],e,t,0,"main",s,!0),c&&(JSON.stringify(c).length<102400?l.push({name:"Input Data",options:this.sortOptions(c)}):l.push({name:"Input Data",options:[{name:"[Data to large]"}]}))}const u="$parameter";let h=this.path;h.startsWith("parameters.")&&(h=u+h.substring(10)),l.push({name:"Parameters",options:this.sortOptions(this.getNodeParameters(o.name,u,h,e))}),r.push({name:"Current Node",options:this.sortOptions(l)});const p=[];let m;const f=this.workflow.getParentNodes(o.name,s);for(const g of Object.keys(this.workflow.nodes))if(g!==o.name){if(m=[{name:"Parameters",options:this.sortOptions(this.getNodeParameters(g,`$node["${g}"].parameter`,void 0,e))}],null!==n){const t=n.data;i=this.workflow.getParentNodes(g,s,1),d=this.getNodeContext(this.workflow,t,i,g,e),d.length&&(m=[{name:"Context",options:this.sortOptions(d)}])}f.includes(g)&&(c=this.getNodeOutputData(a,g,e,t),c&&m.push({name:"Output Data",options:this.sortOptions(c)})),p.push({name:g,options:this.sortOptions(m)})}return r.push({name:"Nodes",options:this.sortOptions(p)}),r=this.removeEmptyEntries(r),null===r?[]:r}}}),z=F,H=(s("d99a"),Object(g["a"])(z,P,W,!1,null,"665be9b9",null)),K=H.exports,Y=s("debe"),G=Object(h["a"])(Y["a"],u["a"]).extend({name:"ExpressionEdit",props:["dialogVisible","parameter","path","value"],components:{ExpressionInput:D,VariableSelector:K},data(){return{displayValue:"",latestValue:""}},methods:{valueChanged(e,t=!1){this.latestValue=e,!0===t?(this.updateDisplayValue(),this.$emit("valueChanged",this.latestValue)):this.callDebounced("updateDisplayValue",500)},updateDisplayValue(){this.displayValue=this.latestValue},closeDialog(){return this.$emit("valueChanged",this.latestValue),this.$emit("closeDialog"),!1},itemSelected(e){this.$refs.inputFieldExpression.itemSelected(e),this.$externalHooks().run("expressionEdit.itemSelected",{parameter:this.parameter,value:this.value,selectedItem:e})}},watch:{dialogVisible(e){this.displayValue=this.value,this.latestValue=this.value;const t=this.$refs.expressionResult&&this.$refs.expressionResult.getValue()||void 0;this.$externalHooks().run("expressionEdit.dialogVisibleChanged",{dialogVisible:e,parameter:this.parameter,value:this.value,resolvedExpressionValue:t}),e||this.$telemetry.track("User closed Expression Editor",{empty_expression:"="===this.value||"={{}}"===this.value||!this.value,workflow_id:this.$store.getters.workflowId})}}}),q=G,J=(s("63b3"),Object(g["a"])(q,b,k,!1,null,"fa742e38",null)),X=J.exports,Z=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.dialogVisible?s("div",[s("el-dialog",{attrs:{visible:e.dialogVisible,"append-to-body":"",width:"80%",title:"Edit "+e.parameter.displayName,"before-close":e.closeDialog}},[s("div",{staticClass:"ignore-key-press"},[s("n8n-input-label",{attrs:{label:e.parameter.displayName}},[s("div",{on:{keydown:[function(e){e.stopPropagation()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.closeDialog()}]}},[s("n8n-input",{ref:"inputField",attrs:{type:"textarea",value:e.value,placeholder:e.parameter.placeholder,rows:15},on:{change:e.valueChanged,keydown:function(t){return t.stopPropagation(),e.noOp.apply(null,arguments)}},model:{value:e.tempValue,callback:function(t){e.tempValue=t},expression:"tempValue"}})],1)])],1)])],1):e._e()},Q=[],ee=_["default"].extend({name:"TextEdit",props:["dialogVisible","parameter","value"],data(){return{tempValue:""}},methods:{valueChanged(e){this.$emit("valueChanged",e)},closeDialog(){return this.$emit("closeDialog"),!1}},mounted(){this.tempValue=this.value},watch:{dialogVisible(){!0===this.dialogVisible&&_["default"].nextTick(()=>{this.$refs.inputField.focus()})},value(){this.tempValue=this.value}}}),te=ee,se=Object(g["a"])(te,Z,Q,!1,null,null,null),oe=se.exports,ne=s("6fae"),ie=s("77f0"),ae=Object(h["a"])(Y["a"],ne["a"],ie["a"],I["a"]).extend({name:"ParameterInput",components:{CodeEdit:y,ExpressionEdit:X,PrismEditor:c.a,TextEdit:oe},props:["displayOptions","inputSize","isReadOnly","documentationUrl","parameter","path","value","hideIssues","errorHighlight"],data(){return{codeEditDialogVisible:!1,nodeName:"",expressionAddOperation:"set",expressionEditDialogVisible:!1,remoteParameterOptions:[],remoteParameterOptionsLoading:!1,remoteParameterOptionsLoadingIssues:null,textEditDialogVisible:!1,tempValue:"",dateTimePickerOptions:{shortcuts:[{text:"Today",onClick(e){e.$emit("pick",new Date)}},{text:"Yesterday",onClick(e){const t=new Date;t.setTime(t.getTime()-864e5),e.$emit("pick",t)}},{text:"A week ago",onClick(e){const t=new Date;t.setTime(t.getTime()-6048e5),e.$emit("pick",t)}}]}}},watch:{dependentParametersValues(){this.loadRemoteParameterOptions()},value(){"color"===this.parameter.type&&!0===this.getArgument("showAlpha")||(this.tempValue=this.displayValue)}},computed:{showExpressionAsTextInput(){const e=["number","boolean","dateTime","options","multiOptions"];return e.includes(this.parameter.type)},dependentParametersValues(){const e=this.getArgument("loadOptionsDependsOn");if(void 0===e)return null;const t=this.$store.getters.activeNode.parameters,s=this.resolveParameter(t),o=[];for(const n of e)o.push(Object(i["get"])(s,n));return o.join("|")},node(){return this.$store.getters.activeNode},displayTitle(){let e=`Parameter: "${this.shortPath}"`;return this.getIssues.length?(e+=" has issues",!0===this.isValueExpression&&(e+=" and expression"),e+="!"):!0===this.isValueExpression&&(e+=" has expression"),e},displayValue(){if(!0===this.remoteParameterOptionsLoading)return"Loading options...";let e;if(e=!1===this.isValueExpression?this.value:this.expressionValueComputed,"color"===this.parameter.type&&!0===this.getArgument("showAlpha")&&"#"===e.charAt(0)){const t=parseInt(e.slice(1),16),s=[];s.push(t>>24&255),s.push(t>>16&255),s.push(t>>8&255),s.push((255-t&255)/255),e="rgba("+s.join()+")"}if(void 0!==e&&null!==e&&"string"===this.parameter.type){const t=this.getArgument("rows");void 0!==t&&1!==t||(e=e.toString().replace(/\n/,"|"))}return e},expressionDisplayValue(){const e=this.displayValue;return"number"===typeof e||"boolean"===typeof e?JSON.stringify(e):null===e?"":e},displayOptionsComputed(){return!0!==this.isReadOnly&&("collection"!==this.parameter.type&&!0===this.displayOptions)},expressionValueComputed(){if(null===this.node)return null;let e;try{e=this.resolveExpression(this.value)}catch(t){e=`[ERROR: ${t.message}]`}return"number"===this.parameter.type&&(e=parseInt(e,10),isNaN(e))?null:e},getStringInputType(){if(!0===this.getArgument("password"))return"password";const e=this.getArgument("rows");return void 0!==e&&e>1?"textarea":"text"},getIssues(){if(!0===this.hideIssues||null===this.node)return[];const e=this.shortPath.split(".");e.pop();const t=a["NodeHelpers"].getParameterIssues(this.parameter,this.node.parameters,e.join("."));if(["options","multiOptions"].includes(this.parameter.type)&&!1===this.remoteParameterOptionsLoading&&null===this.remoteParameterOptionsLoadingIssues){const e=this.parameterOptions.map(e=>e.value),s=[];Array.isArray(this.displayValue)?s.push.apply(s,this.displayValue):s.push(this.displayValue);for(const o of s)null!==o&&e.includes(o)||(void 0===t.parameters&&(t.parameters={}),t.parameters[this.parameter.name]=[`The value "${o}" is not supported!`])}else null!==this.remoteParameterOptionsLoadingIssues&&(void 0===t.parameters&&(t.parameters={}),t.parameters[this.parameter.name]=[`There was a problem loading the parameter options from server: "${this.remoteParameterOptionsLoadingIssues}"`]);return void 0!==t&&void 0!==t.parameters&&void 0!==t.parameters[this.parameter.name]?t.parameters[this.parameter.name]:[]},isDefault(){return this.parameter.default===this.value},isEditor(){return"code"===this.getArgument("editor")},isValueExpression(){return!0!==this.parameter.noDataExpression&&("string"===typeof this.value&&"="===this.value.charAt(0))},parameterOptions(){return void 0===this.remoteMethod?this.parameter.options:this.remoteParameterOptions},parameterInputClasses(){const e=[],t=this.getArgument("rows"),s="string"===this.parameter.type&&void 0!==t,o="boolean"===this.parameter.type&&!this.isValueExpression;return s||o||e.push("parameter-value-container"),this.isValueExpression&&e.push("expression"),(this.getIssues.length||this.errorHighlight)&&e.push("has-issues"),e},parameterInputWrapperStyle(){let e=0;const t={width:"100%"};return!0===this.displayOptionsComputed&&(e+=25),this.getIssues.length&&(e+=20),0!==e&&(t.width=`calc(100% - ${e}px)`),t},remoteMethod(){return this.getArgument("loadOptionsMethod")},shortPath(){const e=this.path.split(".");return e.shift(),e.join(".")},workflow(){return this.getWorkflow()}},methods:{async loadRemoteParameterOptions(){if(null===this.node||void 0===this.remoteMethod||this.remoteParameterOptionsLoading)return;this.remoteParameterOptionsLoadingIssues=null,this.remoteParameterOptionsLoading=!0,this.remoteParameterOptions.length=0;const e=this.$store.getters.activeNode.parameters,t=this.resolveParameter(e);try{const e=await this.restApi().getNodeParameterOptions({name:this.node.type,version:this.node.typeVersion},this.path,this.remoteMethod,t,this.node.credentials);this.remoteParameterOptions.push.apply(this.remoteParameterOptions,e)}catch(s){this.remoteParameterOptionsLoadingIssues=s.message}this.remoteParameterOptionsLoading=!1},closeCodeEditDialog(){this.codeEditDialogVisible=!1},closeExpressionEditDialog(){this.expressionEditDialogVisible=!1},trackExpressionEditOpen(){this.node&&this.node.type.startsWith("n8n-nodes-base")&&this.$telemetry.track("User opened Expression Editor",{node_type:this.node.type,parameter_name:this.parameter.displayName,parameter_field_type:this.parameter.type,new_expression:!this.isValueExpression,workflow_id:this.$store.getters.workflowId})},closeTextEditDialog(){this.textEditDialogVisible=!1},displayEditDialog(){this.isEditor?this.codeEditDialogVisible=!0:this.textEditDialogVisible=!0},getArgument(e){if(void 0!==this.parameter.typeOptions&&void 0!==this.parameter.typeOptions[e])return this.parameter.typeOptions[e]},expressionUpdated(e){this.valueChanged(e)},openExpressionEdit(){if(this.isValueExpression)return this.expressionEditDialogVisible=!0,void this.trackExpressionEditOpen()},onBlur(){this.$emit("blur")},setFocus(){if(this.isValueExpression)return this.expressionEditDialogVisible=!0,void this.trackExpressionEditOpen();["json","string"].includes(this.parameter.type)&&this.getArgument("alwaysOpenEditWindow")?this.displayEditDialog():(null!==this.node&&(this.nodeName=this.node.name),setTimeout(()=>{this.$refs.inputField.$el&&this.$refs.inputField.$el.querySelector("textarea"===this.getStringInputType?"textarea":"input").focus()}),this.$emit("focus"))},rgbaToHex(e){const t=e.match(/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d+(\.\d+)?)\)$/);if(null===t)return null;const[s,o,n,i]=t.splice(1,4).map(e=>Number(e));return"#"+((1<<24)+(s<<16)+(o<<8)+n).toString(16).slice(1)+(256+Math.floor(255*(1-i))).toString(16).slice(1)},onTextInputChange(e){const t={node:null!==this.node?this.node.name:this.nodeName,name:this.path,value:e};this.$emit("textInput",t)},valueChanged(e){if(e instanceof Date&&(e=e.toISOString()),"color"===this.parameter.type&&!0===this.getArgument("showAlpha")&&null!==e&&"#"!==e.toString().charAt(0)){const t=this.rgbaToHex(e);null!==t&&(this.tempValue=t,e=t)}const t={node:null!==this.node?this.node.name:this.nodeName,name:this.path,value:e};this.$emit("valueChanged",t)},optionSelected(e){"resetValue"===e?this.valueChanged(this.parameter.default):"addExpression"===e?("number"===this.parameter.type||"boolean"===this.parameter.type?this.valueChanged(`={{${this.value}}}`):this.valueChanged("="+this.value),this.expressionEditDialogVisible=!0,this.trackExpressionEditOpen()):"removeExpression"===e?this.valueChanged(void 0!==this.expressionValueComputed?this.expressionValueComputed:null):"refreshOptions"===e&&this.loadRemoteParameterOptions()}},mounted(){if(this.tempValue=this.displayValue,null!==this.node&&(this.nodeName=this.node.name),"color"===this.parameter.type&&!0===this.getArgument("showAlpha")&&null!==this.displayValue&&"#"!==this.displayValue.toString().charAt(0)){const e=this.rgbaToHex(this.displayValue);null!==e&&(this.tempValue=e)}if(void 0!==this.remoteMethod&&null!==this.node&&(this.$watch(()=>this.node.credentials,()=>{this.loadRemoteParameterOptions()},{deep:!0,immediate:!0}),this.parameter.typeOptions&&this.parameter.typeOptions.reloadOnChange)){const e=this.parameter.typeOptions.reloadOnChange;for(let t=0;t<e.length;t++){const s=e[t];s in this.node.parameters&&this.$watch(()=>this.node&&this.node.parameters&&this.node.parameters[s]?this.node.parameters[s]:null,()=>{this.loadRemoteParameterOptions()},{deep:!0,immediate:!0})}}this.$externalHooks().run("parameterInput.mount",{parameter:this.parameter,inputFieldRef:this.$refs["inputField"]})}}),re=ae,le=(s("76b1"),s("847d"),Object(g["a"])(re,o,n,!1,null,"3026f95a",null));t["a"]=le.exports},"8cbf":function(e,t,s){},"8fc9":function(e,t,s){"use strict";s("465a")},9090:function(e,t,s){"use strict";s("0a29")},9357:function(e,t,s){e.exports={container:"CredentialConfig_container_24lSK"}},"94b7":function(e,t,s){},"95d5":function(e,t,s){"use strict";var o=s("cf08"),n=s.n(o);s.d(t,"default",(function(){return n.a}))},"97cd":function(e,t,s){},9845:function(e,t,s){},"98e5":function(e,t,s){},"98f8":function(e,t,s){e.exports={googleIcon:"OauthButton_googleIcon_PnF58"}},9959:function(e,t,s){},9990:function(e,t,s){e.exports={trigger:"TriggerIcon_trigger_2V4Ig"}},"9b22":function(e,t,s){},"9fc4":function(e,t,s){},a02c:function(e,t,s){"use strict";var o=s("9990"),n=s.n(o);s.d(t,"default",(function(){return n.a}))},a053:function(e,t,s){"use strict";var o=s("7040"),n=s.n(o);s.d(t,"default",(function(){return n.a}))},a0a7:function(e,t,s){},a185:function(e,t,s){"use strict";s.d(t,"b",(function(){return l})),s.d(t,"a",(function(){return d}));var o=s("8206"),n=s.n(o);function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class a extends Error{constructor(e,t={}){super(e),i(this,"httpStatusCode",void 0),i(this,"errorCode",void 0),i(this,"serverStackTrace",void 0),this.name="ResponseError";const{errorCode:s,httpStatusCode:o,stack:n}=t;s&&(this.errorCode=s),o&&(this.httpStatusCode=o),n&&(this.serverStackTrace=n)}}async function r(e){const{method:t,baseURL:s,endpoint:o,headers:i,data:r}=e,l={method:t,url:o,baseURL:s,headers:i};["PATCH","POST","PUT"].includes(t)?l.data=r:l.params=r;try{const e=await n.a.request(l);return e.data}catch(d){if("Network Error"===d.message)throw new a("API-Server can not be reached. It is probably down.");const e=d.response.data;if(void 0!==e&&void 0!==e.message){if("NodeApiError"===e.name)throw e.httpStatusCode=d.response.status,e;throw new a(e.message,{errorCode:e.code,httpStatusCode:d.response.status,stack:e.stack})}throw d}}async function l(e,t,s,o){const n=await r({method:t,baseURL:e.baseUrl,endpoint:s,headers:{sessionid:e.sessionId},data:o});return n.data}async function d(e,t,s,o){return await r({method:"GET",baseURL:e,endpoint:t,headers:o,data:s})}},a228:function(e,t,s){"use strict";s("9fc4")},a2e4:function(e,t,s){e.exports={center:"Modal_center_1ZYW-",loader:"Modal_loader_20wFp",centerTitle:"Modal_centerTitle_heY04",subtitle:"Modal_subtitle_1IJpA",footer:"Modal_footer_novnQ"}},a2ea:function(e,t,s){},a3a5:function(e,t,s){},a56c:function(e,t,s){"use strict";var o=s("4b3a"),n=s.n(o);s.d(t,"default",(function(){return n.a}))},a7f7:function(e,t,s){"use strict";var o=s("04bb"),n=s.n(o);s.d(t,"default",(function(){return n.a}))},a980:function(e,t,s){},a9cb:function(e,t,s){},ab07:function(e,t,s){},ab7d:function(e,t,s){"use strict";s("1c19")},ae93:function(e,t,s){"use strict";s("de3e")},b114:function(e,t,s){},b211:function(e,t,s){"use strict";s("9845")},b23e:function(e,t,s){},b47e:function(e,t,s){"use strict";s("94b7")},b4ec:function(e,t,s){e.exports={credIcon:"CredentialIcon_credIcon_1-WO7"}},b7fe:function(e,t,s){e.exports={"gift-icon":"GiftNotificationIcon_gift-icon_3fgdv",notification:"GiftNotificationIcon_notification_2lElS"}},b8b4:function(e,t,s){},c306:function(e,t,s){"use strict";var o=s("412c"),n=s.n(o);s.d(t,"default",(function(){return n.a}))},c55a:function(e,t,s){},c62a:function(e,t,s){"use strict";s("2581")},c6cb:function(e,t,s){"use strict";var o=s("9357"),n=s.n(o);s.d(t,"default",(function(){return n.a}))},c8ea:function(e,t,s){},cd49:function(e,t,s){"use strict";s.r(t);var o=s("9869"),n=s("4bea"),i=s("96ee"),a=s("dc04");n["c"].add(i["a"]),n["c"].add(i["b"]),n["c"].add(i["c"]),n["c"].add(i["d"]),n["c"].add(i["e"]),n["c"].add(i["f"]),n["c"].add(i["g"]),n["c"].add(i["h"]),n["c"].add(i["i"]),n["c"].add(i["j"]),n["c"].add(i["k"]),n["c"].add(i["l"]),n["c"].add(i["m"]),n["c"].add(i["n"]),n["c"].add(i["s"]),n["c"].add(i["t"]),n["c"].add(i["u"]),n["c"].add(i["v"]),n["c"].add(i["o"]),n["c"].add(i["p"]),n["c"].add(i["q"]),n["c"].add(i["r"]),n["c"].add(i["w"]),n["c"].add(i["x"]),n["c"].add(i["y"]),n["c"].add(i["z"]),n["c"].add(i["A"]),n["c"].add(i["F"]),n["c"].add(i["C"]),n["c"].add(i["D"]),n["c"].add(i["E"]),n["c"].add(i["B"]),n["c"].add(i["G"]),n["c"].add(i["H"]),n["c"].add(i["I"]),n["c"].add(i["J"]),n["c"].add(i["K"]),n["c"].add(i["L"]),n["c"].add(i["M"]),n["c"].add(i["N"]),n["c"].add(i["O"]),n["c"].add(i["P"]),n["c"].add(i["Q"]),n["c"].add(i["R"]),n["c"].add(i["S"]),n["c"].add(i["T"]),n["c"].add(i["U"]),n["c"].add(i["V"]),n["c"].add(i["W"]),n["c"].add(i["X"]),n["c"].add(i["Y"]),n["c"].add(i["Z"]),n["c"].add(i["ab"]),n["c"].add(i["bb"]),n["c"].add(i["cb"]),n["c"].add(i["db"]),n["c"].add(i["eb"]),n["c"].add(i["fb"]),n["c"].add(i["gb"]),n["c"].add(i["hb"]),n["c"].add(i["ib"]),n["c"].add(i["jb"]),n["c"].add(i["kb"]),n["c"].add(i["lb"]),n["c"].add(i["mb"]),n["c"].add(i["nb"]),n["c"].add(i["ob"]),n["c"].add(i["pb"]),n["c"].add(i["qb"]),n["c"].add(i["rb"]),n["c"].add(i["sb"]),n["c"].add(i["tb"]),n["c"].add(i["ub"]),n["c"].add(i["vb"]),n["c"].add(i["wb"]),n["c"].add(i["xb"]),n["c"].add(i["yb"]),n["c"].add(i["zb"]),n["c"].add(i["Ab"]),n["c"].add(i["Bb"]),n["c"].add(i["Cb"]),n["c"].add(i["Db"]),o["default"].component("font-awesome-icon",a["a"]);var r=s("2617"),l=s.n(r),d=s("a9e2"),c=s.n(d);o["default"].use(l.a),o["default"].use(c.a);var u=s("1b20"),h=(s("df26"),s("bbd5")),p=s.n(h),m=s("7086"),f=s.n(m),g=s("4303"),w=s.n(g),v=s("aeb2"),y=s.n(v),b=s("5809"),k=s.n(b),x=s("4f9a"),C=s.n(x),_=s("1b47"),E=s.n(_),$=s("9994"),N=s.n($),T=s("4a6f"),I=s.n(T),S=s("7ffc"),O=s.n(S),A=s("b0d1"),D=s.n(A),P=s("6de3"),W=s.n(P),R=s("ee72"),L=s.n(R),V=s("ce25"),M=s.n(V),B=s("80cb"),j=s.n(B),U=s("805d"),F=s.n(U),z=s("0882"),H=s.n(z),K=s("81c2"),Y=s.n(K),G=s("cfdb"),q=s.n(G),J=s("6350"),X=s.n(J),Z=s("1269"),Q=s.n(Z),ee=s("58ab"),te=s.n(ee),se=s("1d28"),oe=s.n(se),ne=s("d0c2"),ie=s.n(ne),ae=s("cf5a"),re=s.n(ae),le=s("8cd3"),de=s.n(le),ce=s("eeef"),ue=s.n(ce),he=s("4650"),pe=s.n(he),me=s("cc25"),fe=s.n(me),ge=s("9da6"),we=s.n(ge),ve=s("e3ca"),ye=s.n(ve),be=s("9b75"),ke=s.n(be),xe=s("35a9"),Ce=s.n(xe),_e=s("151b"),Ee=s.n(_e),$e=s("c01a"),Ne=s.n($e),Te=s("4ee8");o["default"].use(u["a"].Plugin),o["default"].use(Te["a"]),o["default"].use(Te["c"]),o["default"].use(Te["d"]),o["default"].use(Te["e"]),o["default"].use(Te["f"]),o["default"].use(Te["g"]),o["default"].use(Te["b"]),o["default"].use(Te["h"]),o["default"].use(Te["i"]),o["default"].use(Te["k"]),o["default"].use(Te["l"]),o["default"].component("n8n-text",Te["m"]),o["default"].use(Te["n"]),o["default"].use(Te["j"]),Ne.a.use(Ee.a),o["default"].use(f.a),o["default"].use(p.a),o["default"].use(w.a),o["default"].use(y.a),o["default"].use(k.a),o["default"].use(C.a),o["default"].use(E.a),o["default"].use(N.a),o["default"].use(I.a),o["default"].use(O.a),o["default"].use(D.a),o["default"].use(W.a),o["default"].use(L.a),o["default"].use(M.a),o["default"].use(j.a),o["default"].use(F.a),o["default"].use(H.a),o["default"].use(Y.a),o["default"].use(q.a),o["default"].use(X.a),o["default"].use(Q.a),o["default"].use(te.a),o["default"].use(oe.a),o["default"].use(ie.a),o["default"].use(re.a),o["default"].use(de.a),o["default"].use(ue.a),o["default"].use(pe.a),o["default"].component(Ce.a.name,Ce.a),o["default"].use(fe.a.directive),o["default"].prototype.$loading=fe.a.service,o["default"].prototype.$msgbox=we.a,o["default"].prototype.$alert=async(e,t,s)=>{let o=s||("object"===typeof t?t:{});return o={...o,roundButton:!0,cancelButtonClass:"btn--cancel",confirmButtonClass:"btn--confirm"},"string"===typeof t?await we.a.alert(e,t,o):await we.a.alert(e,o)},o["default"].prototype.$confirm=async(e,t,s)=>{let o=s||("object"===typeof t?t:{});return o={...o,roundButton:!0,cancelButtonClass:"btn--cancel",confirmButtonClass:"btn--confirm",showClose:!1,closeOnClickModal:!1},"string"===typeof t?await we.a.confirm(e,t,o):await we.a.confirm(e,o)},o["default"].prototype.$prompt=async(e,t,s)=>{let o=s||("object"===typeof t?t:{});return o={...o,roundButton:!0,cancelButtonClass:"btn--cancel",confirmButtonClass:"btn--confirm"},"string"===typeof t?await we.a.prompt(e,t,o):await we.a.prompt(e,o)},o["default"].prototype.$notify=ke.a,o["default"].prototype.$message=ye.a;s("9f9b"),s("53fe"),s("1097"),s("9b09"),s("5572"),s("99dd"),s("9631"),s("be7e");var Ie=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("div",{attrs:{id:"header"}},[s("router-view",{attrs:{name:"header"}})],1),s("div",{attrs:{id:"sidebar"}},[s("router-view",{attrs:{name:"sidebar"}})],1),s("div",{attrs:{id:"content"}},[s("router-view")],1),s("Telemetry")],1)},Se=[],Oe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("fragment")},Ae=[],De=s("9ce4"),Pe=o["default"].extend({name:"Telemetry",computed:{...Object(De["b"])(["telemetry"])},watch:{telemetry(e){e.enabled&&this.$telemetry.init(e,this.$store.getters.instanceId)}}}),We=Pe,Re=s("2be6"),Le=Object(Re["a"])(We,Oe,Ae,!1,null,null,null),Ve=Le.exports,Me={name:"App",components:{Telemetry:Ve}},Be=Me,je=(s("5c0b"),Object(Re["a"])(Be,Ie,Se,!1,null,null,null)),Ue=je.exports,Fe=s("5f2b"),ze=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{class:{"main-header":!0,expanded:!e.sidebarMenuCollapsed}},[s("div",{staticClass:"top-menu"},[e.isExecutionPage?s("ExecutionDetails"):s("WorkflowDetails")],1)])])},He=[],Ke=s("aaf5"),Ye=s("debe"),Ge=s("6fae"),qe=s("77f0");const Je=o["default"].extend({methods:{$titleSet(e,t){let s="⚠️";"EXECUTING"===t?s="🔄":"IDLE"===t&&(s="▶️"),window.document.title=`n8n - ${s} ${e}`},$titleReset(){document.title="n8n - Workflow Automation"}}});var Xe=s("d2e2"),Ze=s("85ee");const Qe=Object(Ke["a"])(Ye["a"],Ge["a"],qe["a"],Je,Xe["a"]).extend({data(){return{eventSource:null,reconnectTimeout:null,retryTimeout:null,pushMessageQueue:[]}},computed:{sessionId(){return this.$store.getters.sessionId}},methods:{pushAutomaticReconnect(){null===this.reconnectTimeout&&(this.reconnectTimeout=setTimeout(()=>{this.pushConnect()},3e3))},pushConnect(){this.pushDisconnect();const e=`${this.$store.getters.getRestUrl}/push?sessionId=${this.sessionId}`;this.eventSource=new EventSource(e),this.eventSource.addEventListener("message",this.pushMessageReceived,!1),this.eventSource.addEventListener("open",()=>{this.$store.commit("setPushConnectionActive",!0),null!==this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null)},!1),this.eventSource.addEventListener("error",()=>{this.pushDisconnect(),null!==this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null),this.$store.commit("setPushConnectionActive",!1),this.pushAutomaticReconnect()},!1)},pushDisconnect(){null!==this.eventSource&&(this.eventSource.close(),this.eventSource=null,this.$store.commit("setPushConnectionActive",!1))},queuePushMessage(e,t){this.pushMessageQueue.push({event:e,retriesLeft:t}),null===this.retryTimeout&&(this.retryTimeout=setTimeout(this.processWaitingPushMessages,20))},processWaitingPushMessages(){null!==this.retryTimeout&&(clearTimeout(this.retryTimeout),this.retryTimeout=null);const e=this.pushMessageQueue.length;for(let t=0;t<e;t++){const e=this.pushMessageQueue.shift();if(!1===this.pushMessageReceived(e.event,!0)){e.retriesLeft-=1,e.retriesLeft>0&&this.pushMessageQueue.unshift(e);break}}0!==this.pushMessageQueue.length&&null===this.retryTimeout&&(this.retryTimeout=setTimeout(this.processWaitingPushMessages,25))},pushMessageReceived(e,t){const s=5;let o;try{o=JSON.parse(e.data)}catch(n){return!1}if("sendConsoleMessage"===o.type){const e=o.data;return console.log(e.source,e.message),!0}if(!["testWebhookReceived"].includes(o.type)&&!0!==t&&this.pushMessageQueue.length)return this.queuePushMessage(e,s),!1;if("nodeExecuteAfter"===o.type||"nodeExecuteBefore"===o.type){if(!1===this.$store.getters.isActionActive("workflowRunning"))return!1;const n=o.data;if(this.$store.getters.activeExecutionId!==n.executionId)return!0!==t&&this.queuePushMessage(e,s),!1}if("executionFinished"===o.type){const n=o.data;if(this.$store.commit("finishActiveExecution",n),!1===this.$store.getters.isActionActive("workflowRunning"))return!1;if(this.$store.getters.activeExecutionId!==n.executionId)return!0!==t&&this.queuePushMessage(e,s),!1;const i=n.data,a=this.$getExecutionError(i.data.resultData.error),r=this.getWorkflow();if(void 0!==i.waitTill){const{activeExecutionId:e,workflowSettings:t,saveManualExecutions:s}=this.$store.getters,o=void 0===t.saveManualExecutions?s:t.saveManualExecutions;let n;n=o?`<a href="/execution/${e}" target="_blank">View the execution</a> to see what happened after this node.`:'<a class="open-settings">Turn on saving manual executions</a> and run again to see what happened after this node.',this.$titleSet(r.name,"IDLE"),this.$showToast({title:"Workflow started waiting",message:n+' <a href="https://docs.n8n.io/nodes/n8n-nodes-base.wait/" target="_blank">More info</a>',type:"success",duration:0,onLinkClick:async e=>{e.classList.contains("open-settings")&&(this.$store.getters.isNewWorkflow&&await this.saveAsNewWorkflow(),this.$store.dispatch("ui/openModal",Ze["Fb"]))}})}else!0!==i.finished?(this.$titleSet(r.name,"ERROR"),this.$showMessage({title:"Problem executing workflow",message:a,type:"error"})):(this.$titleSet(r.name,"IDLE"),this.$showMessage({title:"Workflow was executed",message:"Workflow was executed successfully!",type:"success"}));i.data.resultData.runData=this.$store.getters.getWorkflowRunData,this.$store.commit("setExecutingNode",null),this.$store.commit("setWorkflowExecutionData",i),this.$store.commit("removeActiveAction","workflowRunning"),this.updateNodesExecutionIssues();let l=0;i.data.resultData.lastNodeExecuted&&!a&&(l=i.data.resultData.runData[i.data.resultData.lastNodeExecuted][0].data.main[0].length),this.$externalHooks().run("pushConnection.executionFinished",{itemsCount:l,nodeName:i.data.resultData.lastNodeExecuted,errorMessage:a,runDataExecutedStartData:i.data.startData,resultDataError:i.data.resultData.error})}else if("executionStarted"===o.type){const e=o.data,t={id:e.executionId,finished:!1,mode:e.mode,startedAt:e.startedAt,retryOf:e.retryOf,workflowId:e.workflowId,workflowName:e.workflowName};this.$store.commit("addActiveExecution",t)}else if("nodeExecuteAfter"===o.type){const e=o.data;this.$store.commit("addNodeExecutionData",e)}else if("nodeExecuteBefore"===o.type){const e=o.data;this.$store.commit("setExecutingNode",e.nodeName)}else if("testWebhookDeleted"===o.type){const e=o.data;e.workflowId===this.$store.getters.workflowId&&(this.$store.commit("setExecutionWaitingForWebhook",!1),this.$store.commit("removeActiveAction","workflowRunning"))}else if("testWebhookReceived"===o.type){const e=o.data;e.workflowId===this.$store.getters.workflowId&&(this.$store.commit("setExecutionWaitingForWebhook",!1),this.$store.commit("setActiveExecutionId",e.executionId)),this.processWaitingPushMessages()}return!0}}});var et=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.workflowName?s("div",{staticClass:"container"},[s("BreakpointsObserver",{staticClass:"name-container",attrs:{valueXS:15,valueSM:25,valueMD:50},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.value;return[s("WorkflowNameShort",{attrs:{name:e.workflowName,limit:o,custom:!0},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.shortenedName;return[s("InlineTextEdit",{staticClass:"name",attrs:{value:e.workflowName,previewValue:o,isEditEnabled:e.isNameEditEnabled,maxLength:e.MAX_WORKFLOW_NAME_LENGTH,placeholder:"Enter workflow name"},on:{toggle:e.onNameToggle,submit:e.onNameSubmit}})]}}],null,!0)})]}}],null,!1,2175509936)}),e.isTagsEditEnabled?s("div",{staticClass:"tags"},[s("TagsDropdown",{ref:"dropdown",staticClass:"tags-edit",attrs:{createEnabled:!0,currentTagIds:e.appliedTagIds,eventBus:e.tagsEditBus,placeholder:"Choose or create a tag"},on:{blur:e.onTagsBlur,update:e.onTagsUpdate,esc:e.onTagsEditEsc}})],1):0===e.currentWorkflowTagIds.length?s("div",{staticClass:"tags"},[s("span",{staticClass:"add-tag clickable",on:{click:e.onTagsEditEnable}},[e._v(" + Add tag ")])]):s("TagsContainer",{key:e.currentWorkflowId,staticClass:"tags",attrs:{tagIds:e.currentWorkflowTagIds,clickable:!0,responsive:!0},on:{click:e.onTagsEditEnable}}),s("PushConnectionTracker",{staticClass:"actions"},[[s("span",{staticClass:"activator"},[s("span",[e._v("Active:")]),s("WorkflowActivator",{attrs:{"workflow-active":e.isWorkflowActive,"workflow-id":e.currentWorkflowId,disabled:!e.currentWorkflowId}})],1),s("SaveButton",{attrs:{saved:!this.isDirty&&!this.isNewWorkflow,disabled:e.isWorkflowSaving},on:{click:e.onSaveButtonClick}})]],2)],1):e._e()},tt=[],st=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{attrs:{title:e.name}},[e._t("default",null,{shortenedName:e.shortenedName})],2)},ot=[];const nt=25,it=4;var at=o["default"].extend({name:"WorkflowNameShort",props:["name","limit"],computed:{shortenedName(){const e=this.$props.name,t=this.$props.limit||nt;if(e.length<=t)return e;const s=e.slice(0,t-it),o=e.slice(e.length-it,e.length);return`${s}...${o}`}}}),rt=at,lt=Object(Re["a"])(rt,st,ot,!1,null,null,null),dt=lt.exports,ct=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("IntersectionObserver",{staticClass:"tags-container",attrs:{threshold:1,enabled:e.responsive},on:{observed:e.onObserved}},[[s("span",{staticClass:"tags"},e._l(e.tags,(function(t){return s("span",{key:t.id,class:{clickable:!t.hidden},on:{click:function(s){return e.onClick(s,t)}}},[t.isCount?s("el-tag",{staticClass:"count-container",attrs:{title:t.title,type:"info",size:"small"}},[e._v(" "+e._s(t.name)+" ")]):s("IntersectionObserved",{class:{hidden:t.hidden},attrs:{"data-id":t.id,enabled:e.responsive}},[s("el-tag",{class:{hoverable:e.hoverable},attrs:{title:t.name,type:"info",size:"small"}},[e._v(" "+e._s(t.name)+" ")])],1)],1)})),0)]],2)},ut=[],ht=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"root"},[e._t("default")],2)},pt=[],mt=o["default"].extend({name:"IntersectionObserver",props:["threshold","enabled"],data(){return{observer:null}},mounted(){if(!this.$props.enabled)return;const e={root:this.$refs.root,rootMargin:"0px",threshold:this.$props.threshold},t=new IntersectionObserver(e=>{e.forEach(({target:e,isIntersecting:t})=>{this.$emit("observed",{el:e,isIntersecting:t})})},e);this.$data.observer=t,this.$on("observe",e=>{t.observe(e)}),this.$on("unobserve",e=>{t.unobserve(e)})},beforeDestroy(){this.$props.enabled&&this.$data.observer.disconnect()}}),ft=mt,gt=Object(Re["a"])(ft,ht,pt,!1,null,null,null),wt=gt.exports,vt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{ref:"observed"},[e._t("default")],2)},yt=[];function bt(e,t,s){this.$children.forEach(o=>{const n=o.$options.name;n===e?o.$emit.apply(o,[t].concat(s)):bt.apply(o,[e,t].concat([s]))})}var kt=o["default"].extend({methods:{$dispatch(e,t,s){let o=this.$parent||this.$root,n=o.$options.name;while(o&&(!n||n!==e))o=o.$parent,o&&(n=o.$options.name);o&&o.$emit.apply(o,[t].concat(s))},$broadcast(e,t,s){bt.call(this,e,t,s)}}}),xt=Object(Ke["a"])(kt).extend({name:"IntersectionObserved",props:["enabled"],mounted(){this.$props.enabled&&this.$nextTick(()=>{this.$dispatch("IntersectionObserver","observe",this.$refs.observed)})},beforeDestroy(){this.$props.enabled&&this.$dispatch("IntersectionObserver","unobserve",this.$refs.observed)}}),Ct=xt,_t=Object(Re["a"])(Ct,vt,yt,!1,null,null,null),Et=_t.exports;const $t=20;var Nt=o["default"].extend({components:{IntersectionObserver:wt,IntersectionObserved:Et},name:"TagsContainer",props:["tagIds","limit","clickable","responsive","hoverable"],data(){return{visibility:{}}},computed:{tags(){const e=this.$props.tagIds.map(e=>this.$store.getters["tags/getTagById"](e)).filter(Boolean),t=this.$props.limit||$t;let s=t?e.slice(0,t):e;s=s.map(e=>({...e,hidden:this.$props.responsive&&!this.$data.visibility[e.id]}));let o=s.length;if(this.$props.responsive&&(o=Object.values(this.visibility).reduce((e,t)=>t?e+1:e,0)),o<e.length){const t=e.slice(o),n=t.reduce((e,t)=>e?`${e}, ${t.name}`:t.name,""),i={id:"count",name:"+"+t.length,title:n,isCount:!0};s.splice(o,0,i)}return s}},methods:{onObserved({el:e,isIntersecting:t}){e.dataset.id&&o["default"].set(this.$data.visibility,e.dataset.id,t)},onClick(e,t){this.clickable&&e.stopPropagation(),t.hidden||this.$emit("click",t.id)}}}),Tt=Nt,It=(s("fa1e"),Object(Re["a"])(Tt,ct,ut,!1,null,"759c30a8",null)),St=It.exports,Ot=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",[e.pushConnectionActive?e._t("default"):s("div",{staticClass:"push-connection-lost primary-color"},[s("n8n-tooltip",{attrs:{placement:"bottom-end"}},[s("div",{attrs:{slot:"content"},slot:"content"},[e._v(" Cannot connect to server."),s("br"),e._v(" It is either down or you have a connection issue. "),s("br"),e._v(" It should reconnect automatically once the issue is resolved. ")]),s("span",[s("font-awesome-icon",{attrs:{icon:"exclamation-triangle"}}),e._v("  Connection lost ")],1)])],1)],2)},At=[],Dt=o["default"].extend({name:"PushConnectionTracker",computed:{...Object(De["b"])(["pushConnectionActive"])}}),Pt=Dt,Wt=Object(Re["a"])(Pt,Ot,At,!1,null,null,null),Rt=Wt.exports,Lt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"workflow-activator"},[s("el-switch",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-spinner":"el-icon-loading",value:e.workflowActive,title:e.workflowActive?"Deactivate Workflow":"Activate Workflow",disabled:e.disabled||e.loading,"active-color":e.getActiveColor,"inactive-color":"#8899AA"},on:{change:e.activeChanged}}),e.couldNotBeStarted?s("div",{staticClass:"could-not-be-started"},[s("n8n-tooltip",{attrs:{placement:"top"}},[s("div",{attrs:{slot:"content"},on:{click:e.displayActivationError},slot:"content"},[e._v("The workflow is set to be active but could not be started."),s("br"),e._v("Click to display error message.")]),s("font-awesome-icon",{attrs:{icon:"exclamation-triangle"},on:{click:e.displayActivationError}})],1)],1):e._e()],1)},Vt=[],Mt=s("4971"),Bt=s("7b04"),jt=Object(Ke["a"])(Ye["a"],Mt["a"],Bt["a"],qe["a"],Xe["a"]).extend({name:"WorkflowActivator",props:["disabled","workflowActive","workflowId"],data(){return{loading:!1}},computed:{...Object(De["b"])({dirtyState:"getStateIsDirty"}),nodesIssuesExist(){return this.$store.getters.nodesIssuesExist},isWorkflowActive(){const e=this.$store.getters.getActiveWorkflows;return e.includes(this.workflowId)},couldNotBeStarted(){return!0===this.workflowActive&&this.isWorkflowActive!==this.workflowActive},getActiveColor(){return!0===this.couldNotBeStarted?"#ff4949":"#13ce66"}},methods:{async activeChanged(e){if(void 0===this.workflowId)return void this.$showMessage({title:"Problem activating workflow",message:"The workflow did not get saved yet so can not be set active!",type:"error"});if(!0===this.nodesIssuesExist)return void this.$showMessage({title:"Problem activating workflow",message:"It is only possible to activate a workflow when all issues on all nodes got resolved!",type:"error"});let t={};const s=this.$store.getters.workflowId;if(!0===e&&this.workflowId===s){if(this.dirtyState){const e=await this.confirmMessage("When you activate the workflow all currently unsaved changes of the workflow will be saved.","Activate and save?","warning","Yes, activate and save!");if(!1===e)return}t=await this.getWorkflowDataToSave()}t.active=e,this.loading=!0;try{await this.restApi().updateWorkflow(this.workflowId,t)}catch(i){const t=!0===e?"activated":"deactivated";return this.$showError(i,"Problem",`There was a problem and the workflow could not be ${t}:`),void(this.loading=!1)}const o=this.$store.getters.workflowId;let n="workflow.activeChange";o===this.workflowId&&(this.$store.commit("setActive",e),n="workflow.activeChangeCurrent"),!0===e?this.$store.commit("setWorkflowActive",this.workflowId):this.$store.commit("setWorkflowInactive",this.workflowId),this.$externalHooks().run(n,{workflowId:this.workflowId,active:e}),this.$telemetry.track("User set workflow active status",{workflow_id:this.workflowId,is_active:e}),this.$emit("workflowActiveChanged",{id:this.workflowId,active:e}),this.loading=!1},async displayActivationError(){let e;try{const t=await this.restApi().getActivationError(this.workflowId);e=void 0===t?"Sorry there was a problem. No error got found to display.":`The following error occurred on workflow activation:<br /><i>${t.error.message}</i>`}catch(t){e="Sorry there was a problem requesting the error"}this.$showMessage({title:"Problem activating workflow",message:e,type:"warning",duration:0})}}}),Ut=jt,Ft=(s("0b5a"),Object(Re["a"])(Ut,Lt,Vt,!1,null,"2e174d7f",null)),zt=Ft.exports,Ht=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{class:e.$style.container},[e.saved?s("span",{class:e.$style.saved},[e._v(e._s(e.savedLabel))]):s("n8n-button",{attrs:{label:e.isSaving?e.savingLabel:e.saveLabel,loading:e.isSaving,disabled:e.disabled},on:{click:function(t){return e.$emit("click")}}})],1)},Kt=[],Yt=o["default"].extend({name:"SaveButton",props:{saved:{type:Boolean},isSaving:{type:Boolean},disabled:{type:Boolean},saveLabel:{type:String,default:"Save"},savingLabel:{type:String,default:"Saving"},savedLabel:{type:String,default:"Saved"}}}),Gt=Yt,qt=s("a7f7");function Jt(e){this["$style"]=qt["default"].locals||qt["default"]}var Xt=Object(Re["a"])(Gt,Ht,Kt,!1,Jt,null,null),Zt=Xt.exports,Qt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.onClickOutside,expression:"onClickOutside"}],class:{"tags-container":!0,focused:e.focused},on:{keydown:function(e){e.stopPropagation()}}},[s("n8n-select",{ref:"select",attrs:{popperAppendToBody:!1,value:e.appliedTags,loading:e.isLoading,placeholder:e.placeholder,"filter-method":e.filterOptions,filterable:"",multiple:"","loading-text":"...","popper-class":"tags-dropdown",size:"medium"},on:{change:e.onTagsUpdated,"visible-change":e.onVisibleChange,"remove-tag":e.onRemoveTag}},[0===e.options.length&&e.filter&&e.createEnabled?s("n8n-option",{key:e.CREATE_KEY,ref:"create",staticClass:"ops",attrs:{value:e.CREATE_KEY}},[s("font-awesome-icon",{attrs:{icon:"plus-circle"}}),s("span",[e._v('Create tag "'+e._s(e.filter)+'"')])],1):0===e.options.length?s("n8n-option",{attrs:{value:"message",disabled:""}},[e.createEnabled?s("span",[e._v("Type to create a tag")]):e.allTags.length>0?s("span",[e._v("No matching tags exist")]):s("span",[e._v("No tags exist")])]):e._e(),e._l(e.options,(function(e,t){return s("n8n-option",{key:e.id+"_"+t,ref:"tag",refInFor:!0,staticClass:"tag",attrs:{value:e.id,label:e.name}})})),s("n8n-option",{key:e.MANAGE_KEY,staticClass:"ops manage-tags",attrs:{value:e.MANAGE_KEY}},[s("font-awesome-icon",{attrs:{icon:"cog"}}),s("span",[e._v("Manage tags")])],1)],2)],1)},es=[];const ts="__manage",ss="__create";var os=Object(Ke["a"])(qe["a"]).extend({name:"TagsDropdown",props:["placeholder","currentTagIds","createEnabled","eventBus"],data(){return{filter:"",MANAGE_KEY:ts,CREATE_KEY:ss,focused:!1,preventUpdate:!1}},mounted(){const e=this.$refs.select;if(e){const t=e.$refs.input;t&&(t.setAttribute("maxlength",""+Ze["T"]),t.addEventListener("keydown",e=>{const t=e;"Escape"===t.key?this.$emit("esc"):"Enter"===t.key&&0===this.filter.length&&(this.$data.preventUpdate=!0,this.$emit("blur"),this.$refs.select&&"function"===typeof this.$refs.select.blur&&this.$refs.select.blur())}))}this.$props.eventBus&&this.$props.eventBus.$on("focus",()=>{this.focusOnInput(),this.focusOnTopOption()}),this.$store.dispatch("tags/fetchAll")},computed:{...Object(De["b"])("tags",["allTags","isLoading","hasTags"]),options(){return this.allTags.filter(e=>e&&e.name.toLowerCase().includes(this.$data.filter.toLowerCase()))},appliedTags(){return this.$props.currentTagIds.filter(e=>this.$store.getters["tags/getTagById"](e))}},methods:{filterOptions(e=""){this.$data.filter=e.trim(),this.$nextTick(()=>this.focusOnTopOption())},async onCreate(){const e=this.$data.filter;try{const t=await this.$store.dispatch("tags/create",e);this.$emit("update",[...this.$props.currentTagIds,t.id]),this.$nextTick(()=>this.focusOnTag(t.id)),this.$data.filter=""}catch(t){this.$showError(t,"New tag was not created",`A problem occurred when trying to create the "${e}" tag`)}},onTagsUpdated(e){const t=e.find(e=>e===ts||e===ss);t===ts?(this.$data.filter="",this.$store.dispatch("ui/openModal",Ze["wb"])):t===ss?this.onCreate():setTimeout(()=>{this.$data.preventUpdate||this.$emit("update",e),this.$data.preventUpdate=!1},0)},focusOnTopOption(){const e=this.$refs.tag,t=this.$refs.create;t&&t.hoverItem?t.hoverItem():e&&e[0]&&e[0].hoverItem&&(e[0].hoverItem(),e[0]&&e[0].$el&&e[0].$el.scrollIntoView&&e[0].$el.scrollIntoView())},focusOnTag(e){const t=this.$refs.tag||[];if(t&&t.length){const s=t.find(t=>t.value===e);s&&s.$el&&s.$el.scrollIntoView&&s.hoverItem&&(s.hoverItem(),s.$el.scrollIntoView())}},focusOnInput(){const e=this.$refs.select,t=e&&e.$refs.input;t&&t.focus&&(t.focus(),this.focused=!0)},onVisibleChange(e){e?this.focused=!0:(this.$data.filter="",this.focused=!1)},onRemoveTag(){this.$nextTick(()=>{this.focusOnInput()})},onClickOutside(e){"click"===e.type&&this.$emit("blur")}},watch:{allTags(){this.currentTagIds.length!==this.appliedTags.length&&this.$emit("update",this.appliedTags)}}}),ns=os,is=(s("7218"),s("478f"),Object(Re["a"])(ns,Qt,es,!1,null,"818376da",null)),as=is.exports,rs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"inline-edit",on:{keydown:function(e){e.stopPropagation()}}},[e.isEditEnabled?s("span",[s("ExpandableInputEdit",{attrs:{placeholder:e.placeholder,value:e.newValue,maxlength:e.maxLength,autofocus:!0,eventBus:e.inputBus},on:{input:e.onInput,esc:e.onEscape,blur:e.onBlur,enter:e.submit}})],1):s("span",{staticClass:"preview",on:{click:e.onClick}},[s("ExpandableInputPreview",{attrs:{value:e.previewValue||e.value}})],1)])},ls=[],ds=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ExpandableInputBase",{attrs:{value:e.value,placeholder:e.placeholder}},[s("input",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.onClickOutside,expression:"onClickOutside"}],ref:"input",staticClass:"el-input__inner",attrs:{placeholder:e.placeholder,maxlength:e.maxlength,size:"4"},domProps:{value:e.value},on:{input:e.onInput,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onEnter.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.onEscape.apply(null,arguments)}]}})])},cs=[],us=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:{"el-input":!0,"static-size":e.staticSize},attrs:{"data-value":e.hiddenValue}},[e._t("default")],2)},hs=[],ps=o["default"].extend({name:"ExpandableInputBase",props:["value","placeholder","staticSize"],computed:{hiddenValue(){let e=this.value.replace(/\s/g,".");return e||(e=this.$props.placeholder),""+e}}}),ms=ps,fs=(s("8fc9"),Object(Re["a"])(ms,us,hs,!1,null,"d482d1ac",null)),gs=fs.exports,ws=o["default"].extend({components:{ExpandableInputBase:gs},name:"ExpandableInputEdit",props:["value","placeholder","maxlength","autofocus","eventBus"],mounted(){this.$props.autofocus&&this.$refs.input&&this.focus(),this.$props.eventBus&&this.$props.eventBus.$on("focus",()=>{this.focus()})},methods:{focus(){this.$refs.input&&this.$refs.input.focus()},onInput(){this.$emit("input",this.$refs.input.value)},onEnter(){this.$emit("enter",this.$refs.input.value)},onClickOutside(e){"click"===e.type&&this.$emit("blur",this.$refs.input.value)},onEscape(){this.$emit("esc")}}}),vs=ws,ys=Object(Re["a"])(vs,ds,cs,!1,null,null,null),bs=ys.exports,ks=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ExpandableInputBase",{attrs:{value:e.value,staticSize:!0}},[[s("input",{class:{"el-input__inner":!0,clickable:!0},attrs:{disabled:!0,size:"4"},domProps:{value:e.value}})]],2)},xs=[],Cs=o["default"].extend({components:{ExpandableInputBase:gs},name:"ExpandableInputPreview",props:["value"]}),_s=Cs,Es=(s("d79a"),Object(Re["a"])(_s,ks,xs,!1,null,"1089bad1",null)),$s=Es.exports,Ns=o["default"].extend({name:"InlineTextEdit",components:{ExpandableInputEdit:bs,ExpandableInputPreview:$s},props:["isEditEnabled","value","placeholder","maxLength","previewValue"],data(){return{newValue:"",escPressed:!1,disabled:!1,inputBus:new o["default"]}},methods:{onInput(e){this.disabled||(this.newValue=e)},onClick(){this.disabled||(this.$data.newValue=this.$props.value,this.$emit("toggle"))},onBlur(){this.disabled||(this.$data.escPressed||this.submit(),this.$data.escPressed=!1)},submit(){if(this.disabled)return;const e=e=>{this.$data.disabled=!1,e||this.$data.inputBus.$emit("focus")};this.$data.disabled=!0,this.$emit("submit",this.newValue,e)},onEscape(){this.disabled||(this.$data.escPressed=!0,this.$emit("toggle"))}}}),Ts=Ns,Is=(s("8407"),Object(Re["a"])(Ts,rs,ls,!1,null,"7aaf555c",null)),Ss=Is.exports,Os=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",[e._t("default",null,{bp:e.bp,value:e.value})],2)},As=[],Ds=Object(Ke["a"])(Mt["a"]).extend({name:"BreakpointsObserver",props:["valueXS","valueXL","valueLG","valueMD","valueSM","valueDefault"],data(){return{width:window.innerWidth}},created(){window.addEventListener("resize",this.onResize)},beforeDestroy(){window.removeEventListener("resize",this.onResize)},methods:{onResize(){this.callDebounced("onResizeEnd",50)},onResizeEnd(){this.$data.width=window.innerWidth}},computed:{bp(){return this.$data.width<Ze["e"]?"XS":this.$data.width>=Ze["f"]?"XL":this.$data.width>=Ze["c"]?"LG":this.$data.width>=Ze["d"]?"MD":"SM"},value(){return void 0!==this.$props.valueXS&&this.$data.width<Ze["e"]?this.$props.valueXS:void 0!==this.$props.valueXL&&this.$data.width>=Ze["f"]?this.$props.valueXL:void 0!==this.$props.valueLG&&this.$data.width>=Ze["c"]?this.$props.valueLG:void 0!==this.$props.valueMD&&this.$data.width>=Ze["d"]?this.$props.valueMD:void 0!==this.$props.valueSM?this.$props.valueSM:this.$props.valueDefault}}}),Ps=Ds,Ws=Object(Re["a"])(Ps,Os,As,!1,null,null,null),Rs=Ws.exports;const Ls=(e,t)=>{if(e.length!==t.length)return!0;const s=new Set(e);return t.reduce((e,t)=>e||!s.has(t),!1)};var Vs=Object(Ke["a"])(Xe["a"]).extend({name:"WorkflowDetails",components:{TagsContainer:St,PushConnectionTracker:Rt,WorkflowNameShort:dt,WorkflowActivator:zt,SaveButton:Zt,TagsDropdown:as,InlineTextEdit:Ss,BreakpointsObserver:Rs},data(){return{isTagsEditEnabled:!1,isNameEditEnabled:!1,appliedTagIds:[],tagsEditBus:new o["default"],MAX_WORKFLOW_NAME_LENGTH:Ze["U"],tagsSaving:!1}},computed:{...Object(De["b"])({isWorkflowActive:"isActive",workflowName:"workflowName",isDirty:"getStateIsDirty",currentWorkflowTagIds:"workflowTags"}),isNewWorkflow(){return!this.$route.params.name},isWorkflowSaving(){return this.$store.getters.isActionActive("workflowSaving")},currentWorkflowId(){return this.$route.params.name}},methods:{onSaveButtonClick(){this.saveCurrentWorkflow(void 0)},onTagsEditEnable(){this.$data.appliedTagIds=this.currentWorkflowTagIds,this.$data.isTagsEditEnabled=!0,setTimeout(()=>{this.$data.isNameEditEnabled=!1,this.$data.tagsEditBus.$emit("focus")},0)},async onTagsUpdate(e){this.$data.appliedTagIds=e},async onTagsBlur(){const e=this.currentWorkflowTagIds,t=this.$data.appliedTagIds;if(!Ls(e,t))return void(this.$data.isTagsEditEnabled=!1);if(this.$data.tagsSaving)return;this.$data.tagsSaving=!0;const s=await this.saveCurrentWorkflow({tags:t});this.$telemetry.track("User edited workflow tags",{workflow_id:this.currentWorkflowId,new_tag_count:t.length}),this.$data.tagsSaving=!1,s&&(this.$data.isTagsEditEnabled=!1)},onTagsEditEsc(){this.$data.isTagsEditEnabled=!1},onNameToggle(){this.$data.isNameEditEnabled=!this.$data.isNameEditEnabled,this.$data.isNameEditEnabled&&(this.$data.isTagsEditEnabled&&this.onTagsBlur(),this.$data.isTagsEditEnabled=!1)},async onNameSubmit(e,t){const s=e.trim();if(!s)return this.$showMessage({title:"Name missing",message:"Please enter a name, or press 'esc' to go back to the old one.",type:"error"}),void t(!1);if(s===this.workflowName)return this.$data.isNameEditEnabled=!1,void t(!0);const o=await this.saveCurrentWorkflow({name:e});o&&(this.$data.isNameEditEnabled=!1),t(o)}},watch:{currentWorkflowId(){this.$data.isTagsEditEnabled=!1,this.$data.isNameEditEnabled=!1}}}),Ms=Vs,Bs=(s("9090"),Object(Re["a"])(Ms,et,tt,!1,null,"3f71365d",null)),js=Bs.exports,Us=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("span",{staticClass:"title"},[e._v(" Execution Id: "),s("span",[s("strong",[e._v(e._s(e.executionId))]),e._v("  "),e.executionFinished?s("font-awesome-icon",{staticClass:"execution-icon success",attrs:{icon:"check",title:"Execution was successful"}}):e.executionWaiting?s("font-awesome-icon",{staticClass:"execution-icon warning",attrs:{icon:"clock",title:"Execution waiting"}}):s("font-awesome-icon",{staticClass:"execution-icon error",attrs:{icon:"times",title:"Execution failed"}})],1),e._v(" of "),s("span",{staticClass:"primary-color clickable",attrs:{title:"Open Workflow"}},[s("WorkflowNameShort",{attrs:{name:e.workflowName},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.shortenedName;return[s("span",{on:{click:function(t){return e.openWorkflow(e.workflowExecution.workflowId)}}},[e._v(' "'+e._s(o)+'" ')])]}}])})],1),e._v(" workflow ")]),s("ReadOnly",{staticClass:"read-only"})],1)},Fs=[],zs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("n8n-tooltip",{staticClass:"primary-color",attrs:{placement:"bottom-end"}},[s("div",{attrs:{slot:"content"},slot:"content"},[e._v(" You're viewing the log of a previous execution. You cannot"),s("br"),e._v(" make changes since this execution already occured. Make changes"),s("br"),e._v(" to this workflow by clicking on its name on the left. ")]),s("span",[s("font-awesome-icon",{attrs:{icon:"exclamation-triangle"}}),e._v(" Read only ")],1)])},Hs=[],Ks={},Ys=Object(Re["a"])(Ks,zs,Hs,!1,null,null,null),Gs=Ys.exports,qs=Object(Ke["a"])(Je).extend({name:"ExecutionDetails",components:{WorkflowNameShort:dt,ReadOnly:Gs},computed:{executionId(){return this.$route.params.id},executionFinished(){const e=this.$store.getters.getWorkflowExecution;return!!e&&e.finished},executionWaiting(){const e=this.$store.getters.getWorkflowExecution;return!!e&&!!e.waitTill},workflowExecution(){return this.$store.getters.getWorkflowExecution},workflowName(){return this.$store.getters.workflowName}},methods:{async openWorkflow(e){this.$titleSet(this.workflowName,"IDLE"),this.$router.push({name:"NodeViewExisting",params:{name:e}})}}}),Js=qs,Xs=(s("826c"),Object(Re["a"])(Js,Us,Fs,!1,null,"62cbe7ec",null)),Zs=Xs.exports,Qs=Object(Ke["a"])(Qe).extend({name:"MainHeader",components:{WorkflowDetails:js,ExecutionDetails:Zs},computed:{...Object(De["b"])("ui",["sidebarMenuCollapsed"]),isExecutionPage(){return["ExecutionById"].includes(this.$route.name)}},async mounted(){this.pushConnect()},beforeDestroy(){this.pushDisconnect()}}),eo=Qs,to=(s("33ac"),Object(Re["a"])(eo,ze,He,!1,null,null,null)),so=to.exports,oo=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"side-menu"}},[s("about",{attrs:{dialogVisible:e.aboutDialogVisible},on:{closeDialog:e.closeAboutDialog}}),s("executions-list",{attrs:{dialogVisible:e.executionsListDialogVisible},on:{closeDialog:e.closeExecutionsListOpenDialog}}),s("input",{ref:"importFile",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:function(t){return e.handleFileImport()}}}),s("div",{staticClass:"side-menu-wrapper",class:{expanded:!e.isCollapsed}},[s("div",{staticClass:"clickable",attrs:{id:"collapse-change-button"},on:{click:e.toggleCollapse}},[s("font-awesome-icon",{staticClass:"icon",attrs:{icon:"angle-right"}})],1),s("n8n-menu",{attrs:{"default-active":"workflow",collapse:e.isCollapsed},on:{select:e.handleSelect}},[s("n8n-menu-item",{staticClass:"logo-item",attrs:{index:"logo"}},[s("a",{staticClass:"logo",attrs:{href:"https://n8n.io",target:"_blank"}},[s("img",{staticClass:"icon",attrs:{src:e.basePath+"n8n-icon-small.png",alt:"n8n.io"}}),s("span",{staticClass:"logo-text",attrs:{slot:"title"},slot:"title"},[e._v("n8n.io")])])]),s("MenuItemsIterator",{attrs:{items:e.sidebarMenuTopItems,root:!0}}),s("el-submenu",{attrs:{index:"workflow",title:"Workflow",popperClass:"sidebar-popper"}},[s("template",{slot:"title"},[s("font-awesome-icon",{attrs:{icon:"network-wired"}}),e._v("  "),s("span",{staticClass:"item-title-root",attrs:{slot:"title"},slot:"title"},[e._v("Workflows")])],1),s("n8n-menu-item",{attrs:{index:"workflow-new"}},[s("template",{slot:"title"},[s("font-awesome-icon",{attrs:{icon:"file"}}),e._v("  "),s("span",{staticClass:"item-title",attrs:{slot:"title"},slot:"title"},[e._v("New")])],1)],2),s("n8n-menu-item",{attrs:{index:"workflow-open"}},[s("template",{slot:"title"},[s("font-awesome-icon",{attrs:{icon:"folder-open"}}),e._v("  "),s("span",{staticClass:"item-title",attrs:{slot:"title"},slot:"title"},[e._v("Open")])],1)],2),s("n8n-menu-item",{attrs:{index:"workflow-save"}},[s("template",{slot:"title"},[s("font-awesome-icon",{attrs:{icon:"save"}}),s("span",{staticClass:"item-title",attrs:{slot:"title"},slot:"title"},[e._v("Save")])],1)],2),s("n8n-menu-item",{attrs:{index:"workflow-duplicate",disabled:!e.currentWorkflow}},[s("template",{slot:"title"},[s("font-awesome-icon",{attrs:{icon:"copy"}}),s("span",{staticClass:"item-title",attrs:{slot:"title"},slot:"title"},[e._v("Duplicate")])],1)],2),s("n8n-menu-item",{attrs:{index:"workflow-delete",disabled:!e.currentWorkflow}},[s("template",{slot:"title"},[s("font-awesome-icon",{attrs:{icon:"trash"}}),s("span",{staticClass:"item-title",attrs:{slot:"title"},slot:"title"},[e._v("Delete")])],1)],2),s("n8n-menu-item",{attrs:{index:"workflow-download"}},[s("template",{slot:"title"},[s("font-awesome-icon",{attrs:{icon:"file-download"}}),s("span",{staticClass:"item-title",attrs:{slot:"title"},slot:"title"},[e._v("Download")])],1)],2),s("n8n-menu-item",{attrs:{index:"workflow-import-url"}},[s("template",{slot:"title"},[s("font-awesome-icon",{attrs:{icon:"cloud"}}),s("span",{staticClass:"item-title",attrs:{slot:"title"},slot:"title"},[e._v("Import from URL")])],1)],2),s("n8n-menu-item",{attrs:{index:"workflow-import-file"}},[s("template",{slot:"title"},[s("font-awesome-icon",{attrs:{icon:"hdd"}}),s("span",{staticClass:"item-title",attrs:{slot:"title"},slot:"title"},[e._v("Import from File")])],1)],2),s("n8n-menu-item",{attrs:{index:"workflow-settings",disabled:!e.currentWorkflow}},[s("template",{slot:"title"},[s("font-awesome-icon",{attrs:{icon:"cog"}}),s("span",{staticClass:"item-title",attrs:{slot:"title"},slot:"title"},[e._v("Settings")])],1)],2)],2),s("el-submenu",{attrs:{index:"credentials",title:"Credentials",popperClass:"sidebar-popper"}},[s("template",{slot:"title"},[s("font-awesome-icon",{attrs:{icon:"key"}}),e._v("  "),s("span",{staticClass:"item-title-root",attrs:{slot:"title"},slot:"title"},[e._v("Credentials")])],1),s("n8n-menu-item",{attrs:{index:"credentials-new"}},[s("template",{slot:"title"},[s("font-awesome-icon",{attrs:{icon:"file"}}),s("span",{staticClass:"item-title",attrs:{slot:"title"},slot:"title"},[e._v("New")])],1)],2),s("n8n-menu-item",{attrs:{index:"credentials-open"}},[s("template",{slot:"title"},[s("font-awesome-icon",{attrs:{icon:"folder-open"}}),s("span",{staticClass:"item-title",attrs:{slot:"title"},slot:"title"},[e._v("Open")])],1)],2)],2),s("n8n-menu-item",{attrs:{index:"executions"}},[s("font-awesome-icon",{attrs:{icon:"tasks"}}),e._v("  "),s("span",{staticClass:"item-title-root",attrs:{slot:"title"},slot:"title"},[e._v("Executions")])],1),s("el-submenu",{staticClass:"help-menu",attrs:{index:"help",title:"Help",popperClass:"sidebar-popper"}},[s("template",{slot:"title"},[s("font-awesome-icon",{attrs:{icon:"question"}}),e._v("  "),s("span",{staticClass:"item-title-root",attrs:{slot:"title"},slot:"title"},[e._v("Help")])],1),s("MenuItemsIterator",{attrs:{items:e.helpMenuItems,afterItemClick:e.trackHelpItemClick}}),s("n8n-menu-item",{attrs:{index:"help-about"}},[s("template",{slot:"title"},[s("font-awesome-icon",{staticClass:"about-icon",attrs:{icon:"info"}}),s("span",{staticClass:"item-title",attrs:{slot:"title"},slot:"title"},[e._v("About n8n")])],1)],2)],2),s("MenuItemsIterator",{attrs:{items:e.sidebarMenuBottomItems,root:!0}}),s("div",{staticClass:"footer-menu-items"},[e.hasVersionUpdates?s("n8n-menu-item",{staticClass:"updates",attrs:{index:"updates"},on:{click:e.openUpdatesPanel}},[s("div",{staticClass:"gift-container"},[s("GiftNotificationIcon")],1),s("span",{staticClass:"item-title-root",attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.nextVersions.length>99?"99+":e.nextVersions.length)+" update"+e._s(e.nextVersions.length>1?"s":"")+" available")])]):e._e()],1)],1)],1)],1)},no=[],io=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",[s("el-dialog",{staticClass:"n8n-about",attrs:{visible:e.dialogVisible,"append-to-body":"",width:"50%",title:"About n8n","before-close":e.closeDialog}},[s("div",[s("el-row",[s("el-col",{staticClass:"info-name",attrs:{span:8}},[e._v(" n8n Version: ")]),s("el-col",{attrs:{span:16}},[e._v(" "+e._s(e.versionCli)+" ")])],1),s("el-row",[s("el-col",{staticClass:"info-name",attrs:{span:8}},[e._v(" Source Code: ")]),s("el-col",{attrs:{span:16}},[s("a",{attrs:{href:"https://github.com/n8n-io/n8n",target:"_blank"}},[e._v("https://github.com/n8n-io/n8n")])])],1),s("el-row",[s("el-col",{staticClass:"info-name",attrs:{span:8}},[e._v(" License: ")]),s("el-col",{attrs:{span:16}},[s("a",{attrs:{href:"https://github.com/n8n-io/n8n/blob/master/packages/cli/LICENSE.md",target:"_blank"}},[e._v("Apache 2.0 with Commons Clause")])])],1),s("div",{staticClass:"action-buttons"},[s("n8n-button",{attrs:{label:"Close"},on:{click:e.closeDialog}})],1)],1)])],1)},ao=[],ro=Object(Ke["a"])(Mt["a"],qe["a"]).extend({name:"About",props:["dialogVisible"],computed:{versionCli(){return this.$store.getters.versionCli}},methods:{closeDialog(){return this.$emit("closeDialog"),!1}}}),lo=ro,co=(s("df41"),Object(Re["a"])(lo,io,ao,!1,null,"1c36b8b9",null)),uo=co.exports,ho=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",[s("el-dialog",{attrs:{visible:e.dialogVisible,"append-to-body":"",width:"80%",title:"Workflow Executions "+e.combinedExecutions.length+"/"+(!0===e.finishedExecutionsCountEstimated?"~":"")+e.combinedExecutionsCount,"before-close":e.closeDialog}},[s("div",{staticClass:"filters"},[s("el-row",[s("el-col",{staticClass:"filter-headline",attrs:{span:2}},[e._v(" Filters: ")]),s("el-col",{attrs:{span:7}},[s("n8n-select",{attrs:{placeholder:"Select Workflow",size:"medium",filterable:""},on:{change:e.handleFilterChanged},model:{value:e.filter.workflowId,callback:function(t){e.$set(e.filter,"workflowId",t)},expression:"filter.workflowId"}},e._l(e.workflows,(function(e){return s("n8n-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),s("el-col",{attrs:{span:5,offset:1}},[s("n8n-select",{attrs:{placeholder:"Select Status",size:"medium",filterable:""},on:{change:e.handleFilterChanged},model:{value:e.filter.status,callback:function(t){e.$set(e.filter,"status",t)},expression:"filter.status"}},e._l(e.statuses,(function(e){return s("n8n-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),s("el-col",{staticClass:"autorefresh",attrs:{span:4,offset:5}},[s("el-checkbox",{on:{change:e.handleAutoRefreshToggle},model:{value:e.autoRefresh,callback:function(t){e.autoRefresh=t},expression:"autoRefresh"}},[e._v("Auto refresh")])],1)],1)],1),s("div",{staticClass:"selection-options"},[!0===e.checkAll||!0===e.isIndeterminate?s("span",[e._v(" Selected: "+e._s(e.numSelected)+" / "),!0===e.finishedExecutionsCountEstimated?s("span",[e._v("~")]):e._e(),e._v(e._s(e.finishedExecutionsCount)+" "),s("n8n-icon-button",{attrs:{title:"Delete Selected",icon:"trash",size:"mini"},on:{click:e.handleDeleteSelected}})],1):e._e()]),s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isDataLoading,expression:"isDataLoading"}],attrs:{data:e.combinedExecutions,stripe:"","row-class-name":e.getRowClass}},[s("el-table-column",{attrs:{label:"",width:"30"},scopedSlots:e._u([{key:"header",fn:function(t){return[s("el-checkbox",{attrs:{indeterminate:e.isIndeterminate,label:" "},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}})]}},{key:"default",fn:function(t){return[void 0!==t.row.stoppedAt&&t.row.id?s("el-checkbox",{attrs:{value:e.selectedItems[t.row.id.toString()]||e.checkAll,label:" "},on:{change:function(s){return e.handleCheckboxChanged(t.row.id)}}}):e._e()]}}])}),s("el-table-column",{attrs:{property:"startedAt",label:"Started At / ID",width:"205"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.convertToDisplayDate(t.row.startedAt))),s("br"),t.row.id?s("small",[e._v("ID: "+e._s(t.row.id))]):e._e()]}}])}),s("el-table-column",{attrs:{property:"workflowName",label:"Name"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",{staticClass:"workflow-name"},[e._v(" "+e._s(t.row.workflowName||"[UNSAVED WORKFLOW]")+" ")]),void 0===t.row.stoppedAt?s("span",[e._v(" (running) ")]):e._e(),void 0!==t.row.retryOf?s("span",[s("br"),s("small",[e._v('Retry of "'+e._s(t.row.retryOf)+'"')])]):void 0!==t.row.retrySuccessId?s("span",[s("br"),s("small",[e._v('Success retry "'+e._s(t.row.retrySuccessId)+'"')])]):e._e()]}}])}),s("el-table-column",{attrs:{label:"Status",width:"122",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("n8n-tooltip",{attrs:{placement:"top"}},[s("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.statusTooltipText(t.row))},slot:"content"}),t.row.waitTill?s("span",{staticClass:"status-badge running"},[e._v(" Waiting ")]):void 0===t.row.stoppedAt?s("span",{staticClass:"status-badge running"},[e._v(" Running ")]):t.row.finished?s("span",{staticClass:"status-badge success"},[e._v(" Success ")]):null!==t.row.stoppedAt?s("span",{staticClass:"status-badge error"},[e._v(" Error ")]):s("span",{staticClass:"status-badge warning"},[e._v(" Unknown ")])]),s("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleRetryClick}},[s("span",{staticClass:"retry-button"},[void 0===t.row.stoppedAt||t.row.finished||void 0!==t.row.retryOf||void 0!==t.row.retrySuccessId||t.row.waitTill?e._e():s("n8n-icon-button",{attrs:{type:"light",theme:null===t.row.stoppedAt?"warning":"danger",size:"mini",title:"Retry execution",icon:"redo"}})],1),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:{command:"currentlySaved",row:t.row}}},[e._v("Retry with currently saved workflow")]),s("el-dropdown-item",{attrs:{command:{command:"original",row:t.row}}},[e._v("Retry with original workflow")])],1)],1)]}}])}),s("el-table-column",{attrs:{property:"mode",label:"Mode",width:"100",align:"center"}}),s("el-table-column",{attrs:{label:"Running Time",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[void 0===t.row.stoppedAt?s("span",[s("font-awesome-icon",{attrs:{icon:"spinner",spin:""}}),s("execution-time",{attrs:{"start-time":t.row.startedAt}})],1):null===t.row.stoppedAt?s("span",[e._v(" -- ")]):s("span",[e._v(" "+e._s(e.displayTimer(new Date(t.row.stoppedAt).getTime()-new Date(t.row.startedAt).getTime(),!0))+" ")])]}}])}),s("el-table-column",{attrs:{label:"",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",{staticClass:"actions-container"},[void 0===t.row.stoppedAt||t.row.waitTill?s("span",[s("n8n-icon-button",{attrs:{icon:"stop",size:"small",title:"Stop Execution",loading:e.stoppingExecutions.includes(t.row.id)},on:{click:function(s){return s.stopPropagation(),e.stopExecution(t.row.id)}}})],1):e._e(),void 0!==t.row.stoppedAt&&t.row.id?s("span",[s("n8n-icon-button",{attrs:{icon:"folder-open",size:"small",title:"Open Past Execution"},on:{click:function(s){return s.stopPropagation(),e.displayExecution(t.row)}}})],1):e._e()])]}}])})],1),e.finishedExecutionsCount>e.finishedExecutions.length||!0===e.finishedExecutionsCountEstimated?s("div",{staticClass:"load-more"},[s("n8n-button",{attrs:{icon:"sync",title:"Load More",label:"Load More",loading:e.isDataLoading},on:{click:function(t){return e.loadMore()}}})],1):e._e()],1)],1)},po=[],mo=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",[e._v(" "+e._s(e.time)+" ")])},fo=[],go=Object(Ke["a"])(Mt["a"]).extend({name:"ExecutionTime",props:["startTime"],computed:{time(){if(!this.startTime)return"...";const e=this.nowTime-new Date(this.startTime).getTime();return this.displayTimer(e)}},data(){return{nowTime:-1,intervalTimer:null}},mounted(){this.setNow(),this.intervalTimer=setInterval(()=>{this.setNow()},1e3)},destroyed(){null!==this.intervalTimer&&clearInterval(this.intervalTimer)},methods:{setNow(){this.nowTime=(new Date).getTime()}}}),wo=go,vo=(s("26fe"),Object(Re["a"])(wo,mo,fo,!1,null,null,null)),yo=vo.exports,bo=s("e5bf"),ko=s.n(bo);const xo=["API","OAuth1","OAuth2"];function Co(e){return ko()(e,"yyyy-mm-dd HH:MM:ss")}function _o(e){return ko()(e,"d mmmm, yyyy @ HH:MM Z")}function Eo(e){return e.split(" ").filter(e=>!xo.includes(e)).join(" ")}function $o(e){const t=getComputedStyle(document.body);return t.getPropertyValue(e)}var No=s("9ec3"),To=Object(Ke["a"])(Ye["a"],Mt["a"],Bt["a"],qe["a"]).extend({name:"ExecutionsList",props:["dialogVisible"],components:{ExecutionTime:yo,WorkflowActivator:zt},data(){return{finishedExecutions:[],finishedExecutionsCount:0,finishedExecutionsCountEstimated:!1,checkAll:!1,autoRefresh:!0,autoRefreshInterval:void 0,filter:{status:"ALL",workflowId:"ALL"},isDataLoading:!1,requestItemsPerRequest:10,selectedItems:{},stoppingExecutions:[],workflows:[],statuses:[{id:"ALL",name:"Any Status"},{id:"error",name:"Error"},{id:"running",name:"Running"},{id:"success",name:"Success"},{id:"waiting",name:"Waiting"}]}},computed:{activeExecutions(){return this.$store.getters.getActiveExecutions},combinedExecutions(){const e=[];return["ALL","running"].includes(this.filter.status)&&e.push.apply(e,this.activeExecutions),["ALL","error","success","waiting"].includes(this.filter.status)&&e.push.apply(e,this.finishedExecutions),e},combinedExecutionsCount(){return 0+this.activeExecutions.length+this.finishedExecutionsCount},numSelected(){return!0===this.checkAll?this.finishedExecutionsCount:Object.keys(this.selectedItems).length},isIndeterminate(){return!0!==this.checkAll&&this.numSelected>0},workflowFilterCurrent(){const e={};return"ALL"!==this.filter.workflowId&&(e.workflowId=this.filter.workflowId),e},workflowFilterPast(){const e={};return"ALL"!==this.filter.workflowId&&(e.workflowId=this.filter.workflowId),"waiting"===this.filter.status?e.waitTill=!0:["error","success"].includes(this.filter.status)&&(e.finished="success"===this.filter.status),e}},watch:{dialogVisible(e,t){e&&this.openDialog()}},methods:{closeDialog(){return this.$emit("closeDialog"),this.autoRefreshInterval&&(clearInterval(this.autoRefreshInterval),this.autoRefreshInterval=void 0),!1},convertToDisplayDate:Co,displayExecution(e){this.$router.push({name:"ExecutionById",params:{id:e.id}}),this.closeDialog()},handleAutoRefreshToggle(){this.autoRefreshInterval&&(clearInterval(this.autoRefreshInterval),this.autoRefreshInterval=void 0),this.autoRefresh&&(this.autoRefreshInterval=setInterval(this.loadAutoRefresh,4e3))},handleCheckAllChange(){!1===this.checkAll&&o["default"].set(this,"selectedItems",{})},handleCheckboxChanged(e){this.selectedItems[e]?o["default"].delete(this.selectedItems,e):o["default"].set(this.selectedItems,e,!0)},async handleDeleteSelected(){const e=await this.confirmMessage(`Are you sure that you want to delete the ${this.numSelected} selected executions?`,"Delete Executions?","warning","Yes, delete!");if(!1===e)return;this.isDataLoading=!0;const t={};!0===this.checkAll?t.deleteBefore=this.finishedExecutions[0].startedAt:t.ids=Object.keys(this.selectedItems),t.filters=this.workflowFilterPast;try{await this.restApi().deleteExecutions(t)}catch(s){return this.isDataLoading=!1,void this.$showError(s,"Problem deleting executions","There was a problem deleting the executions:")}this.isDataLoading=!1,this.$showMessage({title:"Execution deleted",message:"The executions were deleted!",type:"success"}),o["default"].set(this,"selectedItems",{}),this.checkAll=!1,this.refreshData()},handleFilterChanged(){this.refreshData()},handleRetryClick(e){let t=!1;"currentlySaved"===e.command&&(t=!0),this.retryExecution(e.row,t)},getRowClass(e){const t=[];return void 0===e.row.stoppedAt&&t.push("currently-running"),t.join(" ")},getWorkflowName(e){const t=this.workflows.find(t=>t.id===e);if(void 0!==t)return t.name},async loadActiveExecutions(){const e=await this.restApi().getCurrentExecutions(this.workflowFilterCurrent);for(const t of e)void 0!==t.workflowId&&void 0===t.workflowName&&(t.workflowName=this.getWorkflowName(t.workflowId));this.$store.commit("setActiveExecutions",e)},async loadAutoRefresh(){const e=this.workflowFilterPast,t=this.restApi().getPastExecutions(e,30),s=this.restApi().getCurrentExecutions({}),o=await Promise.all([t,s]);for(const r of o[1])void 0!==r.workflowId&&void 0===r.workflowName&&(r.workflowName=this.getWorkflowName(r.workflowId));this.$store.commit("setActiveExecutions",o[1]);const n=this.finishedExecutions.map(e=>parseInt(e.id,10));let i=0;const a=[];for(let r=o[0].results.length-1;r>=0;r--){const e=o[0].results[r],t=parseInt(e.id,10);if(0!==i&&!1===isNaN(t)&&t-i>1){const e=Object(No["range"])(i+1,t);a.push(...e)}i=parseInt(e.id,10)||0;const s=n.indexOf(t);if(-1!==s){!1===this.finishedExecutions[s].finished&&!0===e.finished&&(this.finishedExecutions[s]=e);continue}let l;for(l=this.finishedExecutions.length-1;l>=0;l--)if(t<parseInt(this.finishedExecutions[l].id,10)){this.finishedExecutions.splice(l+1,0,e);break}-1===l&&this.finishedExecutions.unshift(e)}this.finishedExecutions=this.finishedExecutions.filter(e=>!a.includes(parseInt(e.id,10))&&i>=parseInt(e.id,10)),this.finishedExecutionsCount=o[0].count,this.finishedExecutionsCountEstimated=o[0].estimated},async loadFinishedExecutions(){if("running"===this.filter.status)return this.finishedExecutions=[],this.finishedExecutionsCount=0,void(this.finishedExecutionsCountEstimated=!1);const e=await this.restApi().getPastExecutions(this.workflowFilterPast,this.requestItemsPerRequest);this.finishedExecutions=e.results,this.finishedExecutionsCount=e.count,this.finishedExecutionsCountEstimated=e.estimated},async loadMore(){if("running"===this.filter.status)return;this.isDataLoading=!0;const e=this.workflowFilterPast;let t,s;if(0!==this.finishedExecutions.length){const e=this.finishedExecutions.slice(-1)[0];t=e.id}try{s=await this.restApi().getPastExecutions(e,this.requestItemsPerRequest,t)}catch(o){return this.isDataLoading=!1,void this.$showError(o,"Problem loading workflows","There was a problem loading the workflows:")}this.finishedExecutions.push.apply(this.finishedExecutions,s.results),this.finishedExecutionsCount=s.count,this.finishedExecutionsCountEstimated=s.estimated,this.isDataLoading=!1},async loadWorkflows(){try{const e=await this.restApi().getWorkflows();e.sort((e,t)=>e.name.toLowerCase()<t.name.toLowerCase()?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:0),e.unshift({id:"ALL",name:"All Workflows"}),o["default"].set(this,"workflows",e)}catch(e){this.$showError(e,"Problem loading workflows","There was a problem loading the workflows:")}},async openDialog(){o["default"].set(this,"selectedItems",{}),this.filter.workflowId="ALL",this.checkAll=!1,await this.loadWorkflows(),await this.refreshData(),this.handleAutoRefreshToggle(),this.$externalHooks().run("executionsList.openDialog"),this.$telemetry.track("User opened Executions log",{workflow_id:this.$store.getters.workflowId})},async retryExecution(e,t){this.isDataLoading=!0;try{const s=await this.restApi().retryExecution(e.id,t);!0===s?this.$showMessage({title:"Retry successful",message:"The retry was successful!",type:"success"}):this.$showMessage({title:"Retry unsuccessful",message:"The retry was not successful!",type:"error"}),this.isDataLoading=!1}catch(s){this.$showError(s,"Problem with retry","There was a problem with the retry:"),this.isDataLoading=!1}},async refreshData(){this.isDataLoading=!0;try{const e=this.loadActiveExecutions(),t=this.loadFinishedExecutions();await Promise.all([e,t])}catch(e){this.$showError(e,"Problem loading","There was a problem loading the data:")}this.isDataLoading=!1},statusTooltipText(e){if(e.waitTill){const t=new Date(e.waitTill);return t.toISOString()===Ze["Cb"]?"The workflow is waiting indefinitely for an incoming webhook call.":`The worklow is waiting till ${t.toLocaleDateString()} ${t.toLocaleTimeString()}.`}return void 0===e.stoppedAt?"The worklow is currently executing.":!0===e.finished&&void 0!==e.retryOf?`The workflow execution was a retry of "${e.retryOf}" and it was successful.`:!0===e.finished?"The worklow execution was successful.":void 0!==e.retryOf?`The workflow execution was a retry of "${e.retryOf}" and failed.<br />New retries have to be started from the original execution.`:void 0!==e.retrySuccessId?`The workflow execution failed but the retry "${e.retrySuccessId}" was successful.`:null===e.stoppedAt?"The workflow execution is probably still running but it may have crashed and n8n cannot safely tell. ":"The workflow execution failed."},async stopExecution(e){try{this.stoppingExecutions.push(e),await this.restApi().stopCurrentExecution(e);const t=this.stoppingExecutions.indexOf(e);this.stoppingExecutions.splice(t,1),this.$showMessage({title:"Execution stopped",message:`The execution with the id "${e}" got stopped!`,type:"success"}),this.refreshData()}catch(t){this.$showError(t,"Problem stopping execution","There was a problem stopping the execuction:")}}}}),Io=To,So=(s("b211"),s("53f5"),Object(Re["a"])(Io,ho,po,!1,null,"b4197c12",null)),Oo=So.exports,Ao=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:e.$style["gift-icon"]},[s("font-awesome-icon",{attrs:{icon:"gift"}}),s("div",{class:e.$style["notification"]},[s("div")])],1)},Do=[],Po=s("62ee"),Wo={};function Ro(e){this["$style"]=Po["default"].locals||Po["default"]}var Lo=Object(Re["a"])(Wo,Ao,Do,!1,Ro,null,null),Vo=Lo.exports,Mo=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Modal",{attrs:{name:e.WORKFLOW_SETTINGS_MODAL_KEY,width:"65%",maxHeight:"80%",title:"Settings for "+e.workflowName+" (#"+e.workflowId+")",eventBus:e.modalBus,scrollable:!0},scopedSlots:e._u([{key:"content",fn:function(){return[s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticClass:"workflow-settings"},[s("el-row",[s("el-col",{staticClass:"setting-name",attrs:{span:10}},[e._v(" Error Workflow: "),s("n8n-tooltip",{staticClass:"setting-info",attrs:{placement:"top"}},[s("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.helpTexts.errorWorkflow)},slot:"content"}),s("font-awesome-icon",{attrs:{icon:"question-circle"}})],1)],1),s("el-col",{staticClass:"ignore-key-press",attrs:{span:14}},[s("n8n-select",{attrs:{placeholder:"Select Workflow",size:"medium",filterable:"","limit-popper-width":!0},model:{value:e.workflowSettings.errorWorkflow,callback:function(t){e.$set(e.workflowSettings,"errorWorkflow",t)},expression:"workflowSettings.errorWorkflow"}},e._l(e.workflows,(function(e){return s("n8n-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),s("el-row",[s("el-col",{staticClass:"setting-name",attrs:{span:10}},[e._v(" Timezone: "),s("n8n-tooltip",{staticClass:"setting-info",attrs:{placement:"top"}},[s("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.helpTexts.timezone)},slot:"content"}),s("font-awesome-icon",{attrs:{icon:"question-circle"}})],1)],1),s("el-col",{staticClass:"ignore-key-press",attrs:{span:14}},[s("n8n-select",{attrs:{placeholder:"Select Timezone",size:"medium",filterable:"","limit-popper-width":!0},model:{value:e.workflowSettings.timezone,callback:function(t){e.$set(e.workflowSettings,"timezone",t)},expression:"workflowSettings.timezone"}},e._l(e.timezones,(function(e){return s("n8n-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1)],1),s("el-row",[s("el-col",{staticClass:"setting-name",attrs:{span:10}},[e._v(" Save Data Error Execution: "),s("n8n-tooltip",{staticClass:"setting-info",attrs:{placement:"top"}},[s("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.helpTexts.saveDataErrorExecution)},slot:"content"}),s("font-awesome-icon",{attrs:{icon:"question-circle"}})],1)],1),s("el-col",{staticClass:"ignore-key-press",attrs:{span:14}},[s("n8n-select",{attrs:{placeholder:"Select Option",size:"medium",filterable:"","limit-popper-width":!0},model:{value:e.workflowSettings.saveDataErrorExecution,callback:function(t){e.$set(e.workflowSettings,"saveDataErrorExecution",t)},expression:"workflowSettings.saveDataErrorExecution"}},e._l(e.saveDataErrorExecutionOptions,(function(e){return s("n8n-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1)],1),s("el-row",[s("el-col",{staticClass:"setting-name",attrs:{span:10}},[e._v(" Save Data Success Execution: "),s("n8n-tooltip",{staticClass:"setting-info",attrs:{placement:"top"}},[s("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.helpTexts.saveDataSuccessExecution)},slot:"content"}),s("font-awesome-icon",{attrs:{icon:"question-circle"}})],1)],1),s("el-col",{staticClass:"ignore-key-press",attrs:{span:14}},[s("n8n-select",{attrs:{placeholder:"Select Option",size:"medium",filterable:"","limit-popper-width":!0},model:{value:e.workflowSettings.saveDataSuccessExecution,callback:function(t){e.$set(e.workflowSettings,"saveDataSuccessExecution",t)},expression:"workflowSettings.saveDataSuccessExecution"}},e._l(e.saveDataSuccessExecutionOptions,(function(e){return s("n8n-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1)],1),s("el-row",[s("el-col",{staticClass:"setting-name",attrs:{span:10}},[e._v(" Save Manual Executions: "),s("n8n-tooltip",{staticClass:"setting-info",attrs:{placement:"top"}},[s("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.helpTexts.saveManualExecutions)},slot:"content"}),s("font-awesome-icon",{attrs:{icon:"question-circle"}})],1)],1),s("el-col",{staticClass:"ignore-key-press",attrs:{span:14}},[s("n8n-select",{attrs:{placeholder:"Select Option",size:"medium",filterable:"","limit-popper-width":!0},model:{value:e.workflowSettings.saveManualExecutions,callback:function(t){e.$set(e.workflowSettings,"saveManualExecutions",t)},expression:"workflowSettings.saveManualExecutions"}},e._l(e.saveManualOptions,(function(e){return s("n8n-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1)],1),s("el-row",[s("el-col",{staticClass:"setting-name",attrs:{span:10}},[e._v(" Save Execution Progress: "),s("n8n-tooltip",{staticClass:"setting-info",attrs:{placement:"top"}},[s("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.helpTexts.saveExecutionProgress)},slot:"content"}),s("font-awesome-icon",{attrs:{icon:"question-circle"}})],1)],1),s("el-col",{staticClass:"ignore-key-press",attrs:{span:14}},[s("n8n-select",{attrs:{placeholder:"Select Option",size:"medium",filterable:"","limit-popper-width":!0},model:{value:e.workflowSettings.saveExecutionProgress,callback:function(t){e.$set(e.workflowSettings,"saveExecutionProgress",t)},expression:"workflowSettings.saveExecutionProgress"}},e._l(e.saveExecutionProgressOptions,(function(e){return s("n8n-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1)],1),s("el-row",[s("el-col",{staticClass:"setting-name",attrs:{span:10}},[e._v(" Timeout Workflow: "),s("n8n-tooltip",{staticClass:"setting-info",attrs:{placement:"top"}},[s("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.helpTexts.executionTimeoutToggle)},slot:"content"}),s("font-awesome-icon",{attrs:{icon:"question-circle"}})],1)],1),s("el-col",{attrs:{span:14}},[s("div",[s("el-switch",{ref:"inputField",attrs:{value:e.workflowSettings.executionTimeout>-1,"active-color":"#13ce66"},on:{change:e.toggleTimeout}})],1)])],1),e.workflowSettings.executionTimeout>-1?s("div",[s("el-row",[s("el-col",{staticClass:"setting-name",attrs:{span:10}},[e._v(" Timeout After: "),s("n8n-tooltip",{staticClass:"setting-info",attrs:{placement:"top"}},[s("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.helpTexts.executionTimeout)},slot:"content"}),s("font-awesome-icon",{attrs:{icon:"question-circle"}})],1)],1),s("el-col",{attrs:{span:4}},[s("n8n-input",{attrs:{size:"medium",value:e.timeoutHMS.hours,min:0},on:{input:function(t){return e.setTimeout("hours",t)}}},[s("template",{slot:"append"},[e._v("hours")])],2)],1),s("el-col",{staticClass:"timeout-input",attrs:{span:4}},[s("n8n-input",{attrs:{size:"medium",value:e.timeoutHMS.minutes,min:0,max:60},on:{input:function(t){return e.setTimeout("minutes",t)}}},[s("template",{slot:"append"},[e._v("minutes")])],2)],1),s("el-col",{staticClass:"timeout-input",attrs:{span:4}},[s("n8n-input",{attrs:{size:"medium",value:e.timeoutHMS.seconds,min:0,max:60},on:{input:function(t){return e.setTimeout("seconds",t)}}},[s("template",{slot:"append"},[e._v("seconds")])],2)],1)],1)],1):e._e()],1)]},proxy:!0},{key:"footer",fn:function(){return[s("div",{staticClass:"action-buttons"},[s("n8n-button",{attrs:{label:"Save",size:"large",float:"right"},on:{click:e.saveSettings}})],1)]},proxy:!0}])})},Bo=[],jo=function(){var e,t=this,s=t.$createElement,o=t._self._c||s;return o("el-dialog",{class:(e={"dialog-wrapper":!0},e[t.$style.center]=t.center,e.scrollable=t.scrollable,e),style:t.styles,attrs:{visible:t.visible,"before-close":t.closeDialog,width:t.width,"show-close":t.showClose,"custom-class":t.getCustomClass(),"close-on-click-modal":t.closeOnClickModal,"close-on-press-escape":t.closeOnPressEscape,"append-to-body":""},scopedSlots:t._u([t.$scopedSlots.header?{key:"title",fn:function(){return[t.loading?t._e():t._t("header")]},proxy:!0}:t.title?{key:"title",fn:function(){return[o("div",{class:t.centerTitle?t.$style.centerTitle:""},[t.title?o("div",[o("n8n-heading",{attrs:{tag:"h1",size:"xlarge"}},[t._v(t._s(t.title))])],1):t._e(),t.subtitle?o("div",{class:t.$style.subtitle},[o("n8n-heading",{attrs:{tag:"h3",size:"small",color:"text-light"}},[t._v(t._s(t.subtitle))])],1):t._e()])]},proxy:!0}:null],null,!0)},[o("div",{staticClass:"modal-content",on:{keydown:[function(e){e.stopPropagation()},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleEnter.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closeDialog.apply(null,arguments)}]}},[t.loading?o("div",{class:t.$style.loader},[o("n8n-spinner")],1):t._t("content")],2),!t.loading&&t.$scopedSlots.footer?o("div",{class:t.$style.footer},[t._t("footer",null,{close:t.closeDialog})],2):t._e()])},Uo=[],Fo=o["default"].extend({name:"Modal",props:{name:{type:String},title:{type:String},subtitle:{type:String},eventBus:{type:o["default"]},showClose:{type:Boolean,default:!0},loading:{type:Boolean},classic:{type:Boolean},beforeClose:{type:Function},customClass:{type:String},center:{type:Boolean},width:{type:String,default:"50%"},minWidth:{type:String},maxWidth:{type:String},height:{type:String},minHeight:{type:String},maxHeight:{type:String},scrollable:{type:Boolean,default:!1},centerTitle:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0}},mounted(){window.addEventListener("keydown",this.onWindowKeydown),this.$props.eventBus&&this.$props.eventBus.$on("close",()=>{this.closeDialog()});const e=document.activeElement;e&&e.blur()},beforeDestroy(){window.removeEventListener("keydown",this.onWindowKeydown)},methods:{onWindowKeydown(e){this.isActive&&e&&13===e.keyCode&&this.handleEnter()},handleEnter(){this.isActive&&this.$emit("enter")},closeDialog(e){this.beforeClose?this.beforeClose(()=>{this.$store.commit("ui/closeTopModal"),"function"===typeof e&&e()}):(this.$store.commit("ui/closeTopModal"),"function"===typeof e&&e())},getCustomClass(){let e=this.$props.customClass||"";return this.$props.classic&&(e+=" classic"),e}},computed:{isActive(){return this.$store.getters["ui/isModalActive"](this.$props.name)},visible(){return this.$store.getters["ui/isModalOpen"](this.$props.name)},styles(){const e={};return this.height&&(e["--dialog-height"]=this.height),this.minHeight&&(e["--dialog-min-height"]=this.minHeight),this.maxHeight&&(e["--dialog-max-height"]=this.maxHeight),this.maxWidth&&(e["--dialog-max-width"]=this.maxWidth),this.minWidth&&(e["--dialog-min-width"]=this.minWidth),e}}}),zo=Fo,Ho=(s("30db"),s("0d29"));function Ko(e){this["$style"]=Ho["default"].locals||Ho["default"]}var Yo=Object(Re["a"])(zo,jo,Uo,!1,Ko,null,null),Go=Yo.exports,qo=Object(Ke["a"])(Ye["a"],Mt["a"],Bt["a"],qe["a"]).extend({name:"WorkflowSettings",components:{Modal:Go},data(){return{isLoading:!0,helpTexts:{errorWorkflow:'The workflow to run in case the current one fails.<br />To function correctly that workflow has to contain an "Error Trigger" node!',timezone:'The timezone in which the workflow should run. Gets for example used by "Cron" node.',saveDataErrorExecution:"If data data of executions should be saved in case they failed.",saveDataSuccessExecution:"If data data of executions should be saved in case they succeed.",saveExecutionProgress:"If data should be saved after each node, allowing you to resume in case of errors from where it stopped. May increase latency.",saveManualExecutions:"If data data of executions should be saved when started manually from the editor.",executionTimeoutToggle:"Cancel workflow execution after defined time",executionTimeout:"After what time the workflow should timeout."},defaultValues:{timezone:"America/New_York",saveDataErrorExecution:"all",saveDataSuccessExecution:"all",saveExecutionProgress:!1,saveManualExecutions:!1},saveDataErrorExecutionOptions:[],saveDataSuccessExecutionOptions:[],saveExecutionProgressOptions:[],saveManualOptions:[],timezones:[],workflowSettings:{},workflows:[],executionTimeout:this.$store.getters.executionTimeout,maxExecutionTimeout:this.$store.getters.maxExecutionTimeout,timeoutHMS:{hours:0,minutes:0,seconds:0},modalBus:new o["default"],WORKFLOW_SETTINGS_MODAL_KEY:Ze["Fb"]}},computed:{...Object(De["b"])(["workflowName","workflowId"])},async mounted(){if(void 0===this.$route.params.name)return this.$showMessage({title:"No workflow active",message:"No workflow active to display settings of.",type:"error",duration:0}),void this.closeDialog();this.defaultValues.saveDataErrorExecution=this.$store.getters.saveDataErrorExecution,this.defaultValues.saveDataSuccessExecution=this.$store.getters.saveDataSuccessExecution,this.defaultValues.saveManualExecutions=this.$store.getters.saveManualExecutions,this.defaultValues.timezone=this.$store.getters.timezone,this.isLoading=!0;const e=[];e.push(this.loadWorkflows()),e.push(this.loadSaveDataErrorExecutionOptions()),e.push(this.loadSaveDataSuccessExecutionOptions()),e.push(this.loadSaveExecutionProgressOptions()),e.push(this.loadSaveManualOptions()),e.push(this.loadTimezones());try{await Promise.all(e)}catch(s){this.$showError(s,"Problem loading settings","The following error occurred loading the data:")}const t=JSON.parse(JSON.stringify(this.$store.getters.workflowSettings));void 0===t.timezone&&(t.timezone="DEFAULT"),void 0===t.saveDataErrorExecution&&(t.saveDataErrorExecution="DEFAULT"),void 0===t.saveDataSuccessExecution&&(t.saveDataSuccessExecution="DEFAULT"),void 0===t.saveExecutionProgress&&(t.saveExecutionProgress="DEFAULT"),void 0===t.saveManualExecutions&&(t.saveManualExecutions="DEFAULT"),void 0===t.executionTimeout&&(t.executionTimeout=this.$store.getters.executionTimeout),void 0===t.maxExecutionTimeout&&(t.maxExecutionTimeout=this.$store.getters.maxExecutionTimeout),o["default"].set(this,"workflowSettings",t),this.timeoutHMS=this.convertToHMS(t.executionTimeout),this.isLoading=!1,this.$externalHooks().run("workflowSettings.dialogVisibleChanged",{dialogVisible:!0}),this.$telemetry.track("User opened workflow settings",{workflow_id:this.$store.getters.workflowId})},methods:{closeDialog(){this.modalBus.$emit("close"),this.$externalHooks().run("workflowSettings.dialogVisibleChanged",{dialogVisible:!1})},setTimeout(e,t){const s=t?parseInt(t,10):0;this.timeoutHMS={...this.timeoutHMS,[e]:s}},async loadSaveDataErrorExecutionOptions(){this.saveDataErrorExecutionOptions.length=0,this.saveDataErrorExecutionOptions.push.apply(this.saveDataErrorExecutionOptions,[{key:"DEFAULT",value:"Default - "+("all"===this.defaultValues.saveDataErrorExecution?"Save":"Do not save")},{key:"all",value:"Save"},{key:"none",value:"Do not save"}])},async loadSaveDataSuccessExecutionOptions(){this.saveDataSuccessExecutionOptions.length=0,this.saveDataSuccessExecutionOptions.push.apply(this.saveDataSuccessExecutionOptions,[{key:"DEFAULT",value:"Default - "+("all"===this.defaultValues.saveDataSuccessExecution?"Save":"Do not save")},{key:"all",value:"Save"},{key:"none",value:"Do not save"}])},async loadSaveExecutionProgressOptions(){this.saveExecutionProgressOptions.length=0,this.saveExecutionProgressOptions.push.apply(this.saveExecutionProgressOptions,[{key:"DEFAULT",value:"Default - "+(!0===this.defaultValues.saveExecutionProgress?"Yes":"No")},{key:!0,value:"Yes"},{key:!1,value:"No"}])},async loadSaveManualOptions(){this.saveManualOptions.length=0,this.saveManualOptions.push({key:"DEFAULT",value:"Default - "+(!0===this.defaultValues.saveManualExecutions?"Yes":"No")}),this.saveManualOptions.push({key:!0,value:"Yes"}),this.saveManualOptions.push({key:!1,value:"No"})},async loadTimezones(){if(0!==this.timezones.length)return;const e=await this.restApi().getTimezones();let t=e[this.defaultValues.timezone];void 0===t&&(t="Default Timezone not valid!"),this.timezones.push({key:"DEFAULT",value:"Default - "+t});for(const s of Object.keys(e))this.timezones.push({key:s,value:e[s]})},async loadWorkflows(){const e=await this.restApi().getWorkflows();e.sort((e,t)=>e.name.toLowerCase()<t.name.toLowerCase()?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:0),e.unshift({id:void 0,name:"- No Workflow -"}),o["default"].set(this,"workflows",e)},async saveSettings(){const e={settings:this.workflowSettings},{hours:t,minutes:s,seconds:o}=this.timeoutHMS;if(e.settings.executionTimeout=-1!==e.settings.executionTimeout?3600*t+60*s+o:-1,0===e.settings.executionTimeout)return void this.$showError(new Error("timeout is activated but set to 0"),"Problem saving settings","There was a problem saving the settings:");if(e.settings.executionTimeout>this.workflowSettings.maxExecutionTimeout){const{hours:e,minutes:t,seconds:s}=this.convertToHMS(this.workflowSettings.maxExecutionTimeout);return void this.$showError(new Error(`Maximum Timeout is: ${e} hours, ${t} minutes, ${s} seconds`),"Problem saving settings","Set timeout is exceeding the maximum timeout!")}delete e.settings.maxExecutionTimeout,this.isLoading=!0;try{await this.restApi().updateWorkflow(this.$route.params.name,e)}catch(a){return this.$showError(a,"Problem saving settings","There was a problem saving the settings:"),void(this.isLoading=!1)}const n={};for(const r of Object.keys(this.workflowSettings))"DEFAULT"!==this.workflowSettings[r]&&(n[r]=this.workflowSettings[r]);const i=JSON.parse(JSON.stringify(this.$store.getters.workflowSettings));this.$store.commit("setWorkflowSettings",n),this.isLoading=!1,this.$showMessage({title:"Settings saved",message:"The workflow settings got saved!",type:"success"}),this.closeDialog(),this.$externalHooks().run("workflowSettings.saveSettings",{oldSettings:i}),this.$telemetry.track("User updated workflow settings",{workflow_id:this.$store.getters.workflowId})},toggleTimeout(){this.workflowSettings.executionTimeout=-1===this.workflowSettings.executionTimeout?0:-1},convertToHMS(e){if(e>0){let t;const s=Math.floor(e/3600);t=e%3600;const o=Math.floor(t/60),n=t%60;return{hours:s,minutes:o,seconds:n}}return{hours:0,minutes:0,seconds:0}}}}),Jo=qo,Xo=(s("d747"),Object(Re["a"])(Jo,Mo,Bo,!1,null,"138e8461",null)),Zo=Xo.exports,Qo=s("e105");const en=Object(Ke["a"])(Ye["a"],Bt["a"],Xe["a"],qe["a"],Je).extend({methods:{async runWorkflowApi(e){if(!1===this.$store.getters.pushConnectionActive)throw new Error("No active connection to server. It is maybe down.");let t;this.$store.commit("addActiveAction","workflowRunning");try{t=await this.restApi().runWorkflow(e)}catch(s){throw this.$store.commit("removeActiveAction","workflowRunning"),s}return void 0!==t.executionId&&this.$store.commit("setActiveExecutionId",t.executionId),!0===t.waitingForWebhook&&this.$store.commit("setExecutionWaitingForWebhook",!0),t},async runWorkflow(e,t){const s=this.getWorkflow();if(e?this.$telemetry.track("User clicked execute node button",{node_type:e,workflow_id:this.$store.getters.workflowId}):this.$telemetry.track("User clicked execute workflow button",{workflow_id:this.$store.getters.workflowId}),!0!==this.$store.getters.isActionActive("workflowRunning")){this.$titleSet(s.name,"EXECUTING"),this.clearAllStickyNotifications();try{const o=this.$store.getters.nodesIssuesExist;if(!0===o){const t=this.checkReadyForExecution(s,e);if(null!==t){const o=[];let n;for(const e of Object.keys(t)){n=Qo["NodeHelpers"].nodeIssuesToString(t[e]);for(const t of n)o.push(`${e}: ${t}`)}return this.$showMessage({title:"Workflow can not be executed",message:"The workflow has issues. Please fix them first:<br />&nbsp;&nbsp;- "+o.join("<br />&nbsp;&nbsp;- "),type:"error",duration:0}),this.$titleSet(s.name,"ERROR"),void this.$externalHooks().run("workflowRun.runError",{errorMessages:o,nodeName:e})}}let n=[];void 0!==e&&(n=s.getParentNodes(e,"main",1));const i=this.$store.getters.getWorkflowRunData;let a;const r=[];if(null!==i&&0!==Object.keys(i).length){a={};for(const e of n){const t=s.getParentNodes(e,"main");t.push(e);for(const e of t){if(void 0===i[e]||0===i[e].length){r.push(e);break}a[e]=i[e].slice(0,1)}}0===Object.keys(a).length&&(a=void 0)}0===r.length&&void 0!==e&&r.push(e);const l=this.$store.getters.isNewWorkflow,d=this.$store.getters.currentWorkflowHasWebhookNode;l&&d&&await this.saveCurrentWorkflow();const c=await this.getWorkflowDataToSave(),u={workflowData:c,runData:a,startNodes:r};e&&(u.destinationNode=e);const h={id:"__IN_PROGRESS__",finished:!1,mode:"manual",startedAt:new Date,stoppedAt:void 0,workflowId:s.id,data:{resultData:{runData:a||{},startNodes:r,workflowData:c}},workflowData:{id:this.$store.getters.workflowId,name:c.name,active:c.active,createdAt:0,updatedAt:0,...c}};this.$store.commit("setWorkflowExecutionData",h),this.updateNodesExecutionIssues();const p=await this.runWorkflowApi(u);return this.$externalHooks().run("workflowRun.runWorkflow",{nodeName:e,source:t}),p}catch(o){return this.$titleSet(s.name,"ERROR"),void this.$showError(o,"Problem running workflow","There was a problem running the workflow:")}}}}});var tn=s("7ada"),sn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",e._l(e.items,(function(t){return s("n8n-menu-item",{key:t.id,attrs:{index:t.id},on:{click:function(s){return e.onClick(t)}}},[s("font-awesome-icon",{attrs:{icon:t.properties.icon}}),s("span",{class:{"item-title-root":e.root,"item-title":!e.root},attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.properties.title))])],1)})),1)},on=[],nn=o["default"].extend({name:"MenuItemsIterator",props:["items","root","afterItemClick"],methods:{onClick(e){if(e&&"link"===e.type&&e.properties){const t=e.properties.href;if(!t)return;e.properties.newWindow?window.open(t):window.location.assign(e.properties.href),this.afterItemClick&&this.afterItemClick(e.id)}}}}),an=nn,rn=Object(Re["a"])(an,sn,on,!1,null,null,null),ln=rn.exports;const dn=[{id:"docs",type:"link",properties:{href:"https://docs.n8n.io",title:"Documentation",icon:"book",newWindow:!0}},{id:"forum",type:"link",properties:{href:"https://community.n8n.io",title:"Forum",icon:"users",newWindow:!0}},{id:"examples",type:"link",properties:{href:"https://n8n.io/workflows",title:"Workflows",icon:"network-wired",newWindow:!0}}];var cn=Object(Ke["a"])(Mt["a"],Bt["a"],qe["a"],Je,Xe["a"],en).extend({name:"MainHeader",components:{About:uo,ExecutionsList:Oo,GiftNotificationIcon:Vo,WorkflowSettings:Zo,MenuItemsIterator:ln},data(){return{aboutDialogVisible:!1,basePath:this.$store.getters.getBaseUrl,executionsListDialogVisible:!1,stopExecutionInProgress:!1,helpMenuItems:dn}},computed:{...Object(De["b"])("ui",{isCollapsed:"sidebarMenuCollapsed"}),...Object(De["b"])("versions",["hasVersionUpdates","nextVersions"]),exeuctionId(){return this.$route.params.id},executionFinished(){if(!this.isExecutionPage)return!1;const e=this.$store.getters.getWorkflowExecution;return null!==e&&!0===e.finished},executionWaitingForWebhook(){return this.$store.getters.executionWaitingForWebhook},isExecutionPage(){return!!["ExecutionById"].includes(this.$route.name)},isWorkflowActive(){return this.$store.getters.isActive},currentWorkflow(){return this.$route.params.name},workflowExecution(){return this.$store.getters.getWorkflowExecution},workflowName(){return this.$store.getters.workflowName},workflowRunning(){return this.$store.getters.isActionActive("workflowRunning")},sidebarMenuTopItems(){return this.$store.getters.sidebarMenuItems.filter(e=>"top"===e.position)},sidebarMenuBottomItems(){return this.$store.getters.sidebarMenuItems.filter(e=>"bottom"===e.position)}},methods:{trackHelpItemClick(e){this.$telemetry.track("User clicked help resource",{type:e,workflow_id:this.$store.getters.workflowId})},toggleCollapse(){this.$store.commit("ui/toggleSidebarMenuCollapse")},clearExecutionData(){this.$store.commit("setWorkflowExecutionData",null),this.updateNodesExecutionIssues()},closeAboutDialog(){this.aboutDialogVisible=!1},closeExecutionsListOpenDialog(){this.executionsListDialogVisible=!1},openTagManager(){this.$store.dispatch("ui/openModal",Ze["wb"])},openUpdatesPanel(){this.$store.dispatch("ui/openModal",Ze["Bb"])},async stopExecution(){const e=this.$store.getters.activeExecutionId;if(null!==e){try{this.stopExecutionInProgress=!0,await this.restApi().stopCurrentExecution(e),this.$showMessage({title:"Execution stopped",message:`The execution with the id "${e}" got stopped!`,type:"success"})}catch(t){this.$showError(t,"Problem stopping execution","There was a problem stopping the execuction:")}this.stopExecutionInProgress=!1}},async openWorkflow(e){this.$router.push({name:"NodeViewExisting",params:{name:e}}),this.$store.commit("ui/closeTopModal")},async handleFileImport(){const e=new FileReader;e.onload=e=>{const t=e.target.result;let s;try{s=JSON.parse(t)}catch(o){return void this.$showMessage({title:"Could not import file",message:"The file does not contain valid JSON data.",type:"error"})}this.$telemetry.track("User imported workflow",{source:"file",workflow_id:this.$store.getters.workflowId}),this.$root.$emit("importWorkflowData",{data:s})};const t=this.$refs.importFile;null!==t&&null!==t.files&&0!==t.files.length&&e.readAsText(t.files[0])},async handleSelect(e,t){if("workflow-open"===e)this.$store.dispatch("ui/openModal",Ze["Eb"]);else if("workflow-import-file"===e)this.$refs.importFile.click();else if("workflow-import-url"===e)try{const e=await this.$prompt("Workflow URL:","Import Workflow from URL:",{confirmButtonText:"Import",cancelButtonText:"Cancel",inputErrorMessage:"Invalid URL",inputPattern:/^http[s]?:\/\/.*\.json$/i});this.$root.$emit("importWorkflowUrl",{url:e.value})}catch(s){}else if("workflow-delete"===e){const e=await this.confirmMessage(`Are you sure that you want to delete the workflow "${this.workflowName}"?`,"Delete Workflow?","warning","Yes, delete!");if(!1===e)return;try{await this.restApi().deleteWorkflow(this.currentWorkflow)}catch(o){return void this.$showError(o,"Problem deleting the workflow","There was a problem deleting the workflow:")}this.$store.commit("setStateDirty",!1),this.$titleReset(),this.$showMessage({title:"Workflow was deleted",message:`The workflow "${this.workflowName}" was deleted!`,type:"success"}),this.$router.push({name:"NodeViewNew"})}else if("workflow-download"===e){const e=await this.getWorkflowDataToSave(),{tags:t,...s}=e;s.id&&"string"===typeof s.id&&(s.id=parseInt(s.id,10));const o=new Blob([JSON.stringify(s,null,2)],{type:"application/json;charset=utf-8"});let n=this.$store.getters.workflowName||"unsaved_workflow";n=n.replace(/[^a-z0-9]/gi,"_"),this.$telemetry.track("User exported workflow",{workflow_id:e.id}),Object(tn["saveAs"])(o,n+".json")}else if("workflow-save"===e)this.saveCurrentWorkflow(void 0);else if("workflow-duplicate"===e)this.$store.dispatch("ui/openModal",Ze["y"]);else if("help-about"===e)this.aboutDialogVisible=!0,this.trackHelpItemClick("about");else if("workflow-settings"===e)this.$store.dispatch("ui/openModal",Ze["Fb"]);else if("workflow-new"===e){const e=this.$store.getters.getStateIsDirty;if(e){const e=await this.confirmMessage("When you switch workflows your current workflow changes will be lost.","Save your Changes?","warning","Yes, switch workflows and forget changes");!0===e&&(this.$store.commit("setStateDirty",!1),"NodeViewNew"===this.$router.currentRoute.name?this.$root.$emit("newWorkflow"):this.$router.push({name:"NodeViewNew"}),this.$showMessage({title:"Workflow created",message:"A new workflow got created!",type:"success"}))}else"NodeViewNew"!==this.$router.currentRoute.name&&this.$router.push({name:"NodeViewNew"}),this.$showMessage({title:"Workflow created",message:"A new workflow got created!",type:"success"});this.$titleReset()}else"credentials-open"===e?this.$store.dispatch("ui/openModal",Ze["s"]):"credentials-new"===e?this.$store.dispatch("ui/openModal",Ze["t"]):"execution-open-workflow"===e?null!==this.workflowExecution&&this.openWorkflow(this.workflowExecution.workflowId):"executions"===e&&(this.executionsListDialogVisible=!0)}}}),un=cn,hn=(s("1b39"),Object(Re["a"])(un,oo,no,!1,null,null,null)),pn=hn.exports,mn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"node-view-root"},[s("div",{directives:[{name:"touch",rawName:"v-touch:tap",value:e.touchTap,expression:"touchTap",arg:"tap"}],staticClass:"node-view-wrapper",class:e.workflowClasses,on:{touchstart:e.mouseDown,touchend:e.mouseUp,touchmove:e.mouseMoveNodeWorkflow,mousedown:e.mouseDown,mouseup:e.mouseUp,wheel:e.wheelScroll}},[s("div",{staticClass:"node-view-background",style:e.backgroundStyle,attrs:{id:"node-view-background"}}),s("div",{staticClass:"node-view",style:e.workflowStyle,attrs:{id:"node-view"}},e._l(e.nodes,(function(t){return s("node",{key:e.getNodeIndex(t.name),attrs:{id:"node-"+e.getNodeIndex(t.name),name:t.name,isReadOnly:e.isReadOnly,instance:e.instance,isActive:!!e.activeNode&&e.activeNode.name===t.name,hideActions:e.pullConnActive},on:{duplicateNode:e.duplicateNode,deselectAllNodes:e.deselectAllNodes,deselectNode:e.nodeDeselectedByName,nodeSelected:e.nodeSelectedByName,removeNode:e.removeNode,runWorkflow:e.runWorkflow,moved:e.onNodeMoved,run:e.onNodeRun}})})),1)]),s("DataDisplay",{on:{valueChanged:e.valueChanged}}),e.createNodeActive||e.isReadOnly?e._e():s("div",{staticClass:"node-creator-button",attrs:{title:"Add Node"},on:{click:function(){return e.openNodeCreator("add_node_button")}}},[s("n8n-icon-button",{attrs:{size:"xlarge",icon:"plus"}})],1),s("node-creator",{attrs:{active:e.createNodeActive},on:{nodeTypeSelected:e.nodeTypeSelected,closeNodeCreator:e.closeNodeCreator}}),s("div",{class:{"zoom-menu":!0,expanded:!e.sidebarMenuCollapsed}},[s("button",{staticClass:"button-white",attrs:{title:"Zoom to Fit"},on:{click:e.zoomToFit}},[s("font-awesome-icon",{attrs:{icon:"expand"}})],1),s("button",{staticClass:"button-white",attrs:{title:"Zoom In"},on:{click:function(t){return e.zoomIn()}}},[s("font-awesome-icon",{attrs:{icon:"search-plus"}})],1),s("button",{staticClass:"button-white",attrs:{title:"Zoom Out"},on:{click:function(t){return e.zoomOut()}}},[s("font-awesome-icon",{attrs:{icon:"search-minus"}})],1),1!==e.nodeViewScale?s("button",{staticClass:"button-white",attrs:{title:"Reset Zoom"},on:{click:function(t){return e.resetZoom()}}},[s("font-awesome-icon",{attrs:{icon:"undo",title:"Reset Zoom"}})],1):e._e()]),e.isReadOnly?e._e():s("div",{staticClass:"workflow-execute-wrapper"},[s("n8n-button",{attrs:{loading:e.workflowRunning,label:e.runButtonText,size:"large",icon:"play-circle",title:"Executes the Workflow from the Start or Webhook Node.",type:e.workflowRunning?"light":"primary"},on:{click:function(t){return t.stopPropagation(),e.runWorkflow()}}}),!0!==e.workflowRunning||e.executionWaitingForWebhook?e._e():s("n8n-icon-button",{staticClass:"stop-execution",attrs:{icon:"stop",size:"large",type:"light",title:e.stopExecutionInProgress?"Stopping current execution":"Stop current execution",loading:e.stopExecutionInProgress},on:{click:function(t){return t.stopPropagation(),e.stopExecution()}}}),!0===e.workflowRunning&&!0===e.executionWaitingForWebhook?s("n8n-icon-button",{staticClass:"stop-execution",attrs:{icon:"stop",size:"large",title:"Stop waiting for Webhook call",type:"light"},on:{click:function(t){return t.stopPropagation(),e.stopWaitingForWebhook()}}}):e._e(),e.isReadOnly||!e.workflowExecution||e.workflowRunning?e._e():s("n8n-icon-button",{attrs:{title:"Deletes the current Execution Data.",icon:"trash",size:"large"},on:{click:function(t){return t.stopPropagation(),e.clearExecutionData()}}})],1),s("Modals")],1)},fn=[],gn=s("0369");const wn=o["default"].extend({data(){return{copyPasteElementsGotCreated:!1}},mounted(){if(!0===this.copyPasteElementsGotCreated)return;this.copyPasteElementsGotCreated=!0;const e=document.createElement("style");e.type="text/css",e.innerHTML="\n\t\t\t.hidden-copy-paste {\n\t\t\tposition: absolute;\n\t\t\tbottom: 0;\n\t\t\tleft: 0;\n\t\t\twidth: 10px;\n\t\t\theight: 10px;\n\t\t\tdisplay: block;\n\t\t\tfont-size: 1px;\n\t\t\tz-index: -1;\n\t\t\tcolor: transparent;\n\t\t\tbackground: transparent;\n\t\t\toverflow: hidden;\n\t\t\tborder: none;\n\t\t\tpadding: 0;\n\t\t\tresize: none;\n\t\t\toutline: none;\n\t\t\t-webkit-user-select: text;\n\t\t\tuser-select: text;\n\t\t}\n\t\t",document.getElementsByTagName("head")[0].appendChild(e);const t=-1!==navigator.appVersion.search("Safari")&&-1===navigator.appVersion.search("Chrome")&&-1===navigator.appVersion.search("CrMo")&&-1===navigator.appVersion.search("CriOS"),s=-1!==navigator.userAgent.toLowerCase().indexOf("msie")||-1!==navigator.userAgent.toLowerCase().indexOf("trident"),o=document.createElement("input");o.setAttribute("type","text"),o.setAttribute("id","hidden-input-copy-paste"),o.setAttribute("class","hidden-copy-paste"),document.body.append(o);let n=null;s&&(n=document.createElement("div"),n.setAttribute("id","hidden-ie-clipboard-copy-paste"),n.setAttribute("class","hidden-copy-paste"),n.setAttribute("contenteditable","true"),document.body.append(n),document.addEventListener("beforepaste",()=>{o.is(":focus")&&this.focusIeClipboardDiv(n)},!0));let i="";const a=e=>{};o.addEventListener("input",e=>{const s=o.value;i+=s,a(i),t?(o.focus(),setTimeout(()=>{this.focusHiddenArea(o)},0)):this.focusHiddenArea(o)}),["paste"].forEach(e=>{document.addEventListener(e,Object(No["debounce"])(t=>{const s=t.path||t.composedPath&&t.composedPath();for(let e=0;e<s.length;e++)if(s[e].className&&"string"===typeof s[e].className&&(s[e].className.includes("el-message-box")||s[e].className.includes("ignore-key-press")))return;null!==n?this.ieClipboardEvent(e,n):(this.standardClipboardEvent(e,t),(!document.activeElement||document.activeElement&&-1===["textarea","text","email","password"].indexOf(document.activeElement.type))&&(this.focusHiddenArea(o),t.preventDefault()))},1e3,{leading:!0}))})},methods:{receivedCopyPasteData(e,t){},standardClipboardEvent(e,t){const s=t.clipboardData;if(null!==s&&"paste"===e){const e=s.getData("text/plain");this.receivedCopyPasteData(e,t)}},ieClipboardEvent(e,t){const s=window.clipboardData;if("paste"===e){const e=s.getData("Text");t.empty(),this.receivedCopyPasteData(e)}},focusIeClipboardDiv(e){e.focus();const t=document.createRange();t.selectNodeContents(e.get(0));const s=window.getSelection();null!==s&&(s.removeAllRanges(),s.addRange(t))},focusHiddenArea(e){e.value=" ",e.focus(),e.select()},copyToClipboard(e){const t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t);const s=document.getSelection();if(null===s)return;const o=s.rangeCount>0&&s.getRangeAt(0);t.select(),document.execCommand("copy"),document.body.removeChild(t),o&&(s.removeAllRanges(),s.addRange(o))}}}),vn=o["default"].extend({data(){return{isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isMacOs:/(ipad|iphone|ipod|mac)/i.test(navigator.platform)}},computed:{controlKeyCode(){return this.isMacOs?"Meta":"Control"}},methods:{isCtrlKeyPressed(e){return!0===this.isTouchDevice||(this.isMacOs?e.metaKey:e.ctrlKey)}}}),yn=o["default"].extend({methods:{getNodeIndex(e){let t=this.$store.getters.getNodeIndex(e);return-1===t&&(this.$store.commit("addToNodeIndex",e),t=this.$store.getters.getNodeIndex(e)),t.toString()}}}),bn="drop-add-node",kn="midpoint-arrow",xn="endpoint-arrow",Cn="run-items-label",_n="connection-actions",En=26,$n="input-name-label",Nn=[-3,.5],Tn=[-4.5,.5],In="output-name-label",Sn=20,On=90,An=100,Dn=100,Pn=240,Wn=300,Rn=65,Ln=65,Vn=300,Mn=2*Dn+Sn,Bn=140,jn="-input",Un="-output",Fn={name:"Start",type:Ze["sb"],typeVersion:1,position:[Pn,Wn],parameters:{}},zn=["N8nCustom",{cornerRadius:12,stub:En+10,targetGap:4,alwaysRespectStubs:!1,loopbackVerticalLength:Dn,loopbackMinimum:Bn,getEndpointOffset(e){const t=10,s=e&&e.__meta?e.__meta.index:0,o=li(e,In),n=o&&o.label&&o.label.length>1?10:0;return s*t+n}}],Hn={stroke:$o("--color-foreground-dark"),strokeWidth:2,outlineWidth:12,outlineStroke:"transparent"},Kn={...Hn,stroke:$o("--color-foreground-xdark")},Yn={...Hn,stroke:$o("--color-primary")},Gn={...Hn,stroke:$o("--color-success-light")},qn=[["Arrow",{id:xn,location:1,width:12,foldback:1,length:10,visible:!0}],["Arrow",{id:kn,location:.5,width:12,foldback:1,length:10,visible:!1}]],Jn=[["Label",{id:bn,label:"Drop connection<br />to add node",cssClass:"drop-add-node-label",location:.5,visible:!0}]],Xn={input:{1:[[.01,.5,-1,0]],2:[[.01,.3,-1,0],[.01,.7,-1,0]],3:[[.01,.25,-1,0],[.01,.5,-1,0],[.01,.75,-1,0]],4:[[.01,.2,-1,0],[.01,.4,-1,0],[.01,.6,-1,0],[.01,.8,-1,0]]},output:{1:[[.99,.5,1,0]],2:[[.99,.3,1,0],[.99,.7,1,0]],3:[[.99,.25,1,0],[.99,.5,1,0],[.99,.75,1,0]],4:[[.99,.2,1,0],[.99,.4,1,0],[.99,.6,1,0],[.99,.8,1,0]]}},Zn=(e,t)=>({width:8,height:e&&e.outputs.length>2?18:20,fill:$o(t),stroke:$o(t),lineWidth:0}),Qn=e=>["Label",{id:$n,location:Nn,label:e,cssClass:"node-input-endpoint-label",visible:!0}],ei=(e,t)=>({radius:e&&e.outputs.length>2?7:9,fill:$o(t),outlineStroke:"none"}),ti=e=>["Label",{id:In,location:[1.9,.5],label:e,cssClass:"node-output-endpoint-label",visible:!0}],si=(e,t)=>{t.forEach(t=>{e.addOverlay(t)})},oi=e=>e.reduce((e,t)=>t.position[0]>e.position[0]||t.position[1]>e.position[1]?e:t),ni=e=>e.reduce((e,t)=>(t.position[0]<e.minX&&(e.minX=t.position[0]),t.position[1]<e.minY&&(e.minY=t.position[1]),t.position[0]>e.maxX&&(e.maxX=t.position[0]),t.position[1]>e.maxY&&(e.maxY=t.position[1]),e),{minX:e[0].position[0],minY:e[0].position[1],maxX:e[0].position[0],maxY:e[0].position[1]}),ii=({scale:e,offset:[t,s]})=>(e/=1.25,t/=1.25,s/=1.25,t+=window.innerWidth/10,s+=window.innerHeight/10,{scale:e,offset:[t,s]}),ai=({scale:e,offset:[t,s]})=>(e*=1.25,t-=window.innerWidth/10,s-=window.innerHeight/10,t*=1.25,s*=1.25,{scale:e,offset:[t,s]}),ri=e=>{if(e.scale>1)while(e.scale>1)e=ii(e);else while(e.scale<1)e=ai(e);return e.scale=1,e},li=(e,t)=>{try{return e.getOverlay(t)}catch(s){return null}},di=(e,t)=>{const s=li(e,t);s&&s.setVisible(!0)},ci=(e,t)=>{const s=li(e,t);s&&s.setVisible(!1)},ui=e=>{if(!e||!e.endpoints||2!==e.endpoints.length)return;const t=!!li(e,Cn),s=e.endpoints[0],o=e.endpoints[1],n=s.anchor.lastReturnValue[0],i=o.anchor.lastReturnValue?o.anchor.lastReturnValue[0]:n+1,a=t?150:0,r=n>=i,l=Math.abs(n-i)>=a,d=li(e,kn);d&&(d.setVisible(r&&l),d.setLocation(t?.6:.5))},hi=e=>{if(!e.connector)return[0,0];const t=e.connector.bounds,s=Math.abs(t.maxX-t.minX),o=Math.abs(t.maxY-t.minY);return[s,o]},pi=e=>{const t=e.endpoints[0],s=e.endpoints[1],o=t.anchor.lastReturnValue[0],n=s.anchor.lastReturnValue[0];return n-o<-1*Bn},mi=e=>{if(!e||!e.connector)return;const t=li(e,Cn);if(!t)return;const s=li(e,_n);if(s&&s.visible)return void t.setVisible(!1);const[o,n]=hi(e);o<On&&n<An?t.setVisible(!1):t.setVisible(!0);const i=t.canvas&&t.canvas.querySelector("span");i&&(0===n||pi(e)?i.classList.add("floating"):i.classList.remove("floating"))},fi=e=>"trash"===e?'<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="trash" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="svg-inline--fa fa-trash fa-w-14 Icon__medium_ctPPJ"><path data-v-66d5c7e2="" fill="currentColor" d="M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z" class=""></path></svg>':"plus"===e?'<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plus" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="svg-inline--fa fa-plus fa-w-14 Icon__medium_ctPPJ"><path data-v-301ed208="" fill="currentColor" d="M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z" class=""></path></svg>':"",gi=(e,t)=>!(Math.abs(e[0]-t[0])<=100&&Math.abs(e[1]-t[1])<=50),wi=(e,t,s)=>{const o=[...t];o[0]=o[0]-o[0]%Sn,o[1]=o[1]-o[1]%Sn,s||(s=[40,40]);let n,i,a=!1;do{for(a=!1,n=0;n<e.length;n++)if(i=e[n],!gi(i.position,o)){a=!0;break}!0===a&&(o[0]+=s[0],o[1]+=s[1])}while(!0===a);return o},vi=e=>{const t=void 0!==e.pageX?e.pageX:e.touches&&e.touches[0]&&e.touches[0].pageX?e.touches[0].pageX:0,s=void 0!==e.pageY?e.pageY:e.touches&&e.touches[0]&&e.touches[0].pageY?e.touches[0].pageY:0;return[t,s]},yi=(e,t,s,o)=>[(e-o[0])/s,(t-o[1])/s],bi=(e,t)=>{const s=Sn*e,o=1*e,n=Sn/2*e,i={"background-size":`${s}px ${s}px`,"background-position":`left ${t[0]}px top ${t[1]}px`};if(s>10.5){const e=$o("--color-canvas-dot");return{...i,"background-image":`radial-gradient(circle at ${n}px ${n}px, ${e} ${o}px, transparent 0)`}}return i},ki=e=>{e&&e.connector&&(ci(e,_n),mi(e),ui(e))},xi=e=>{e&&e.connector&&(di(e,_n),ci(e,Cn),li(e,Cn)||ci(e,kn))},Ci=(e,t)=>{const s={};return e.forEach(e=>{e.data&&e.data.main&&e.data.main.forEach((e,o)=>{t[o]&&t[o].map(t=>{const n=o,i=t.node,a=t.index;s[n]||(s[n]={}),s[n][i]||(s[n][i]={}),s[n][i][a]||(s[n][i][a]={total:0,iterations:0}),s[n][i][a].total+=e?e.length:0,s[n][i][a].iterations+=e?1:0})})}),s},_i=e=>{e.removeOverlay(Cn),e.setPaintStyle(Hn),ui(e),e.canvas&&e.canvas.classList.remove("success")},Ei=(e,t)=>{e.setPaintStyle(Gn),e.canvas&&e.canvas.classList.add("success"),li(e,Cn)&&e.removeOverlay(Cn);let s=""+t.total;s=t.total>1?s+" items":s+" item",s=t.iterations>1?s+" total":s,e.addOverlay(["Label",{id:Cn,label:`<span>${s}</span>`,cssClass:"connection-run-items-label",location:.5}]),mi(e),ui(e)},$i=e=>{const{minX:t,minY:s,maxX:o,maxY:n}=ni(e),i=4*Dn,a=window.innerWidth,r=o-t+Ln+i,l=a/r,d=window.innerHeight,c=n-s+Rn+i,u=d/c,h=Math.min(l,u,1);let p=-1*t*h+Ln;p+=(a-Ln-(o-t+Dn)*h)/2;let m=-1*s*h+Rn;return m+=(d-Rn-(n-s+2*Dn)*h)/2,{zoomLevel:h,offset:[p,m]}},Ni=(e,t,s)=>{s=s||[];const o=e.map(e=>e.name);if(!o.includes(t)&&!s.includes(t))return t;const n=t.match(/(.*\D+)(\d*)/);let i,a,r,l,d=1;null===n?(d=parseInt(t,10),a="",l=a+d):([i,a,r]=n,""!==r&&(d=parseInt(r,10)),l=a);while(o.includes(l)||s.includes(l))l=a+d++;return l},Ti=(e,t)=>{e&&e.connector&&(t&&e.connector.setTargetEndpoint(t),e.setPaintStyle(Yn),ci(e,bn))},Ii=e=>{e&&e.connector&&(e.connector.resetTargetEndpoint(),e.setPaintStyle(Kn),di(e,bn))},Si=e=>{e&&e.connector&&(e.connector.resetTargetEndpoint(),e.setPaintStyle(Hn))},Oi=e=>{const t=li(e,$n);t&&t.setLocation(Nn)},Ai=e=>{const t=li(e,$n);t&&t.setLocation(Tn)},Di=(e,t,s)=>{li(e,_n)||e.addOverlay(["Label",{id:_n,label:`<div class="add">${fi("plus")}</div> <div class="delete">${fi("trash")}</div>`,cssClass:_n,visible:!1,events:{mousedown:(e,o)=>{const n=o.target;n.classList.contains("delete")||n.parentElement&&n.parentElement.classList.contains("delete")?t():(n.classList.contains("add")||n.parentElement&&n.parentElement.classList.contains("add"))&&s()}}}])},Pi=(e,t)=>`${e}${Un}${t}`,Wi=(e,t)=>`${e}${jn}${t}`,Ri=Object(Ke["a"])(vn,yn).extend({data(){return{selectActive:!1,selectBox:document.createElement("span")}},mounted(){this.createSelectBox()},methods:{createSelectBox(){this.selectBox.id="select-box",this.selectBox.style.margin="0px auto",this.selectBox.style.border="2px dotted #FF0000",this.selectBox.style.position="absolute",this.selectBox.style.zIndex="100",this.selectBox.style.visibility="hidden",this.selectBox.addEventListener("mouseup",this.mouseUpMouseSelect);const e=this.$el.querySelector("#node-view");e.appendChild(this.selectBox)},isCtrlKeyPressed(e){return!0===this.isTouchDevice||(this.isMacOs?e.metaKey:e.ctrlKey)},getMousePositionWithinNodeView(e){const[t,s]=vi(e);return yi(t,s,this.nodeViewScale,this.$store.getters.getNodeViewOffsetPosition)},showSelectBox(e){const[t,s]=this.getMousePositionWithinNodeView(e);this.selectBox=Object.assign(this.selectBox,{x:t,y:s}),this.selectBox.style.left=this.selectBox.x+"px",this.selectBox.style.top=this.selectBox.y+"px",this.selectBox.style.visibility="visible",this.selectActive=!0},updateSelectBox(e){const t=this.getSelectionBox(e);this.selectBox.style.left=t.x+"px",this.selectBox.style.top=t.y+"px",this.selectBox.style.width=t.width+"px",this.selectBox.style.height=t.height+"px"},hideSelectBox(){this.selectBox.style.visibility="hidden",this.selectBox.x=0,this.selectBox.y=0,this.selectBox.style.left="0px",this.selectBox.style.top="0px",this.selectBox.style.width="0px",this.selectBox.style.height="0px",this.selectActive=!1},getSelectionBox(e){const[t,s]=this.getMousePositionWithinNodeView(e);return{x:Math.min(t,this.selectBox.x),y:Math.min(s,this.selectBox.y),width:Math.abs(t-this.selectBox.x),height:Math.abs(s-this.selectBox.y)}},getNodesInSelection(e){const t=[],s=this.getSelectionBox(e);return this.$store.getters.allNodes.forEach(e=>{e.position[0]<s.x||e.position[0]>s.x+s.width||e.position[1]<s.y||e.position[1]>s.y+s.height||t.push(e)}),t},mouseDownMouseSelect(e){!0!==this.isCtrlKeyPressed(e)&&(this.$store.getters.isActionActive("dragActive")||(this.showSelectBox(e),this.$el.addEventListener("mousemove",this.mouseMoveSelect)))},mouseUpMouseSelect(e){if(!1===this.selectActive)return void(!0===this.isTouchDevice&&e.target&&e.target.id.includes("node-view")&&this.deselectAllNodes());this.$el.removeEventListener("mousemove",this.mouseMoveSelect),this.deselectAllNodes();const t=this.getNodesInSelection(e);t.forEach(e=>{this.nodeSelected(e)}),1===t.length&&this.$store.commit("setLastSelectedNode",t[0].name),this.hideSelectBox()},mouseMoveSelect(e){0!==e.buttons?this.updateSelectBox(e):this.mouseUpMouseSelect(e)},nodeDeselected(e){this.$store.commit("removeNodeFromSelection",e);const t="node-"+this.getNodeIndex(e.name);this.instance.removeFromDragSelection(t)},nodeSelected(e){this.$store.commit("addSelectedNode",e);const t="node-"+this.getNodeIndex(e.name);this.instance.addToDragSelection(t)},deselectAllNodes(){this.instance.clearDragSelection(),this.$store.commit("resetSelectedNodes"),this.$store.commit("setLastSelectedNode",null),this.$store.commit("setLastSelectedNodeOutputIndex",null),this.$store.commit("setActiveNode",null),this.lastSelectedConnection=null,this.newNodeInsertPosition=null}}});var Li=s("ff11"),Vi=s.n(Li);const Mi=Object(Ke["a"])(vn,yn).extend({data(){return{moveLastPosition:[0,0]}},methods:{moveWorkflow(e){const t=this.$store.getters.getNodeViewOffsetPosition,[s,o]=vi(e),n=t[0]+(s-this.moveLastPosition[0]),i=t[1]+(o-this.moveLastPosition[1]);this.$store.commit("setNodeViewOffsetPosition",{newOffset:[n,i]}),this.moveLastPosition[0]=s,this.moveLastPosition[1]=o},mouseDownMoveWorkflow(e){if(!1===this.isCtrlKeyPressed(e))return;if(this.$store.getters.isActionActive("dragActive"))return;this.$store.commit("setNodeViewMoveInProgress",!0);const[t,s]=vi(e);this.moveLastPosition[0]=t,this.moveLastPosition[1]=s,this.$el.addEventListener("mousemove",this.mouseMoveNodeWorkflow)},mouseUpMoveWorkflow(e){!1!==this.$store.getters.isNodeViewMoveInProgress&&(this.$el.removeEventListener("mousemove",this.mouseMoveNodeWorkflow),this.$store.commit("setNodeViewMoveInProgress",!1))},mouseMoveNodeWorkflow(e){e.target&&!e.target.id.includes("node-view")||this.$store.getters.isActionActive("dragActive")||(0!==e.buttons?this.moveWorkflow(e):this.mouseUp(e))},wheelMoveWorkflow(e){const t=Vi()(e),s=this.$store.getters.getNodeViewOffsetPosition,o=s[0]-(e.shiftKey?t.pixelY:t.pixelX),n=s[1]-(e.shiftKey?t.pixelX:t.pixelY);this.$store.commit("setNodeViewOffsetPosition",{newOffset:[o,n]})}}}),Bi=Object(Ke["a"])(qe["a"]).extend({methods:{async checkForNewVersions(){const e=this.$store.getters["versions/areNotificationsEnabled"];if(!e)return;await this.$store.dispatch("versions/fetchVersions");const t=this.$store.getters["versions/currentVersion"],s=this.$store.getters["versions/nextVersions"];if(t&&t.hasSecurityIssue&&s.length){const e=t.securityIssueFixVersion;let s="Please update to latest version.";e&&(s=`Please update to version ${e} or higher.`),s+=' <a class="primary-color">More info</a>',this.$showToast({title:"Critical update available",message:s,onClick:()=>{this.$store.dispatch("ui/openModal",Ze["Bb"])},closeOnClick:!0,customClass:"clickable",type:"warning",duration:0})}}}});var ji=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{visible:!!e.node,"before-close":e.close,"custom-class":"classic data-display-wrapper",width:"85%","append-to-body":""},on:{opened:function(t){e.showDocumentHelp=!0}}},[s("div",{staticClass:"data-display"},[s("NodeSettings",{on:{valueChanged:e.valueChanged}}),s("RunData")],1),s("transition",{attrs:{name:"fade"}},[e.nodeType&&e.showDocumentHelp?s("div",{staticClass:"doc-help-wrapper"},[s("svg",{attrs:{id:"help-logo",href:e.documentationUrl,target:"_blank",width:"18px",height:"18px",viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[s("title",[e._v("Node Documentation")]),s("g",{attrs:{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[s("g",{attrs:{transform:"translate(-1127.000000, -836.000000)","fill-rule":"nonzero"}},[s("g",{attrs:{transform:"translate(1117.000000, 825.000000)"}},[s("g",{attrs:{transform:"translate(10.000000, 11.000000)"}},[s("g",{attrs:{transform:"translate(2.250000, 2.250000)",fill:"#FF6150"}},[s("path",{attrs:{d:"M6,11.25 L7.5,11.25 L7.5,9.75 L6,9.75 L6,11.25 M6.75,2.25 C5.09314575,2.25 3.75,3.59314575 3.75,5.25 L5.25,5.25 C5.25,4.42157288 5.92157288,3.75 6.75,3.75 C7.57842712,3.75 8.25,4.42157288 8.25,5.25 C8.25,6.75 6,6.5625 6,9 L7.5,9 C7.5,7.3125 9.75,7.125 9.75,5.25 C9.75,3.59314575 8.40685425,2.25 6.75,2.25 M1.5,0 L12,0 C12.8284271,0 13.5,0.671572875 13.5,1.5 L13.5,12 C13.5,12.8284271 12.8284271,13.5 12,13.5 L1.5,13.5 C0.671572875,13.5 0,12.8284271 0,12 L0,1.5 C0,0.671572875 0.671572875,0 1.5,0 Z"}})]),s("rect",{attrs:{x:"0",y:"0",width:"18",height:"18"}})])])])])]),s("div",{staticClass:"text"},[e._v(" Need help? "),s("a",{attrs:{id:"doc-hyperlink",href:e.documentationUrl,target:"_blank"},on:{click:e.onDocumentationUrlClick}},[e._v("Open "+e._s(e.nodeType.displayName)+" documentation")])])]):e._e()])],1)},Ui=[],Fi=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"node-settings",on:{keydown:function(e){e.stopPropagation()}}},[s("div",{staticClass:"header-side-menu"},[e.node?s("span",[s("display-with-change",{attrs:{"key-name":"name"},on:{valueChanged:e.valueChanged}}),e.nodeType?s("a",{staticClass:"node-info",attrs:{href:"http://n8n.io/nodes/"+e.nodeType.name,target:"_blank"}},[s("n8n-tooltip",{staticClass:"clickable",attrs:{placement:"top"}},[s("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s("<strong>Node Description:</strong><br />"+e.nodeTypeDescription+"<br /><br /><strong>Click the '?' icon to open this node on n8n.io </strong>")},slot:"content"}),s("font-awesome-icon",{attrs:{icon:"question-circle"}})],1)],1):e._e()],1):e._e()]),e.node&&!e.nodeValid?s("div",{staticClass:"node-is-not-valid"},[s("n8n-text",[e._v('The node is not valid as its type "'+e._s(e.node.type)+'" is unknown.')])],1):e._e(),e.node&&e.nodeValid?s("div",{staticClass:"node-parameters-wrapper"},[s("el-tabs",{attrs:{stretch:""},on:{"tab-click":e.handleTabClick}},[s("el-tab-pane",{attrs:{label:"Parameters"}},[s("node-credentials",{attrs:{node:e.node},on:{credentialSelected:e.credentialSelected}}),s("node-webhooks",{attrs:{node:e.node,nodeType:e.nodeType}}),s("parameter-input-list",{attrs:{parameters:e.parametersNoneSetting,hideDelete:!0,nodeValues:e.nodeValues,path:"parameters"},on:{valueChanged:e.valueChanged}}),0===e.parametersNoneSetting.length?s("div",{staticClass:"no-parameters"},[s("n8n-text",[e._v("This node does not have any parameters.")])],1):e._e()],1),s("el-tab-pane",{attrs:{label:"Settings"}},[s("parameter-input-list",{attrs:{parameters:e.nodeSettings,hideDelete:!0,nodeValues:e.nodeValues,path:""},on:{valueChanged:e.valueChanged}}),s("parameter-input-list",{attrs:{parameters:e.parametersSetting,nodeValues:e.nodeValues,path:"parameters"},on:{valueChanged:e.valueChanged}})],1)],1)],1):e._e()])},zi=[],Hi=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"static-text-wrapper"},[s("span",{directives:[{name:"show",rawName:"v-show",value:!e.editActive,expression:"!editActive"}],attrs:{title:"Click to change"}},[s("span",{staticClass:"static-text",on:{mousedown:e.startEdit}},[e._v(e._s(e.currentValue))])]),s("span",{directives:[{name:"show",rawName:"v-show",value:e.editActive,expression:"editActive"}]},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newValue,expression:"newValue"}],ref:"inputField",staticClass:"edit-field",attrs:{type:"text"},domProps:{value:e.newValue},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.stopPropagation(),t.preventDefault(),e.setValue.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"escape",void 0,t.key,void 0)?null:(t.stopPropagation(),t.preventDefault(),e.cancelEdit.apply(null,arguments))},function(t){return t.stopPropagation(),e.noOp.apply(null,arguments)}],blur:e.cancelEdit,input:function(t){t.target.composing||(e.newValue=t.target.value)}}}),s("font-awesome-icon",{staticClass:"icons clickable",attrs:{icon:"times",title:"Cancel Edit"},on:{mousedown:e.cancelEdit}}),s("font-awesome-icon",{staticClass:"icons clickable",attrs:{icon:"check",title:"Set Value"},on:{mousedown:e.setValue}})],1)])},Ki=[],Yi=Object(Ke["a"])(Mt["a"]).extend({name:"DisplayWithChange",props:{keyName:String},computed:{node(){return this.$store.getters.activeNode},currentValue(){const e=(e,t)=>t.split(".").reduce((e,t)=>e&&e[t],e);return e(this.node,this.keyName)}},watch:{currentValue(e){this.editActive=!1}},data:()=>({editActive:!1,newValue:""}),methods:{noOp(){},startEdit(){!0!==this.isReadOnly&&(this.editActive=!0,this.newValue=this.currentValue,setTimeout(()=>{this.$refs.inputField.focus()}))},cancelEdit(){this.editActive=!1},setValue(){const e={value:this.newValue,name:this.keyName};this.$emit("valueChanged",e),this.editActive=!1}}}),Gi=Yi,qi=(s("e1e8"),Object(Re["a"])(Gi,Hi,Ki,!1,null,null,null)),Ji=qi.exports,Xi=s("4a0c"),Zi=s("3c38"),Qi=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.credentialTypesNodeDescriptionDisplayed.length?s("div",{class:e.$style.container},e._l(e.credentialTypesNodeDescriptionDisplayed,(function(t){return s("div",{key:t.name},[s("n8n-input-label",{attrs:{label:"Credential for "+e.credentialTypeNames[t.name],bold:!1,size:"small",set:e.issues=e.getIssues(t.name)}},[e.isReadOnly?s("div",[s("n8n-input",{attrs:{disabled:"",value:e.selected&&e.selected[t.name]&&e.selected[t.name].name,size:"small"}})],1):s("div",{class:e.issues.length?e.$style.hasIssues:e.$style.input},[s("n8n-select",{attrs:{value:e.getSelectedId(t.name),placeholder:"Select Credential",size:"small"},on:{change:function(s){return e.onCredentialSelected(t.name,s)}}},[e._l(e.credentialOptions[t.name],(function(e){return s("n8n-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),s("n8n-option",{key:e.NEW_CREDENTIALS_TEXT,attrs:{value:e.NEW_CREDENTIALS_TEXT,label:e.NEW_CREDENTIALS_TEXT}})],2),e.issues.length?s("div",{class:e.$style.warning},[s("n8n-tooltip",{attrs:{placement:"top"}},[s("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s("Issues:<br />&nbsp;&nbsp;- "+e.issues.join("<br />&nbsp;&nbsp;- "))},slot:"content"}),s("font-awesome-icon",{attrs:{icon:"exclamation-triangle"}})],1)],1):e._e(),e.selected[t.name]&&e.isCredentialExisting(t.name)?s("div",{class:e.$style.edit},[s("font-awesome-icon",{staticClass:"clickable",attrs:{icon:"pen",title:"Update Credentials"},on:{click:function(s){return e.editCredential(t.name)}}})],1):e._e()],1)])],1)})),0):e._e()},ea=[];const ta="- Create New -";var sa=Object(Ke["a"])(Mt["a"],Ge["a"],Bt["a"],qe["a"]).extend({name:"NodeCredentials",props:["node"],data(){return{NEW_CREDENTIALS_TEXT:ta,newCredentialUnsubscribe:null}},computed:{...Object(De["b"])("credentials",{credentialOptions:"allCredentialsByType"}),credentialTypesNode(){return this.credentialTypesNodeDescription.map(e=>e.name)},credentialTypesNodeDescriptionDisplayed(){return this.credentialTypesNodeDescription.filter(e=>this.displayCredentials(e))},credentialTypesNodeDescription(){const e=this.node,t=this.$store.getters.nodeType(e.type);return t&&t.credentials?t.credentials:[]},credentialTypeNames(){const e={};let t;for(const s of this.credentialTypesNode)t=this.$store.getters["credentials/getCredentialTypeByName"](s),e[s]=null!==t?t.displayName:s;return e},selected(){return this.node.credentials||{}}},methods:{getSelectedId(e){if(this.isCredentialExisting(e))return this.selected[e].id},credentialInputWrapperStyle(e){let t=0;const s={width:"100%"};return this.getIssues(e).length&&(t+=20),0!==t&&(s.width=`calc(100% - ${t}px)`),s},listenForNewCredentials(e){this.stopListeningForNewCredentials(),this.newCredentialUnsubscribe=this.$store.subscribe((t,s)=>{"credentials/upsertCredential"!==t.type&&"credentials/enableOAuthCredential"!==t.type||this.onCredentialSelected(e,t.payload.id),"credentials/deleteCredential"===t.type&&(this.clearSelectedCredential(e),this.stopListeningForNewCredentials())})},stopListeningForNewCredentials(){this.newCredentialUnsubscribe&&this.newCredentialUnsubscribe()},clearSelectedCredential(e){const t=this.node,s={...t.credentials||{}};delete s[e];const o={name:this.node.name,properties:{credentials:s}};this.$emit("credentialSelected",o)},onCredentialSelected(e,t){if(t===ta)return this.listenForNewCredentials(e),this.$store.dispatch("ui/openNewCredential",{type:e}),void this.$telemetry.track("User opened Credential modal",{credential_type:e,source:"node",new_credential:!0,workflow_id:this.$store.getters.workflowId});this.$telemetry.track("User selected credential from node modal",{credential_type:e,workflow_id:this.$store.getters.workflowId});const s=this.$store.getters["credentials/getCredentialById"](t),o=this.node.credentials&&this.node.credentials[e]?this.node.credentials[e]:{},n={id:s.id,name:s.name};(null===o.id||o.id&&!this.$store.getters["credentials/getCredentialByIdAndType"](o.id,e))&&(this.$store.commit("replaceInvalidWorkflowCredentials",{credentials:n,invalid:o,type:e}),this.updateNodesCredentialsIssues(),this.$showMessage({title:"Node credentials updated",message:`Nodes that used credentials "${o.name}" have been updated to use "${n.name}"`,type:"success"}));const i=this.node,a={...i.credentials||{},[e]:n},r={name:this.node.name,properties:{credentials:a}};this.$emit("credentialSelected",r)},displayCredentials(e){return void 0===e.displayOptions||this.displayParameter(this.node.parameters,e,"")},getIssues(e){const t=this.node;return void 0===t.issues||void 0===t.issues.credentials?[]:t.issues.credentials.hasOwnProperty(e)?t.issues.credentials[e]:[]},isCredentialExisting(e){if(!this.node.credentials||!this.node.credentials[e]||!this.node.credentials[e].id)return!1;const{id:t}=this.node.credentials[e],s=this.credentialOptions[e];return!!s.find(e=>e.id===t)},editCredential(e){const{id:t}=this.node.credentials[e];this.$store.dispatch("ui/openExisitngCredential",{id:t}),this.$telemetry.track("User opened Credential modal",{credential_type:e,source:"node",new_credential:!1,workflow_id:this.$store.getters.workflowId}),this.listenForNewCredentials(e)}},beforeDestroy(){this.stopListeningForNewCredentials()}}),oa=sa,na=s("a053");function ia(e){this["$style"]=na["default"].locals||na["default"]}var aa=Object(Re["a"])(oa,Qi,ea,!1,ia,null,null),ra=aa.exports,la=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.webhooksNode.length?s("div",{staticClass:"webhoooks"},[s("div",{staticClass:"clickable headline",class:{expanded:!e.isMinimized},attrs:{title:e.isMinimized?"Click to display Webhook URLs":"Click to hide Webhook URLs"},on:{click:function(t){e.isMinimized=!e.isMinimized}}},[s("font-awesome-icon",{staticClass:"minimize-button minimize-icon",attrs:{icon:"angle-down"}}),e._v(" Webhook URLs ")],1),s("el-collapse-transition",[e.isMinimized?e._e():s("div",{staticClass:"node-webhooks"},[s("div",{staticClass:"url-selection"},[s("el-row",[s("el-col",{attrs:{span:24}},[s("el-radio-group",{attrs:{size:"mini"},model:{value:e.showUrlFor,callback:function(t){e.showUrlFor=t},expression:"showUrlFor"}},[s("el-radio-button",{attrs:{label:"test"}},[e._v("Test URL")]),s("el-radio-button",{attrs:{label:"production"}},[e._v("Production URL")])],1)],1)],1)],1),e._l(e.webhooksNode,(function(t,o){return s("n8n-tooltip",{key:o,staticClass:"item",attrs:{content:"Click to copy Webhook URL",placement:"left"}},[s("div",{staticClass:"webhook-wrapper"},[s("div",{staticClass:"http-field"},[s("div",{staticClass:"http-method"},[e._v(" "+e._s(e.getValue(t,"httpMethod"))),s("br")])]),s("div",{staticClass:"url-field"},[s("div",{staticClass:"webhook-url left-ellipsis clickable",on:{click:function(s){return e.copyWebhookUrl(t)}}},[e._v(" "+e._s(e.getWebhookUrlDisplay(t))),s("br")])])])])}))],2)])],1):e._e()},da=[],ca=Object(Ke["a"])(wn,qe["a"],Xe["a"]).extend({name:"NodeWebhooks",props:["node","nodeType"],data(){return{isMinimized:this.nodeType&&this.nodeType.name!==Ze["Db"],showUrlFor:"test"}},computed:{webhooksNode(){return null===this.nodeType||void 0===this.nodeType.webhooks?[]:this.nodeType.webhooks.filter(e=>!0!==e.restartWebhook)}},methods:{copyWebhookUrl(e){const t=this.getWebhookUrl(e);this.copyToClipboard(t),this.$showMessage({title:"Copied",message:"The webhook URL was successfully copied!",type:"success"})},getValue(e,t){if(void 0===e[t])return"empty";try{return this.resolveExpression(e[t])}catch(s){return"[INVALID EXPRESSION]"}},getWebhookUrl(e){if(!0===e.restartWebhook)return"$resumeWebhookUrl";let t=this.$store.getters.getWebhookUrl;"test"===this.showUrlFor&&(t=this.$store.getters.getWebhookTestUrl);const s=this.$store.getters.workflowId,o=this.getValue(e,"path"),n=this.getValue(e,"isFullPath")||!1;return Qo["NodeHelpers"].getNodeWebhookUrl(t,s,this.node,o,n)},getWebhookUrlDisplay(e){return this.getWebhookUrl(e)}},watch:{node(){this.isMinimized=this.nodeType.name!==Ze["Db"]}}}),ua=ca,ha=(s("6f70"),Object(Re["a"])(ua,la,da,!1,null,"90a7bb3e",null)),pa=ha.exports,ma=Object(Ke["a"])(Ye["a"],Mt["a"],Ge["a"]).extend({name:"NodeSettings",components:{DisplayWithChange:Ji,NodeCredentials:ra,ParameterInputFull:Xi["a"],ParameterInputList:Zi["default"],NodeWebhooks:pa},computed:{nodeType(){return this.node?this.$store.getters.nodeType(this.node.type,this.node.typeVersion):null},nodeTypeDescription(){return this.nodeType&&this.nodeType.description?this.nodeType.description:"No description found"},headerStyle(){return this.node?{"background-color":this.node.color}:{}},node(){return this.$store.getters.activeNode},parametersSetting(){return this.parameters.filter(e=>e.isNodeSetting)},parametersNoneSetting(){return this.parameters.filter(e=>!e.isNodeSetting)},parameters(){return null===this.nodeType?[]:this.nodeType.properties},workflowRunning(){return this.$store.getters.isActionActive("workflowRunning")}},data(){return{nodeValid:!0,nodeColor:null,nodeValues:{color:"#ff0000",alwaysOutputData:!1,executeOnce:!1,notesInFlow:!1,continueOnFail:!1,retryOnFail:!1,maxTries:3,waitBetweenTries:1e3,notes:"",parameters:{}},nodeSettings:[{displayName:"Notes",name:"notes",type:"string",typeOptions:{rows:5},default:"",noDataExpression:!0,description:"Optional note to save with the node."},{displayName:"Display note in flow?",name:"notesInFlow",type:"boolean",default:!1,noDataExpression:!0,description:"If active, the note above will display in the flow as a subtitle."},{displayName:"Always Output Data",name:"alwaysOutputData",type:"boolean",default:!1,noDataExpression:!0,description:"If active, the node will return an empty item even if the <br />node returns no data during an initial execution. Be careful setting <br />this on IF-Nodes as it could cause an infinite loop."},{displayName:"Execute Once",name:"executeOnce",type:"boolean",default:!1,noDataExpression:!0,description:"If active, the node executes only once, with data<br /> from the first item it recieves. "},{displayName:"Retry On Fail",name:"retryOnFail",type:"boolean",default:!1,noDataExpression:!0,description:"If active, the node tries to execute a failed attempt <br /> multiple times until it succeeds."},{displayName:"Max. Tries",name:"maxTries",type:"number",typeOptions:{minValue:2,maxValue:5},default:3,displayOptions:{show:{retryOnFail:[!0]}},noDataExpression:!0,description:"Number of times Retry On Fail should attempt to execute the node <br />before stopping and returning the execution as failed."},{displayName:"Wait Between Tries",name:"waitBetweenTries",type:"number",typeOptions:{minValue:0,maxValue:5e3},default:1e3,displayOptions:{show:{retryOnFail:[!0]}},noDataExpression:!0,description:"How long to wait between each attempt. Value in ms."},{displayName:"Continue On Fail",name:"continueOnFail",type:"boolean",default:!1,noDataExpression:!0,description:"If active, the workflow continues even if this node's <br />execution fails. When this occurs, the node passes along input data from<br />previous nodes - so your workflow should account for unexpected output data."}]}},watch:{node(e,t){this.setNodeValues()}},methods:{noOp(){},setValue(e,t){const s=e.split(".");let n=s.pop(),i=!1;if(void 0!==n&&n.includes("[")){const e=n.match(/(.*)\[(\d+)\]$/);e&&(s.push(e[1]),n=e[2],i=!0)}if(0===s.length)null===t?o["default"].delete(this.nodeValues,n):o["default"].set(this.nodeValues,n,t);else if(null===t){let e=Object(No["get"])(this.nodeValues,s.join("."));o["default"].delete(e,n),!0===i&&0===e.length&&(n=s.pop(),e=Object(No["get"])(this.nodeValues,s.join(".")),o["default"].delete(e,n))}else"object"===typeof t?o["default"].set(Object(No["get"])(this.nodeValues,s.join(".")),n,JSON.parse(JSON.stringify(t))):o["default"].set(Object(No["get"])(this.nodeValues,s.join(".")),n,t)},credentialSelected(e){this.$store.commit("updateNodeProperties",e);const t=this.$store.getters.getNodeByName(e.name);this.updateNodeCredentialIssues(t),this.$externalHooks().run("nodeSettings.credentialSelected",{updateInformation:e})},valueChanged(e){let t;t=e.hasOwnProperty("value")?e.value:Object(No["get"])(this.nodeValues,e.name);const s=e.node||this.node.name,n=this.$store.getters.getNodeByName(s);if("name"===e.name){const o={value:t,oldValue:s,name:e.name};this.$emit("valueChanged",o),this.$store.commit("setActiveNode",t)}else if(e.name.startsWith("parameters.")){const s=this.$store.getters.nodeType(n.type);if(!s)return;let i=Qo["NodeHelpers"].getNodeParameters(s.properties,n.parameters,!1,!1);const a=Object.assign({},i);i=JSON.parse(JSON.stringify(i));const r=e.name.split(".").slice(1).join("."),l=r.match(/(.*)\[(\d+)\]$/);if(void 0===e.value&&null!==l){const e=l[1],t=l[2],s=Object(No["get"])(i,e);Array.isArray(s)&&(s.splice(parseInt(t,10),1),o["default"].set(i,e,s))}else void 0===t?Object(No["unset"])(i,r):Object(No["set"])(i,r,t);i=Qo["NodeHelpers"].getNodeParameters(s.properties,i,!0,!1);for(const e of Object.keys(i))i&&null!==i[e]&&void 0!==i[e]&&this.setValue("parameters."+e,i[e]);const d={name:n.name,value:i};this.$store.commit("setNodeParameters",d),this.$externalHooks().run("nodeSettings.valueChanged",{parameterPath:r,newValue:t,parameters:this.parameters,oldNodeParameters:a}),this.updateNodeParameterIssues(n,s),this.updateNodeCredentialIssues(n)}else{o["default"].set(this.nodeValues,e.name,t);const s={name:n.name,key:e.name,value:t};this.$store.commit("setNodeValue",s)}},setNodeValues(){if(this.node)if(null!==this.nodeType){this.nodeValid=!0;const e=[];this.node.color&&(e.push("color"),o["default"].set(this.nodeValues,"color",this.node.color)),this.node.notes&&(e.push("notes"),o["default"].set(this.nodeValues,"notes",this.node.notes)),this.node.alwaysOutputData&&(e.push("alwaysOutputData"),o["default"].set(this.nodeValues,"alwaysOutputData",this.node.alwaysOutputData)),this.node.executeOnce&&(e.push("executeOnce"),o["default"].set(this.nodeValues,"executeOnce",this.node.executeOnce)),this.node.continueOnFail&&(e.push("continueOnFail"),o["default"].set(this.nodeValues,"continueOnFail",this.node.continueOnFail)),this.node.notesInFlow&&(e.push("notesInFlow"),o["default"].set(this.nodeValues,"notesInFlow",this.node.notesInFlow)),this.node.retryOnFail&&(e.push("retryOnFail"),o["default"].set(this.nodeValues,"retryOnFail",this.node.retryOnFail)),this.node.maxTries&&(e.push("maxTries"),o["default"].set(this.nodeValues,"maxTries",this.node.maxTries)),this.node.waitBetweenTries&&(e.push("waitBetweenTries"),o["default"].set(this.nodeValues,"waitBetweenTries",this.node.waitBetweenTries));for(const t of this.nodeSettings)e.includes(t.name)||o["default"].set(this.nodeValues,t.name,t.default);o["default"].set(this.nodeValues,"parameters",JSON.parse(JSON.stringify(this.node.parameters)))}else this.nodeValid=!1},handleTabClick(e){"Settings"===e.label&&this.$telemetry.track("User viewed node settings",{node_type:this.node?this.node.type:"",workflow_id:this.$store.getters.workflowId})}},mounted(){this.setNodeValues()}}),fa=ma,ga=(s("e82f"),Object(Re["a"])(fa,Fi,zi,!1,null,null,null)),wa=ga.exports,va=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.workflowRunning,expression:"workflowRunning"}],staticClass:"run-data-view"},[s("BinaryDataDisplay",{attrs:{windowVisible:e.binaryDataDisplayVisible,displayData:e.binaryDataDisplayData},on:{close:e.closeBinaryDataDisplay}}),e.node&&!e.isReadOnly?s("div",{staticClass:"execute-node-button"},[s("n8n-button",{attrs:{title:"Executes this "+e.node.name+" node after executing any previous nodes that have not yet returned data",loading:e.workflowRunning,icon:"play-circle",label:"Execute Node"},on:{click:function(t){return t.stopPropagation(),e.runWorkflow(e.node.name,"RunData.ExecuteNodeButton")}}})],1):e._e(),s("div",{staticClass:"header"},[s("div",{staticClass:"title-text"},[e.dataCount<e.maxDisplayItems?s("n8n-text",{attrs:{bold:!0}},[e._v(" Items: "+e._s(e.dataCount)+" ")]):s("div",{staticClass:"title-text"},[s("n8n-text",{attrs:{bold:!0}},[e._v("Items:")]),s("span",{staticClass:"opts"},[s("n8n-select",{attrs:{size:"mini"},on:{click:function(e){e.stopPropagation()}},model:{value:e.maxDisplayItems,callback:function(t){e.maxDisplayItems=t},expression:"maxDisplayItems"}},e._l(e.maxDisplayItemsOptions,(function(e){return s("n8n-option",{key:e,attrs:{label:e,value:e}})})),1)],1),e._v("/ "),s("n8n-text",{attrs:{bold:!0}},[e._v(e._s(e.dataCount))])],1),e.runMetadata?s("n8n-tooltip",{attrs:{placement:"right"}},[s("div",{attrs:{slot:"content"},slot:"content"},[s("n8n-text",{attrs:{bold:!0,size:"small"}},[e._v("Start Time:")]),e._v(" "+e._s(e.runMetadata.startTime)),s("br"),s("n8n-text",{attrs:{bold:!0,size:"small"}},[e._v("Execution Time:")]),e._v(" "+e._s(e.runMetadata.executionTime)+" ms ")],1),s("font-awesome-icon",{staticClass:"primary-color",attrs:{icon:"info-circle"}})],1):e._e(),e.maxOutputIndex>0?s("n8n-text",{attrs:{bold:!0}},[e._v(" | Output: ")]):e._e(),e.maxOutputIndex>0?s("span",{staticClass:"opts"},[s("n8n-select",{attrs:{size:"mini"},on:{click:function(e){e.stopPropagation()}},model:{value:e.outputIndex,callback:function(t){e.outputIndex=t},expression:"outputIndex"}},e._l(e.maxOutputIndex+1,(function(t){return s("n8n-option",{key:t,attrs:{label:e.getOutputName(t-1),value:t-1}})})),1)],1):e._e(),e.maxRunIndex>0?s("n8n-text",{attrs:{bold:!0}},[e._v(" | Data of Execution: ")]):e._e(),s("span",{staticClass:"opts"},[e.maxRunIndex>0?s("n8n-select",{attrs:{size:"mini"},on:{click:function(e){e.stopPropagation()}},model:{value:e.runIndex,callback:function(t){e.runIndex=t},expression:"runIndex"}},e._l(e.maxRunIndex+1,(function(t){return s("n8n-option",{key:t,attrs:{label:t+"/"+(e.maxRunIndex+1),value:t-1}})})),1):e._e()],1)],1),e.hasNodeRun&&!e.hasRunError?s("div",{staticClass:"title-data-display-selector",on:{click:function(e){e.stopPropagation()}}},[s("el-radio-group",{attrs:{size:"mini"},model:{value:e.displayMode,callback:function(t){e.displayMode=t},expression:"displayMode"}},[s("el-radio-button",{attrs:{label:"JSON",disabled:!1===e.showData}}),s("el-radio-button",{attrs:{label:"Table"}}),0!==e.binaryData.length?s("el-radio-button",{attrs:{label:"Binary"}}):e._e()],1)],1):e._e(),e.hasNodeRun&&!e.hasRunError&&"JSON"===e.displayMode&&e.state.path!==e.deselectedPlaceholder?s("div",{staticClass:"select-button"},[s("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleCopyClick}},[s("span",{staticClass:"el-dropdown-link"},[s("n8n-icon-button",{attrs:{title:"Copy to Clipboard",icon:"copy"}})],1),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:{command:"itemPath"}}},[e._v("Copy Item Path")]),s("el-dropdown-item",{attrs:{command:{command:"parameterPath"}}},[e._v("Copy Parameter Path")]),s("el-dropdown-item",{attrs:{command:{command:"value"}}},[e._v("Copy Value")])],1)],1)],1):e._e()]),s("div",{staticClass:"data-display-content"},[e.node&&null!==e.workflowRunData&&e.workflowRunData.hasOwnProperty(e.node.name)?s("span",[e.workflowRunData[e.node.name][e.runIndex].error?s("div",{staticClass:"error-display"},[s("NodeErrorView",{attrs:{error:e.workflowRunData[e.node.name][e.runIndex].error}})],1):s("span",[!1===e.showData?s("div",{staticClass:"too-much-data"},[s("h3",[e._v(" Node returned a large amount of data ")]),s("div",{staticClass:"text"},[e._v(" The node contains "+e._s(parseInt(e.dataSize/1024).toLocaleString())+" KB of data."),s("br"),e._v(" Displaying it could cause problems!"),s("br"),s("br"),e._v(" If you do decide to display it, avoid the JSON view! ")]),s("n8n-button",{attrs:{icon:"eye",label:"Display Data Anyway"},on:{click:function(t){e.displayMode="Table",e.showData=!0}}})],1):["JSON","Table"].includes(e.displayMode)?s("div",[0===e.jsonData.length?s("div",{staticClass:"no-data"},[e._v(" No text data found ")]):"Table"===e.displayMode?s("div",[null!==e.tableData&&0===e.tableData.columns.length?s("div",{staticClass:"no-data"},[e._v(" Entries exist but they do not contain any JSON data. ")]):null!==e.tableData?s("table",[s("tr",e._l(e.tableData.columns,(function(t){return s("th",{key:t},[e._v(e._s(t))])})),0),e._l(e.tableData.data,(function(t,o){return s("tr",{key:o},e._l(t,(function(t,o){return s("td",{key:o},[e._v(e._s([null,void 0].includes(t)?" ":t))])})),0)}))],2):e._e()]):"JSON"===e.displayMode?s("vue-json-pretty",{staticClass:"json-data",attrs:{data:e.jsonData,deep:10,showLine:!0,showLength:!0,selectableType:"single",path:"",highlightSelectedNode:!0,selectOnClickNode:!0},on:{click:e.dataItemClicked},model:{value:e.state.path,callback:function(t){e.$set(e.state,"path",t)},expression:"state.path"}}):e._e()],1):"Binary"===e.displayMode?s("div",[0===e.binaryData.length?s("div",{staticClass:"no-data"},[e._v(" No binary data found ")]):s("div",e._l(e.binaryData,(function(t,o){return s("div",{key:o},[s("div",{staticClass:"binary-data-row-index"},[s("div",{staticClass:"binary-data-cell-index"},[e._v(" "+e._s(o+1)+" ")])]),s("div",{staticClass:"binary-data-row"},e._l(t,(function(t,n){return s("div",{key:o+"_"+n,staticClass:"binary-data-cell"},[s("div",{staticClass:"binary-data-information"},[s("div",{staticClass:"binary-data-cell-name"},[e._v(" "+e._s(n)+" ")]),t.fileName?s("div",[s("div",{staticClass:"label"},[e._v("File Name: ")]),s("div",{staticClass:"value"},[e._v(e._s(t.fileName))])]):e._e(),t.directory?s("div",[s("div",{staticClass:"label"},[e._v("Directory: ")]),s("div",{staticClass:"value"},[e._v(e._s(t.directory))])]):e._e(),t.fileExtension?s("div",[s("div",{staticClass:"label"},[e._v("File Extension:")]),s("div",{staticClass:"value"},[e._v(e._s(t.fileExtension))])]):e._e(),t.mimeType?s("div",[s("div",{staticClass:"label"},[e._v("Mime Type: ")]),s("div",{staticClass:"value"},[e._v(e._s(t.mimeType))])]):e._e(),s("div",{staticClass:"binary-data-show-data-button-wrapper"},[s("n8n-button",{staticClass:"binary-data-show-data-button",attrs:{size:"small",label:"Show Binary Data"},on:{click:function(t){return e.displayBinaryData(o,n)}}})],1)])])})),0)])})),0)]):e._e()])]):s("div",{staticClass:"message"},[s("div",[s("n8n-text",{attrs:{bold:!0}},[e._v("No data")]),s("br"),s("br"),e._v(" Data returned by this node will display here"),s("br")],1)])])],1)},ya=[],ba=s("1346"),ka=s.n(ba),xa=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.windowVisible?s("div",{staticClass:"binary-data-window"},[s("n8n-button",{staticClass:"binary-data-window-back",attrs:{size:"small",title:"Back to overview page",icon:"arrow-left",label:"Back to list"},on:{click:function(t){return t.stopPropagation(),e.closeWindow.apply(null,arguments)}}}),s("div",{staticClass:"binary-data-window-wrapper"},[e.binaryData?e.binaryData.mimeType&&e.binaryData.mimeType.startsWith("video/")?s("video",{attrs:{controls:"",autoplay:""}},[s("source",{attrs:{src:"data:"+e.binaryData.mimeType+";base64,"+e.binaryData.data,type:e.binaryData.mimeType}}),e._v(" Your browser does not support the video element. Kindly update it to latest version. ")]):s("embed",{staticClass:"binary-data",class:e.embedClass,attrs:{src:"data:"+e.binaryData.mimeType+";base64,"+e.binaryData.data}}):s("div",[e._v(" Data to display did not get found ")])])],1):e._e()},Ca=[],_a=Object(Ke["a"])(Ge["a"]).extend({name:"BinaryDataDisplay",props:["displayData","windowVisible"],computed:{binaryData(){const e=this.getBinaryData(this.workflowRunData,this.displayData.node,this.displayData.runIndex,this.displayData.outputIndex);return 0===e.length||this.displayData.index>=e.length||void 0===e[this.displayData.index][this.displayData.key]?null:e[this.displayData.index][this.displayData.key]},embedClass(){return null!==this.binaryData&&void 0!==this.binaryData.mimeType&&this.binaryData.mimeType.startsWith("image")?["image"]:["other"]},workflowRunData(){const e=this.$store.getters.getWorkflowExecution;if(null===e)return null;const t=e.data;return t.resultData.runData}},methods:{closeWindow(){return this.$emit("close"),!1}}}),Ea=_a,$a=(s("62ca"),Object(Re["a"])(Ea,xa,Ca,!1,null,null,null)),Na=$a.exports,Ta=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"error-header"},[s("div",{staticClass:"error-message"},[e._v("ERROR: "+e._s(e.error.message))]),e.error.description?s("div",{staticClass:"error-description"},[e._v(e._s(e.error.description))]):e._e()]),s("details",[s("summary",{staticClass:"error-details__summary"},[s("font-awesome-icon",{staticClass:"error-details__icon",attrs:{icon:"angle-right"}}),e._v(" Details ")],1),s("div",{staticClass:"error-details__content"},[e.error.timestamp?s("div",[s("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[s("div",{staticClass:"clearfix box-card__title",attrs:{slot:"header"},slot:"header"},[s("span",[e._v("Time")])]),s("div",[e._v(" "+e._s(new Date(e.error.timestamp).toLocaleString())+" ")])])],1):e._e(),e.error.httpCode?s("div",[s("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[s("div",{staticClass:"clearfix box-card__title",attrs:{slot:"header"},slot:"header"},[s("span",[e._v("HTTP-Code")])]),s("div",[e._v(" "+e._s(e.error.httpCode)+" ")])])],1):e._e(),e.error.cause?s("div",[s("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[s("div",{staticClass:"clearfix box-card__title",attrs:{slot:"header"},slot:"header"},[s("span",[e._v("Cause")]),s("br"),s("span",{staticClass:"box-card__subtitle"},[e._v("Data below may contain sensitive information. Proceed with caution when sharing.")])]),s("div",[e.displayCause?s("div",{staticClass:"copy-button"},[s("n8n-icon-button",{attrs:{title:"Copy to Clipboard",icon:"copy"},on:{click:e.copyCause}})],1):e._e(),e.displayCause?s("vue-json-pretty",{staticClass:"json-data",attrs:{data:e.error.cause,deep:3,showLength:!0,selectableType:"single",path:"error"}}):s("span",[s("font-awesome-icon",{attrs:{icon:"info-circle"}}),e._v(" The error cause is too large to be displayed. ")],1)],1)])],1):e._e(),e.error.stack?s("div",[s("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[s("div",{staticClass:"clearfix box-card__title",attrs:{slot:"header"},slot:"header"},[s("span",[e._v("Stack")])]),s("div",[s("pre",[s("code",[e._v(e._s(e.error.stack))])])])])],1):e._e()])])])},Ia=[],Sa=Object(Ke["a"])(wn,qe["a"]).extend({name:"NodeErrorView",props:["error"],components:{VueJsonPretty:ka.a},computed:{displayCause(){return JSON.stringify(this.error.cause).length<Ze["R"]}},methods:{copyCause(){this.copyToClipboard(JSON.stringify(this.error.cause)),this.copySuccess()},copySuccess(){this.$showMessage({title:"Copied to clipboard",message:"",type:"info"})}}}),Oa=Sa,Aa=(s("082b"),Object(Re["a"])(Oa,Ta,Ia,!1,null,null,null)),Da=Aa.exports;const Pa="_!^&*";var Wa=Object(Ke["a"])(wn,Ye["a"],Mt["a"],Ge["a"],en).extend({name:"RunData",components:{BinaryDataDisplay:Na,NodeErrorView:Da,VueJsonPretty:ka.a},data(){return{binaryDataPreviewActive:!1,dataSize:0,deselectedPlaceholder:Pa,displayMode:"Table",state:{value:"",path:Pa},runIndex:0,showData:!1,outputIndex:0,maxDisplayItems:25,binaryDataDisplayVisible:!1,binaryDataDisplayData:null,MAX_DISPLAY_DATA_SIZE:Ze["R"],MAX_DISPLAY_ITEMS_AUTO_ALL:Ze["S"]}},mounted(){this.init()},computed:{hasNodeRun(){return Boolean(this.node&&this.workflowRunData&&this.workflowRunData.hasOwnProperty(this.node.name))},hasRunError(){return Boolean(this.node&&this.workflowRunData&&this.workflowRunData[this.node.name]&&this.workflowRunData[this.node.name][this.runIndex]&&this.workflowRunData[this.node.name][this.runIndex].error)},workflowRunning(){return this.$store.getters.isActionActive("workflowRunning")},workflowExecution(){return this.$store.getters.getWorkflowExecution},workflowRunData(){if(null===this.workflowExecution)return null;const e=this.workflowExecution.data;return e.resultData.runData},maxDisplayItemsOptions(){const e=[25,50,100,250,500,1e3].filter(e=>e<=this.dataCount);return e.includes(this.dataCount)||e.push(this.dataCount),e},node(){return this.$store.getters.activeNode},runMetadata(){if(!this.node||null===this.workflowExecution)return null;const e=this.workflowRunData;if(null===e||!e.hasOwnProperty(this.node.name))return null;if(e[this.node.name].length<=this.runIndex)return null;const t=e[this.node.name][this.runIndex];return{executionTime:t.executionTime,startTime:new Date(t.startTime).toLocaleString()}},dataCount(){if(null===this.node)return 0;const e=this.workflowRunData;if(null===e||!e.hasOwnProperty(this.node.name))return 0;if(e[this.node.name].length<=this.runIndex)return 0;if(e[this.node.name][this.runIndex].hasOwnProperty("error"))return 1;if(!e[this.node.name][this.runIndex].hasOwnProperty("data")||void 0===e[this.node.name][this.runIndex].data)return 0;const t=this.getMainInputData(e[this.node.name][this.runIndex].data,this.outputIndex);return t.length},maxOutputIndex(){if(null===this.node)return 0;const e=this.workflowRunData;return null!==e&&e.hasOwnProperty(this.node.name)?e[this.node.name].length<this.runIndex||void 0===e[this.node.name][this.runIndex].data||void 0===e[this.node.name][this.runIndex].data.main?0:e[this.node.name][this.runIndex].data.main.length-1:0},maxRunIndex(){if(null===this.node)return 0;const e=this.workflowRunData;return null!==e&&e.hasOwnProperty(this.node.name)&&e[this.node.name].length?e[this.node.name].length-1:0},jsonData(){let e=this.getNodeInputData(this.node,this.runIndex,this.outputIndex);return 0!==e.length&&Array.isArray(e)?(null!==this.maxDisplayItems&&(e=e.slice(0,this.maxDisplayItems)),this.convertToJson(e)):[]},tableData(){let e=this.getNodeInputData(this.node,this.runIndex,this.outputIndex);if(0!==e.length)return null!==this.maxDisplayItems&&(e=e.slice(0,this.maxDisplayItems)),this.convertToTable(e)},binaryData(){return null===this.node?[]:this.getBinaryData(this.workflowRunData,this.node.name,this.runIndex,this.outputIndex)}},methods:{init(){this.outputIndex=0,this.maxDisplayItems=25,this.refreshDataSize(),"Binary"===this.displayMode&&(this.closeBinaryDataDisplay(),0===this.binaryData.length&&(this.displayMode="Table"))},closeBinaryDataDisplay(){this.binaryDataDisplayVisible=!1,this.binaryDataDisplayData=null},convertToJson(e){const t=[];return e.forEach(e=>{e.hasOwnProperty("json")&&t.push(e.json)}),t},convertToTable(e){const t=[],s=[];let o,n,i;return e.forEach(e=>{e.hasOwnProperty("json")&&(i=e.json,n=[],o=Object.keys(i),s.forEach(e=>{i.hasOwnProperty(e)?(n.push(i[e]),o.splice(o.indexOf(e),1)):n.push(null)}),o.forEach(e=>{s.push(e),n.push(i[e])}),t.push(n))}),t.forEach(e=>{s.length>e.length&&e.push.apply(e,new Array(s.length-e.length))}),{columns:s,data:t}},clearExecutionData(){this.$store.commit("setWorkflowExecutionData",null),this.updateNodesExecutionIssues()},dataItemClicked(e,t){this.state.value=t},displayBinaryData(e,t){this.binaryDataDisplayVisible=!0,this.binaryDataDisplayData={node:this.node.name,runIndex:this.runIndex,outputIndex:this.outputIndex,index:e,key:t}},getOutputName(e){if(null===this.node)return e+1;const t=this.$store.getters.nodeType(this.node.type);return!t||!t.outputNames||t.outputNames.length<=e?e+1:t.outputNames[e]},convertPath(e){const t="*___~#^#~___*";let s=e.match(/\[(.*?)\]/g);s=null===s?[]:s.map(e=>e.slice(1,-1)).map(e=>e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e);const o=e.replace(/\[(.*?)\]/g,t),n=o.split("."),i=[];return n.forEach(e=>{let o=e.indexOf(t);while(-1!==o)0===o?(i.push(s.shift()),e=e.substr(t.length)):(i.push(e.substr(0,o)),e=e.substr(o)),o=e.indexOf(t);""!==e&&i.push(e)}),'["'+i.join('"]["')+'"]'},handleCopyClick(e){const t=this.convertPath(this.state.path);let s;if("value"===e.command)s="object"===typeof this.state.value?JSON.stringify(this.state.value,null,2):this.state.value.toString();else{let o="",n="";if("itemPath"===e.command){const e=t.split("]"),s=e[0].slice(1);n=e.slice(1).join("]"),o=`$item(${s}).$node["${this.node.name}"].json`}else"parameterPath"===e.command&&(n=t.split("]").slice(1).join("]"),o=`$node["${this.node.name}"].json`);n.startsWith("[")||n.startsWith(".")||!n||(n+="."),s=`{{ ${o+n} }}`}this.copyToClipboard(s)},refreshDataSize(){this.showData=!1;const e=this.getNodeInputData(this.node,this.runIndex,this.outputIndex),t=e.slice(0,this.maxDisplayItems||e.length).map(e=>e.json);this.dataSize=JSON.stringify(t).length,this.dataSize<this.MAX_DISPLAY_DATA_SIZE&&(this.showData=!0)}},watch:{node(){this.init()},jsonData(){this.refreshDataSize()},displayMode(e,t){if(this.closeBinaryDataDisplay(),this.$externalHooks().run("runData.displayModeChanged",{newValue:e,oldValue:t}),this.node){const s=this.node?this.node.type:"";this.$telemetry.track("User changed node output view mode",{old_mode:t,new_mode:e,node_type:s,workflow_id:this.$store.getters.workflowId})}},maxRunIndex(){this.runIndex=Math.min(this.runIndex,this.maxRunIndex)}}}),Ra=Wa,La=(s("4cb6"),Object(Re["a"])(Ra,va,ya,!1,null,null,null)),Va=La.exports,Ma=Object(Ke["a"])(Ye["a"],Ge["a"],Xe["a"]).extend({name:"DataDisplay",components:{NodeSettings:wa,RunData:Va},data(){return{basePath:this.$store.getters.getBaseUrl,showDocumentHelp:!1}},computed:{documentationUrl(){return this.nodeType?this.nodeType.documentationUrl&&this.nodeType.documentationUrl.startsWith("http")?this.nodeType.documentationUrl:"https://docs.n8n.io/nodes/"+(this.nodeType.documentationUrl||this.nodeType.name)+"?utm_source=n8n_app&utm_medium=node_settings_modal-credential_link&utm_campaign="+this.nodeType.name:""},node(){return this.$store.getters.activeNode},nodeType(){return this.node?this.$store.getters.nodeType(this.node.type):null}},watch:{node(e,t){e&&!t&&(this.$externalHooks().run("dataDisplay.nodeTypeChanged",{nodeSubtitle:this.getNodeSubtitle(e,this.nodeType,this.getWorkflow())}),this.$telemetry.track("User opened node modal",{node_type:this.nodeType?this.nodeType.name:"",workflow_id:this.$store.getters.workflowId}))}},methods:{valueChanged(e){this.$emit("valueChanged",e)},nodeTypeSelected(e){this.$emit("nodeTypeSelected",e)},close(){this.$externalHooks().run("dataDisplay.nodeEditingFinished"),this.showDocumentHelp=!1,this.$store.commit("setActiveNode",null)},onDocumentationUrlClick(){this.$externalHooks().run("dataDisplay.onDocumentationUrlClick",{nodeType:this.nodeType,documentationUrl:this.documentationUrl})}}}),Ba=Ma,ja=(s("b47e"),Object(Re["a"])(Ba,ji,Ui,!1,null,null,null)),Ua=ja.exports,Fa=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("ModalRoot",{attrs:{name:e.CREDENTIAL_EDIT_MODAL_KEY},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.modalName,o=e.activeId,n=e.mode;return[s("CredentialEdit",{attrs:{modalName:t,mode:n,activeId:o}})]}}])}),s("ModalRoot",{attrs:{name:e.CREDENTIAL_SELECT_MODAL_KEY}},[s("CredentialsSelectModal")],1),s("ModalRoot",{attrs:{name:e.CREDENTIAL_LIST_MODAL_KEY}},[s("CredentialsList")],1),s("ModalRoot",{attrs:{name:e.DUPLICATE_MODAL_KEY},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.modalName,o=e.active;return[s("DuplicateWorkflowDialog",{attrs:{isActive:o,modalName:t}})]}}])}),s("ModalRoot",{attrs:{name:e.PERSONALIZATION_MODAL_KEY}},[s("PersonalizationModal")],1),s("ModalRoot",{attrs:{name:e.TAGS_MANAGER_MODAL_KEY}},[s("TagsManager")],1),s("ModalRoot",{attrs:{name:e.VERSIONS_MODAL_KEY,keepAlive:!0}},[s("UpdatesPanel")],1),s("ModalRoot",{attrs:{name:e.WORKFLOW_OPEN_MODAL_KEY}},[s("WorkflowOpen")],1),s("ModalRoot",{attrs:{name:e.WORKFLOW_SETTINGS_MODAL_KEY}},[s("WorkflowSettings")],1)],1)},za=[],Ha=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Modal",{attrs:{name:e.modalName,customClass:e.$style.credentialModal,eventBus:e.modalBus,loading:e.loading,beforeClose:e.beforeClose,width:"70%",height:"80%"}},[s("template",{slot:"header"},[e.credentialType?s("div",{class:e.$style.header},[s("div",{class:e.$style.credInfo},[s("div",{class:e.$style.credIcon},[s("CredentialIcon",{attrs:{credentialTypeName:e.credentialTypeName}})],1),s("InlineNameEdit",{attrs:{name:e.credentialName,subtitle:e.credentialType.displayName,type:"Credential"},on:{input:e.onNameEdit}})],1),s("div",{class:e.$style.credActions},[e.currentCredential?s("n8n-icon-button",{attrs:{size:"small",title:"Delete",icon:"trash",type:"text",disabled:e.isSaving,loading:e.isDeleting},on:{click:e.deleteCredential}}):e._e(),e.hasUnsavedChanges||e.credentialId?s("SaveButton",{attrs:{saved:!e.hasUnsavedChanges&&!e.isTesting,isSaving:e.isSaving||e.isTesting,savingLabel:e.isTesting?"Testing":"Saving"},on:{click:e.saveCredential}}):e._e()],1)]):e._e(),s("hr")]),s("template",{slot:"content"},[s("div",{class:e.$style.container},[s("div",{class:e.$style.sidebar},[s("n8n-menu",{attrs:{type:"secondary",defaultActive:"connection",light:!0},on:{select:e.onTabSelect}},[s("n8n-menu-item",{class:e.$style.credTab,attrs:{index:"connection"}},[s("span",{attrs:{slot:"title"},slot:"title"},[e._v("Connection")])]),s("n8n-menu-item",{class:e.$style.credTab,attrs:{index:"details"}},[s("span",{attrs:{slot:"title"},slot:"title"},[e._v("Details")])])],1)],1),"connection"===e.activeTab?s("div",{ref:"content",class:e.$style.mainContent},[s("CredentialConfig",{attrs:{credentialType:e.credentialType,credentialProperties:e.credentialProperties,credentialData:e.credentialData,showValidationWarning:e.showValidationWarning,authError:e.authError,testedSuccessfully:e.testedSuccessfully,isOAuthType:e.isOAuthType,isOAuthConnected:e.isOAuthConnected,isRetesting:e.isRetesting,parentTypes:e.parentTypes,requiredPropertiesFilled:e.requiredPropertiesFilled},on:{change:e.onDataChange,oauth:e.oAuthCredentialAuthorize,retest:e.retestCredential,scrollToTop:e.scrollToTop}})],1):e._e(),"details"===e.activeTab?s("div",{class:e.$style.mainContent},[s("CredentialInfo",{attrs:{nodeAccess:e.nodeAccess,nodesWithAccess:e.nodesWithAccess,currentCredential:e.currentCredential},on:{accessChange:e.onNodeAccessChange}})],1):e._e()])])],2)},Ka=[],Ya=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.filePath?s("img",{class:e.$style.credIcon,attrs:{src:e.filePath}}):e.relevantNode?s("NodeIcon",{attrs:{nodeType:e.relevantNode,size:28}}):e._e()],1)},Ga=[],qa=o["default"].extend({props:{credentialTypeName:{type:String,required:!0}},computed:{credentialWithIcon(){return this.getCredentialWithIcon(this.credentialTypeName)},filePath(){if(!this.credentialWithIcon||!this.credentialWithIcon.icon||!this.credentialWithIcon.icon.startsWith("file:"))return null;const e=this.$store.getters.getRestUrl;return`${e}/credential-icon/${this.credentialWithIcon.name}`},relevantNode(){if(this.credentialWithIcon&&this.credentialWithIcon.icon&&this.credentialWithIcon.icon.startsWith("node:")){const e=this.credentialWithIcon.icon.replace("node:","");return this.$store.getters.nodeType(e)}const e=this.$store.getters["credentials/getNodesWithAccess"](this.credentialTypeName);return e.length?e[0]:null}},methods:{getCredentialWithIcon(e){const t=this.$store.getters["credentials/getCredentialTypeByName"](e);return t.icon?t:t.extends?t.extends.reduce((e,t)=>e||this.getCredentialWithIcon(t),null):null}}}),Ja=qa,Xa=s("456b");function Za(e){this["$style"]=Xa["default"].locals||Xa["default"]}var Qa=Object(Re["a"])(Ja,Ya,Ga,!1,Za,null,null),er=Qa.exports,tr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:e.$style.container},[s("banner",{directives:[{name:"show",rawName:"v-show",value:e.showValidationWarning,expression:"showValidationWarning"}],attrs:{theme:"danger",message:"Please check the errors below"}}),e.authError&&!e.showValidationWarning?s("banner",{attrs:{theme:"danger",message:"Couldn’t connect with these settings",details:e.authError,buttonLabel:"Retry",buttonLoadingLabel:"Retrying",buttonTitle:"Retry credentials test",buttonLoading:e.isRetesting},on:{click:function(t){return e.$emit("retest")}}}):e._e(),s("banner",{directives:[{name:"show",rawName:"v-show",value:e.showOAuthSuccessBanner&&!e.showValidationWarning,expression:"showOAuthSuccessBanner && !showValidationWarning"}],attrs:{theme:"success",message:"Account connected",buttonLabel:"Reconnect",buttonTitle:"Reconnect OAuth Credentials"},on:{click:function(t){return e.$emit("oauth")}}}),s("banner",{directives:[{name:"show",rawName:"v-show",value:e.testedSuccessfully&&!e.showValidationWarning,expression:"testedSuccessfully && !showValidationWarning"}],attrs:{theme:"success",message:"Connection tested successfully",buttonLabel:"Retry",buttonLoadingLabel:"Retrying",buttonTitle:"Retry credentials test",buttonLoading:e.isRetesting},on:{click:function(t){return e.$emit("retest")}}}),e.documentationUrl&&e.credentialProperties.length?s("n8n-info-tip",[e._v(" Need help filling out these fields? "),s("a",{attrs:{href:e.documentationUrl,target:"_blank"},on:{click:e.onDocumentationUrlClick}},[e._v("Open docs")])]):e._e(),e.isOAuthType&&e.credentialProperties.length?s("CopyInput",{attrs:{label:"OAuth Redirect URL",copyContent:e.oAuthCallbackUrl,copyButtonText:"Click to copy",subtitle:"In "+e.appName+", use the URL above when prompted to enter an OAuth callback or redirect URL",successMessage:"Redirect URL copied to clipboard"}}):e._e(),e.credentialType?s("CredentialInputs",{attrs:{credentialData:e.credentialData,credentialProperties:e.credentialProperties,documentationUrl:e.documentationUrl,showValidationWarnings:e.showValidationWarning},on:{change:e.onDataChange}}):e._e(),e.isOAuthType&&e.requiredPropertiesFilled&&!e.isOAuthConnected?s("OauthButton",{attrs:{isGoogleOAuthType:e.isGoogleOAuthType},on:{click:function(t){return e.$emit("oauth")}}}):e._e()],1)},sr=[],or=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-tag",{class:e.$style.container,attrs:{type:e.theme,size:"medium","disable-transitions":!0}},[s("font-awesome-icon",{class:"success"===e.theme?e.$style.icon:e.$style.dangerIcon,attrs:{icon:"success"===e.theme?"check-circle":"exclamation-triangle"}}),s("div",{class:e.$style.banner},[s("div",{class:e.$style.content},[s("div",[s("span",{class:"success"===e.theme?e.$style.message:e.$style.dangerMessage},[e._v(" "+e._s(e.message)+"  ")]),e.details&&!e.expanded?s("a",{class:e.$style.expandButton,on:{click:e.expand}},[e._v("More details")]):e._e()])]),e.buttonLabel?s("n8n-button",{attrs:{label:e.buttonLoading&&e.buttonLoadingLabel?e.buttonLoadingLabel:e.buttonLabel,title:e.buttonTitle,theme:e.theme,loading:e.buttonLoading,size:"small",type:"outline",transparentBackground:!0},on:{click:function(t){return t.stopPropagation(),e.onClick.apply(null,arguments)}}}):e._e()],1),e.expanded?s("div",{class:e.$style.details},[e._v(" "+e._s(e.details)+" ")]):e._e()],1)},nr=[],ir=o["default"].extend({name:"Banner",data(){return{expanded:!1}},props:{theme:{type:String,validator:e=>-1!==["success","danger"].indexOf(e)},message:{type:String},buttonLabel:{type:String},buttonLoadingLabel:{type:String},buttonTitle:{type:String},details:{type:String},buttonLoading:{type:Boolean,default:!1}},methods:{expand(){this.expanded=!0},onClick(){this.expanded=!1,this.$emit("click")}}}),ar=ir,rr=s("a56c");function lr(e){this["$style"]=rr["default"].locals||rr["default"]}var dr=Object(Re["a"])(ar,or,nr,!1,lr,null,null),cr=dr.exports,ur=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("n8n-input-label",{attrs:{label:e.label}},[s("div",{class:e.$style.copyText,on:{click:e.copy}},[s("span",[e._v(e._s(e.copyContent))]),s("div",{class:e.$style.copyButton},[s("span",[e._v(e._s(e.copyButtonText))])])])]),s("div",{class:e.$style.subtitle},[e._v(e._s(e.subtitle))])],1)},hr=[],pr=Object(Ke["a"])(wn,qe["a"]).extend({props:{label:{type:String},subtitle:{type:String},copyContent:{type:String},copyButtonText:{type:String},successMessage:{type:String}},methods:{copy(){this.copyToClipboard(this.$props.copyContent),this.$showMessage({title:"Copied",message:this.$props.successMessage,type:"success"})}}}),mr=pr,fr=s("788e");function gr(e){this["$style"]=fr["default"].locals||fr["default"]}var wr=Object(Re["a"])(mr,ur,hr,!1,gr,null,null),vr=wr.exports,yr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.credentialProperties.length?s("div",{class:e.$style.container,on:{keydown:function(e){e.stopPropagation()}}},e._l(e.credentialProperties,(function(t){return s("form",{key:t.name,attrs:{autocomplete:"off"}},[s("ParameterInputExpanded",{attrs:{parameter:t,value:e.credentialData[t.name],documentationUrl:e.documentationUrl,showValidationWarnings:e.showValidationWarnings},on:{change:e.valueChanged}})],1)})),0):e._e()},br=[],kr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("n8n-input-label",{attrs:{label:e.parameter.displayName,tooltipText:e.parameter.description,required:e.parameter.required,showTooltip:e.focused}},[s("parameter-input",{attrs:{parameter:e.parameter,value:e.value,path:e.parameter.name,hideIssues:!0,displayOptions:!0,documentationUrl:e.documentationUrl,errorHighlight:e.showRequiredErrors,inputSize:"large"},on:{focus:e.onFocus,blur:e.onBlur,textInput:e.valueChanged,valueChanged:e.valueChanged}}),e.showRequiredErrors?s("div",{staticClass:"errors"},[e._v(" This field is required. "),e.documentationUrl?s("a",{attrs:{href:e.documentationUrl,target:"_blank"},on:{click:e.onDocumentationUrlClick}},[e._v("Open docs")]):e._e()]):e._e()],1)},xr=[],Cr=s("89e8"),_r=o["default"].extend({name:"ParameterInputExpanded",components:{ParameterInput:Cr["a"]},props:{parameter:{},value:{},showValidationWarnings:{type:Boolean},documentationUrl:{type:String}},data(){return{focused:!1,blurredEver:!1}},computed:{showRequiredErrors(){if(!this.$props.parameter.required)return!1;if(this.blurredEver||this.showValidationWarnings){if("string"===this.$props.parameter.type)return!this.value;if("number"===this.$props.parameter.type)return"number"!==typeof this.value}return!1}},methods:{onFocus(){this.focused=!0},onBlur(){this.blurredEver=!0,this.focused=!1},valueChanged(e){this.$emit("change",e)},onDocumentationUrlClick(){this.$telemetry.track("User clicked credential modal docs link",{docs_link:this.documentationUrl,source:"field",workflow_id:this.$store.getters.workflowId})}}}),Er=_r,$r=Object(Re["a"])(Er,kr,xr,!1,null,null,null),Nr=$r.exports,Tr=o["default"].extend({name:"CredentialsInput",props:["credentialProperties","credentialData","documentationUrl","showValidationWarnings"],components:{ParameterInputExpanded:Nr},methods:{valueChanged(e){const t=e.name.split(".").pop();this.$emit("change",{name:t,value:e.value})}}}),Ir=Tr,Sr=s("241c");function Or(e){this["$style"]=Sr["default"].locals||Sr["default"]}var Ar=Object(Re["a"])(Ir,yr,br,!1,Or,null,null),Dr=Ar.exports,Pr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",[e.isGoogleOAuthType?s("img",{class:e.$style.googleIcon,attrs:{src:e.basePath+"google-signin-light.png",alt:"Sign in with Google"},on:{click:function(t){return t.stopPropagation(),e.$emit("click")}}}):s("n8n-button",{attrs:{label:"Connect my account",size:"large"},on:{click:function(t){return t.stopPropagation(),e.$emit("click")}}})],1)},Wr=[],Rr=o["default"].extend({props:{isGoogleOAuthType:{type:Boolean}},computed:{basePath(){return this.$store.getters.getBaseUrl}}}),Lr=Rr,Vr=s("1c10");function Mr(e){this["$style"]=Vr["default"].locals||Vr["default"]}var Br=Object(Re["a"])(Lr,Pr,Wr,!1,Mr,null,null),jr=Br.exports,Ur=o["default"].extend({name:"CredentialConfig",components:{Banner:cr,CopyInput:vr,CredentialInputs:Dr,OauthButton:jr},props:{credentialType:{},credentialProperties:{type:Array},parentTypes:{type:Array},credentialData:{},showValidationWarning:{type:Boolean,default:!1},authError:{type:String},testedSuccessfully:{type:Boolean},isOAuthType:{type:Boolean},isOAuthConnected:{type:Boolean},isRetesting:{type:Boolean},requiredPropertiesFilled:{type:Boolean}},computed:{appName(){if(!this.credentialType)return"";const e=Eo(this.credentialType.displayName);return e||"the service you're connecting to"},credentialTypeName(){return this.credentialType.name},documentationUrl(){const e=this.credentialType;return e&&e.documentationUrl?e.documentationUrl.startsWith("https://")||e.documentationUrl.startsWith("http://")?e.documentationUrl:`https://docs.n8n.io/credentials/${e.documentationUrl}/?utm_source=n8n_app&utm_medium=left_nav_menu&utm_campaign=create_new_credentials_modal`:""},isGoogleOAuthType(){return"googleOAuth2Api"===this.credentialTypeName||this.parentTypes.includes("googleOAuth2Api")},oAuthCallbackUrl(){const e="oAuth2Api"===this.credentialTypeName||this.parentTypes.includes("oAuth2Api")?"oauth2":"oauth1";return this.$store.getters.oauthCallbackUrls[e]},showOAuthSuccessBanner(){return this.isOAuthType&&this.requiredPropertiesFilled&&this.isOAuthConnected&&!this.authError}},methods:{onDataChange(e){this.$emit("change",e)},onDocumentationUrlClick(){this.$telemetry.track("User clicked credential modal docs link",{docs_link:this.documentationUrl,credential_type:this.credentialTypeName,source:"modal",workflow_id:this.$store.getters.workflowId})}},watch:{showOAuthSuccessBanner(e,t){e&&!t&&this.$emit("scrollToTop")}}}),Fr=Ur,zr=s("c6cb");function Hr(e){this["$style"]=zr["default"].locals||zr["default"]}var Kr=Object(Re["a"])(Fr,tr,sr,!1,Hr,null,null),Yr=Kr.exports,Gr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:e.$style.container},[s("el-row",[s("el-col",{class:e.$style.accessLabel,attrs:{span:8}},[s("n8n-text",{attrs:{compact:!0,bold:!0}},[e._v("Allow use by")])],1),s("el-col",{attrs:{span:16}},e._l(e.nodesWithAccess,(function(t){return s("div",{key:t.name,class:e.$style.valueLabel},[s("el-checkbox",{attrs:{label:t.displayName,value:!!e.nodeAccess[t.name]},on:{change:function(s){return e.onNodeAccessChange(t.name,s)}}})],1)})),0)],1),e.currentCredential?s("el-row",[s("el-col",{class:e.$style.label,attrs:{span:8}},[s("n8n-text",{attrs:{compact:!0,bold:!0}},[e._v("Created")])],1),s("el-col",{class:e.$style.valueLabel,attrs:{span:16}},[s("n8n-text",{attrs:{compact:!0}},[s("TimeAgo",{attrs:{date:e.currentCredential.createdAt,capitalize:!0}})],1)],1)],1):e._e(),e.currentCredential?s("el-row",[s("el-col",{class:e.$style.label,attrs:{span:8}},[s("n8n-text",{attrs:{compact:!0,bold:!0}},[e._v("Last modified")])],1),s("el-col",{class:e.$style.valueLabel,attrs:{span:16}},[s("n8n-text",{attrs:{compact:!0}},[s("TimeAgo",{attrs:{date:e.currentCredential.updatedAt,capitalize:!0}})],1)],1)],1):e._e(),e.currentCredential?s("el-row",[s("el-col",{class:e.$style.label,attrs:{span:8}},[s("n8n-text",{attrs:{compact:!0,bold:!0}},[e._v("ID")])],1),s("el-col",{class:e.$style.valueLabel,attrs:{span:16}},[s("n8n-text",{attrs:{compact:!0}},[e._v(e._s(e.currentCredential.id))])],1)],1):e._e()],1)},qr=[],Jr=function(e,t){var s=t._c;return s("span",{attrs:{title:t.$options.methods.convertToHumanReadableDate(t.$props)}},[t._v(" "+t._s(t.$options.methods.format(t.props))+" ")])},Xr=[],Zr=s("cd39");const Qr=(e,t,s)=>[["Just now","Right now"],["Just now","Right now"],["1 minute ago","in 1 minute"],["%s minutes ago","in %s minutes"],["1 hour ago","in 1 hour"],["%s hours ago","in %s hours"],["1 day ago","in 1 day"],["%s days ago","in %s days"],["1 week ago","in 1 week"],["%s weeks ago","in %s weeks"],["1 month ago","in 1 month"],["%s months ago","in %s months"],["1 year ago","in 1 year"],["%s years ago","in %s years"]][t];Object(Zr["b"])("main",Qr);var el={name:"UpdatesPanel",props:{date:{type:String},capitalize:{type:Boolean,default:!1}},methods:{format(e){const t=Object(Zr["a"])(e.date,"main");return e.capitalize?t:t.toLowerCase()},convertToHumanReadableDate:_o}},tl=el,sl=Object(Re["a"])(tl,Jr,Xr,!0,null,null,null),ol=sl.exports,nl=o["default"].extend({name:"CredentialInfo",props:["nodesWithAccess","nodeAccess","currentCredential"],components:{TimeAgo:ol},methods:{onNodeAccessChange(e,t){this.$emit("accessChange",{name:e,value:t})}}}),il=nl,al=s("ef2c");function rl(e){this["$style"]=al["default"].locals||al["default"]}var ll=Object(Re["a"])(il,Gr,qr,!1,rl,null,null),dl=ll.exports,cl=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:e.$style.container},[s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.disableNameEdit,expression:"disableNameEdit"}],class:e.$style.headline,on:{keydown:function(e){e.stopPropagation()},click:e.enableNameEdit}},[e.isNameEdit?s("div",{class:e.$style.nameInput},[s("n8n-input",{ref:"nameInput",attrs:{value:e.name,size:"xlarge",maxlength:64},on:{input:e.onNameEdit,change:e.disableNameEdit}})],1):s("div",[s("span",[e._v(e._s(e.name))]),s("i",[s("font-awesome-icon",{attrs:{icon:"pen"}})],1)])]),e.isNameEdit?e._e():s("div",{class:e.$style.subtitle},[e._v(e._s(e.subtitle))])])},ul=[],hl=Object(Ke["a"])(qe["a"]).extend({name:"InlineNameEdit",props:{name:{type:String},subtitle:{type:String},type:{type:String}},data(){return{isNameEdit:!1}},methods:{onNameEdit(e){this.$emit("input",e)},enableNameEdit(){this.isNameEdit=!0,setTimeout(()=>{const e=this.$refs.nameInput;e&&e.focus()},0)},disableNameEdit(){this.name||(this.$emit("input","Untitled "+this.type),this.$showToast({title:"Error",message:this.type+" name cannot be empty",type:"warning"})),this.isNameEdit=!1}}}),pl=hl,ml=s("622c");function fl(e){this["$style"]=ml["default"].locals||ml["default"]}var gl=Object(Re["a"])(pl,cl,ul,!1,fl,null,null),wl=gl.exports,vl=Object(Ke["a"])(qe["a"],Ge["a"]).extend({name:"CredentialsDetail",components:{CredentialConfig:Yr,CredentialIcon:er,CredentialInfo:dl,InlineNameEdit:wl,Modal:Go,SaveButton:Zt},props:{modalName:{type:String,required:!0},activeId:{type:String,required:!0},mode:{type:String}},data(){return{activeTab:"connection",authError:"",credentialId:"",credentialName:"",credentialData:{},modalBus:new o["default"],nodeAccess:{},isDeleting:!1,isSaving:!1,isTesting:!1,hasUnsavedChanges:!1,loading:!0,showValidationWarning:!1,testedSuccessfully:!1,isRetesting:!1}},async mounted(){if(this.nodeAccess=this.nodesWithAccess.reduce((e,t)=>("new"===this.mode?e[t.name]={nodeType:t.name}:e[t.name]=null,e),{}),"new"===this.mode?this.credentialName=await this.$store.dispatch("credentials/getNewCredentialName",{credentialTypeName:this.credentialTypeName}):await this.loadCurrentCredential(),this.credentialType)for(const e of this.credentialType.properties)this.credentialData.hasOwnProperty(e.name)||(this.credentialData[e.name]=e.default);this.$externalHooks().run("credentialsEdit.credentialModalOpened",{credentialType:this.credentialTypeName,isEditingCredential:"edit"===this.mode,activeNode:this.$store.getters.activeNode}),setTimeout(()=>{this.credentialId&&(this.requiredPropertiesFilled?this.retestCredential():this.showValidationWarning=!0)},0),this.loading=!1},computed:{currentCredential(){return this.credentialId?this.$store.getters["credentials/getCredentialById"](this.credentialId):null},credentialTypeName(){return"edit"===this.mode?this.currentCredential?this.currentCredential.type:null:this.activeId},credentialType(){if(!this.credentialTypeName)return null;const e=this.$store.getters["credentials/getCredentialTypeByName"](this.credentialTypeName);return{...e,properties:this.getCredentialProperties(this.credentialTypeName)}},isCredentialTestable(){if(this.isOAuthType||!this.requiredPropertiesFilled)return!1;const e=Object.values(this.credentialData).reduce((e,t)=>e||"string"===typeof t&&t.startsWith("="),!1);if(e)return!1;const t=this.nodesWithAccess.filter(e=>{if(e.credentials){const t=e.credentials.filter(e=>e.name===this.credentialTypeName&&e.testedBy);return!!t.length}return!1});return!!t.length},nodesWithAccess(){return this.credentialTypeName?this.$store.getters["credentials/getNodesWithAccess"](this.credentialTypeName):[]},parentTypes(){return this.credentialTypeName?this.getParentTypes(this.credentialTypeName):[]},isOAuthType(){return!!this.credentialTypeName&&(["oAuth1Api","oAuth2Api"].includes(this.credentialTypeName)||this.parentTypes.includes("oAuth1Api")||this.parentTypes.includes("oAuth2Api"))},isOAuthConnected(){return this.isOAuthType&&!!this.credentialData.oauthTokenData},credentialProperties(){return this.credentialType?this.credentialType.properties.filter(e=>!!this.displayCredentialParameter(e)&&(!this.credentialType.__overwrittenProperties||!this.credentialType.__overwrittenProperties.includes(e.name))):[]},requiredPropertiesFilled(){for(const e of this.credentialProperties)if(!0===e.required){if("string"===e.type&&!this.credentialData[e.name])return!1;if("number"===e.type&&"number"!==typeof this.credentialData[e.name])return!1}return!0}},methods:{async beforeClose(e){let t=!1;if(this.hasUnsavedChanges){const e=this.credentialType?this.credentialType.displayName:"";t=await this.confirmMessage(`Are you sure you want to throw away the changes you made to the ${e} credential?`,"Close without saving?",null,"Keep editing","Close")}else this.isOAuthType&&!this.isOAuthConnected&&(t=await this.confirmMessage("You need to connect your credential for it to work","Close without connecting?",null,"Keep editing","Close"));t?this.requiredPropertiesFilled?this.isOAuthType&&this.scrollToBottom():(this.showValidationWarning=!0,this.scrollToTop()):e()},displayCredentialParameter(e){return"hidden"!==e.type&&(void 0===e.displayOptions||this.displayParameter(this.credentialData,e,""))},getCredentialProperties(e){const t=this.$store.getters["credentials/getCredentialTypeByName"](e);if(!t)throw new Error("Could not find credentials of type: "+e);if(void 0===t.extends)return t.properties;const s=[];for(const o of t.extends){const e=this.getCredentialProperties(o);Qo["NodeHelpers"].mergeNodeProperties(s,e)}return Qo["NodeHelpers"].mergeNodeProperties(s,t.properties),s},async loadCurrentCredential(){this.credentialId=this.activeId;try{const e=await this.$store.dispatch("credentials/getCredentialData",{id:this.credentialId});if(!e)throw new Error("Could not find the credentials with the id: "+this.credentialId);this.credentialData=e.data||{},this.credentialName=e.name,e.nodesAccess.forEach(e=>{this.nodeAccess[e.nodeType]=e})}catch(e){return this.$showError(e,"Problem loading credentials","There was a problem loading the credentials:"),void this.closeDialog()}},onTabSelect(e){this.activeTab=e},onNodeAccessChange({name:e,value:t}){this.hasUnsavedChanges=!0,this.nodeAccess=t?{...this.nodeAccess,[e]:{nodeType:e}}:{...this.nodeAccess,[e]:null}},onDataChange({name:e,value:t}){this.hasUnsavedChanges=!0;const{oauthTokenData:s,...o}=this.credentialData;this.credentialData={...o,[e]:t}},closeDialog(){this.modalBus.$emit("close")},getParentTypes(e){const t=this.$store.getters["credentials/getCredentialTypeByName"](e);if(void 0===t||void 0===t.extends)return[];const s=[];for(const o of t.extends)s.push(o),s.push.apply(s,this.getParentTypes(o));return s},onNameEdit(e){this.hasUnsavedChanges=!0,this.credentialName=e},scrollToTop(){setTimeout(()=>{const e=this.$refs.content;e&&(e.scrollTop=0)},0)},scrollToBottom(){setTimeout(()=>{const e=this.$refs.content;e&&(e.scrollTop=e.scrollHeight)},0)},async retestCredential(){if(!this.isCredentialTestable)return this.authError="",void(this.testedSuccessfully=!1);const e=Object.values(this.nodeAccess).filter(e=>!!e),t=Qo["NodeHelpers"].getNodeParameters(this.credentialType.properties,this.credentialData,!1,!1),s={id:this.credentialId,name:this.credentialName,type:this.credentialTypeName,data:t,nodesAccess:e};this.isRetesting=!0,await this.testCredential(s),this.isRetesting=!1},async testCredential(e){const t=await this.$store.dispatch("credentials/testCredential",e);"Error"===t.status?(this.authError=t.message,this.testedSuccessfully=!1):(this.authError="",this.testedSuccessfully=!0),this.scrollToTop()},async saveCredential(){this.requiredPropertiesFilled?this.showValidationWarning=!1:(this.showValidationWarning=!0,this.scrollToTop()),this.isSaving=!0;const e=Object.values(this.nodeAccess).filter(e=>!!e),t=Qo["NodeHelpers"].getNodeParameters(this.credentialType.properties,this.credentialData,!1,!1),s={id:this.credentialId,name:this.credentialName,type:this.credentialTypeName,data:t,nodesAccess:e};let o;return o="new"!==this.mode||this.credentialId?await this.updateCredential(s):await this.createCredential(s),this.isSaving=!1,o&&(this.credentialId=o.id,this.isCredentialTestable?(this.isTesting=!0,await this.testCredential(s),this.isTesting=!1):(this.authError="",this.testedSuccessfully=!1)),o},async createCredential(e){let t;try{t=await this.$store.dispatch("credentials/createNewCredential",e),this.hasUnsavedChanges=!1}catch(s){return this.$showError(s,"Problem creating credentials","There was a problem creating the credentials:"),null}return this.$externalHooks().run("credentials.create",{credentialTypeData:this.credentialData}),this.$telemetry.track("User created credentials",{credential_type:e.type,workflow_id:this.$store.getters.workflowId}),t},async updateCredential(e){let t;try{t=await this.$store.dispatch("credentials/updateCredential",{id:this.credentialId,data:e}),this.hasUnsavedChanges=!1}catch(s){return this.$showError(s,"Problem updating credentials","There was a problem updating the credentials:"),null}return this.updateNodesCredentialsIssues(),t},async deleteCredential(){if(!this.currentCredential)return;const e=this.currentCredential.name,t=await this.confirmMessage(`Are you sure you want to delete "${e}" credentials?`,"Delete Credentials?",null,"Yes, delete!");if(!1!==t){try{this.isDeleting=!0,await this.$store.dispatch("credentials/deleteCredential",{id:this.credentialId}),this.hasUnsavedChanges=!1}catch(s){return this.$showError(s,"Problem deleting credentials","There was a problem deleting the credentials:"),void(this.isDeleting=!1)}this.isDeleting=!1,this.updateNodesCredentialsIssues(),this.$showMessage({title:"Credentials deleted",message:`The credential "${e}" was deleted!`,type:"success"}),this.closeDialog()}},async oAuthCredentialAuthorize(){let e;const t=await this.saveCredential();if(!t)return;const s=this.parentTypes;try{"oAuth2Api"===this.credentialTypeName||s.includes("oAuth2Api")?e=await this.$store.dispatch("credentials/oAuth2Authorize",{...this.credentialData,id:t.id}):("oAuth1Api"===this.credentialTypeName||s.includes("oAuth1Api"))&&(e=await this.$store.dispatch("credentials/oAuth1Authorize",{...this.credentialData,id:t.id}))}catch(r){return void this.$showError(r,"OAuth Authorization Error","Error generating authorization URL:")}const n="scrollbars=no,resizable=yes,status=no,titlebar=noe,location=no,toolbar=no,menubar=no,width=500,height=700",i=window.open(e,"OAuth2 Authorization",n);o["default"].set(this.credentialData,"oauthTokenData",null);const a=e=>{"success"===e.data&&(window.removeEventListener("message",a,!1),o["default"].set(this.credentialData,"oauthTokenData",{}),this.$store.commit("credentials/enableOAuthCredential",t),i&&i.close())};window.addEventListener("message",a,!1)}}}),yl=vl,bl=s("4c7a");function kl(e){this["$style"]=bl["default"].locals||bl["default"]}var xl=Object(Re["a"])(yl,Ha,Ka,!1,kl,null,null),Cl=xl.exports,_l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Modal",{attrs:{name:e.CREDENTIAL_LIST_MODAL_KEY,width:"80%",title:"Credentials"},scopedSlots:e._u([{key:"content",fn:function(){return[s("n8n-heading",{attrs:{tag:"h3",size:"small",color:"text-light"}},[e._v("Your saved credentials:")]),s("div",{staticClass:"new-credentials-button"},[s("n8n-button",{attrs:{title:"Create New Credentials",icon:"plus",label:"Add New",size:"large"},on:{click:function(t){return e.createCredential()}}})],1),s("el-table",{attrs:{data:e.credentialsToDisplay,"default-sort":{prop:"name",order:"ascending"},stripe:"","max-height":"450"},on:{"row-click":e.editCredential}},[s("el-table-column",{attrs:{property:"name",label:"Name","class-name":"clickable",sortable:""}}),s("el-table-column",{attrs:{property:"type",label:"Type","class-name":"clickable",sortable:""}}),s("el-table-column",{attrs:{property:"createdAt",label:"Created","class-name":"clickable",sortable:""}}),s("el-table-column",{attrs:{property:"updatedAt",label:"Updated","class-name":"clickable",sortable:""}}),s("el-table-column",{attrs:{label:"Operations",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",{staticClass:"cred-operations"},[s("n8n-icon-button",{attrs:{title:"Edit Credentials",size:"small",icon:"pen"},on:{click:function(s){return s.stopPropagation(),e.editCredential(t.row)}}}),s("n8n-icon-button",{attrs:{title:"Delete Credentials",size:"small",icon:"trash"},on:{click:function(s){return s.stopPropagation(),e.deleteCredential(t.row)}}})],1)]}}])})],1)]},proxy:!0}])})},El=[],$l=Object(Ke["a"])(Ye["a"],Mt["a"],Ge["a"],qe["a"]).extend({name:"CredentialsList",components:{Modal:Go},data(){return{CREDENTIAL_LIST_MODAL_KEY:Ze["s"]}},computed:{...Object(De["b"])("credentials",["allCredentials"]),credentialsToDisplay(){return this.allCredentials.reduce((e,t)=>{const s=this.$store.getters["credentials/getCredentialTypeByName"](t.type);return s&&e.push({...t,type:s.displayName,createdAt:Co(t.createdAt),updatedAt:Co(t.updatedAt)}),e},[])}},mounted(){this.$externalHooks().run("credentialsList.mounted"),this.$telemetry.track("User opened Credentials panel",{workflow_id:this.$store.getters.workflowId})},destroyed(){this.$externalHooks().run("credentialsList.destroyed")},methods:{createCredential(){this.$store.dispatch("ui/openModal",Ze["t"])},editCredential(e){this.$store.dispatch("ui/openExisitngCredential",{id:e.id}),this.$telemetry.track("User opened Credential modal",{credential_type:e.type,source:"primary_menu",new_credential:!1,workflow_id:this.$store.getters.workflowId})},async deleteCredential(e){const t=await this.confirmMessage(`Are you sure you want to delete "${e.name}" credentials?`,"Delete Credentials?",null,"Yes, delete!");if(!1!==t){try{await this.$store.dispatch("credentials/deleteCredential",{id:e.id})}catch(s){return void this.$showError(s,"Problem deleting credentials","There was a problem deleting the credentials:")}this.updateNodesCredentialsIssues(),this.$showMessage({title:"Credentials deleted",message:`The credential "${e.name}" was deleted!`,type:"success"})}}}}),Nl=$l,Tl=(s("691d"),Object(Re["a"])(Nl,_l,El,!1,null,"fda880d4",null)),Il=Tl.exports,Sl=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Modal",{attrs:{name:e.CREDENTIAL_SELECT_MODAL_KEY,eventBus:e.modalBus,width:"50%",center:!0,maxWidth:"460px"}},[s("template",{slot:"header"},[s("h2",{class:e.$style.title},[e._v("Add new credential")])]),s("template",{slot:"content"},[s("div",[s("div",{class:e.$style.subtitle},[e._v("Select an app or service to connect to")]),s("n8n-select",{ref:"select",attrs:{filterable:"",defaultFirstOption:"",placeholder:"Search for app...",size:"xlarge",value:e.selected},on:{change:e.onSelect}},[s("font-awesome-icon",{attrs:{slot:"prefix",icon:"search"},slot:"prefix"}),e._l(e.allCredentialTypes,(function(e){return s("n8n-option",{key:e.name,attrs:{value:e.name,label:e.displayName,filterable:""}})}))],2)],1)]),s("template",{slot:"footer"},[s("div",{class:e.$style.footer},[s("n8n-button",{attrs:{label:"Continue",float:"right",size:"large",disabled:!e.selected},on:{click:e.openCredentialType}})],1)])],2)},Ol=[],Al=o["default"].extend({name:"CredentialsSelectModal",components:{Modal:Go},mounted(){setTimeout(()=>{const e=this.$refs.select;e&&e.focus()},0)},data(){return{modalBus:new o["default"],selected:"",CREDENTIAL_SELECT_MODAL_KEY:Ze["t"]}},computed:{...Object(De["b"])("credentials",["allCredentialTypes"])},methods:{onSelect(e){this.selected=e},openCredentialType(){this.modalBus.$emit("close"),this.$store.dispatch("ui/openNewCredential",{type:this.selected}),this.$telemetry.track("User opened Credential modal",{credential_type:this.selected,source:"primary_menu",new_credential:!0,workflow_id:this.$store.getters.workflowId})}}}),Dl=Al,Pl=s("daaf");function Wl(e){this["$style"]=Pl["default"].locals||Pl["default"]}var Rl=Object(Re["a"])(Dl,Sl,Ol,!1,Wl,null,null),Ll=Rl.exports,Vl=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Modal",{attrs:{name:e.modalName,eventBus:e.modalBus,title:"Duplicate Workflow",center:!0,minWidth:"420px",maxWidth:"420px"},on:{enter:e.save},scopedSlots:e._u([{key:"content",fn:function(){return[s("div",{class:e.$style.content},[s("n8n-input",{ref:"nameInput",attrs:{placeholder:"Enter workflow name",maxlength:e.MAX_WORKFLOW_NAME_LENGTH},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),s("TagsDropdown",{ref:"dropdown",attrs:{createEnabled:!0,currentTagIds:e.currentTagIds,eventBus:e.dropdownBus,placeholder:"Choose or create a tag"},on:{blur:e.onTagsBlur,esc:e.onTagsEsc,update:e.onTagsUpdate}})],1)]},proxy:!0},{key:"footer",fn:function(t){var o=t.close;return[s("div",{class:e.$style.footer},[s("n8n-button",{attrs:{loading:e.isSaving,label:"Save",float:"right"},on:{click:e.save}}),s("n8n-button",{attrs:{type:"outline",disabled:e.isSaving,label:"Cancel",float:"right"},on:{click:o}})],1)]}}])})},Ml=[],Bl=Object(Ke["a"])(qe["a"],Xe["a"]).extend({components:{TagsDropdown:as,Modal:Go},name:"DuplicateWorkflow",props:["modalName","isActive"],data(){const e=this.$store.getters["workflowTags"];return{name:"",currentTagIds:e,isSaving:!1,modalBus:new o["default"],dropdownBus:new o["default"],MAX_WORKFLOW_NAME_LENGTH:Ze["U"],prevTagIds:e}},async mounted(){this.$data.name=await this.$store.dispatch("workflows/getDuplicateCurrentWorkflowName"),this.$nextTick(()=>this.focusOnNameInput())},watch:{isActive(e){e&&this.focusOnSelect()}},methods:{focusOnSelect(){this.dropdownBus.$emit("focus")},focusOnNameInput(){const e=this.$refs.nameInput;e&&e.focus&&e.focus()},onTagsBlur(){this.prevTagIds=this.currentTagIds},onTagsEsc(){this.currentTagIds=this.prevTagIds},onTagsUpdate(e){this.currentTagIds=e},async save(){const e=this.name.trim();if(!e)return void this.$showMessage({title:"Name missing",message:"Please enter a name.",type:"error"});const t=this.$store.getters.workflowId;this.$data.isSaving=!0;const s=await this.saveAsNewWorkflow({name:e,tags:this.currentTagIds,resetWebhookUrls:!0,openInNewWindow:!0});s&&(this.closeDialog(),this.$telemetry.track("User duplicated workflow",{old_workflow_id:t,workflow_id:this.$store.getters.workflowId})),this.$data.isSaving=!1},closeDialog(){this.modalBus.$emit("close")}}}),jl=Bl,Ul=s("07f6");function Fl(e){this["$style"]=Ul["default"].locals||Ul["default"]}var zl=Object(Re["a"])(jl,Vl,Ml,!1,Fl,null,null),Hl=zl.exports,Kl=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.isOpen(e.name)||e.keepAlive?s("div",[e._t("default",null,{modalName:e.name,active:e.isActive(e.name),open:e.isOpen(e.name),activeId:e.getActiveId(e.name),mode:e.getMode(e.name)})],2):e._e()},Yl=[],Gl=o["default"].extend({name:"ModalRoot",props:["name","keepAlive"],methods:{isActive(e){return this.$store.getters["ui/isModalActive"](e)},isOpen(e){return this.$store.getters["ui/isModalOpen"](e)},getMode(e){return this.$store.getters["ui/getModalMode"](e)},getActiveId(e){return this.$store.getters["ui/getModalActiveId"](e)}}}),ql=Gl,Jl=Object(Re["a"])(ql,Kl,Yl,!1,null,null,null),Xl=Jl.exports,Zl=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Modal",{attrs:{name:e.PERSONALIZATION_MODAL_KEY,title:e.submitted?"Thanks!":"Get started",subtitle:e.submitted?"":"These questions help us tailor n8n to you",centerTitle:!0,showClose:!1,eventBus:e.modalBus,closeOnClickModal:!1,closeOnPressEscape:!1,width:"460px"},on:{enter:e.save,input:e.onInput},scopedSlots:e._u([{key:"content",fn:function(){return[e.submitted?s("div",{class:e.$style.submittedContainer},[s("img",{class:e.$style.demoImage,attrs:{src:e.baseUrl+"suggestednodes.png"}}),s("n8n-text",[e._v("Look out for things marked with a ✨. They are personalized to make n8n more relevant to you.")])],1):s("div",{class:e.$style.container},[s("n8n-input-label",{attrs:{label:"Which of these areas do you mainly work in?"}},[s("n8n-select",{attrs:{value:e.values[e.WORK_AREA_KEY],placeholder:"Select..."},on:{change:function(t){return e.onInput(e.WORK_AREA_KEY,t)}}},[s("n8n-option",{attrs:{value:e.AUTOMATION_CONSULTING_WORK_AREA,label:"Automation consulting"}}),s("n8n-option",{attrs:{value:e.FINANCE_WORK_AREA,label:"Finance"}}),s("n8n-option",{attrs:{value:e.HR_WORK_AREA,label:"HR"}}),s("n8n-option",{attrs:{value:e.IT_ENGINEERING_WORK_AREA,label:"IT / Engineering"}}),s("n8n-option",{attrs:{value:e.LEGAL_WORK_AREA,label:"Legal"}}),s("n8n-option",{attrs:{value:e.MARKETING_WORK_AREA,label:"Marketing / Growth"}}),s("n8n-option",{attrs:{value:e.OPS_WORK_AREA,label:"Operations"}}),s("n8n-option",{attrs:{value:e.PRODUCT_WORK_AREA,label:"Product"}}),s("n8n-option",{attrs:{value:e.SALES_BUSINESSDEV_WORK_AREA,label:"Sales / Business Development"}}),s("n8n-option",{attrs:{value:e.SECURITY_WORK_AREA,label:"Security"}}),s("n8n-option",{attrs:{value:e.SUPPORT_WORK_AREA,label:"Support"}}),s("n8n-option",{attrs:{value:e.OTHER_WORK_AREA_OPTION,label:"Other (please specify)"}})],1)],1),e.otherWorkAreaFieldVisible?s("n8n-input",{attrs:{value:e.values[e.OTHER_WORK_AREA_KEY],placeholder:"Specify your work area"},on:{input:function(t){return e.onInput(e.OTHER_WORK_AREA_KEY,t)}}}):e._e(),s("n8n-input-label",{attrs:{label:"How are your coding skills?"}},[s("n8n-select",{attrs:{value:e.values[e.CODING_SKILL_KEY],placeholder:"Select..."},on:{change:function(t){return e.onInput(e.CODING_SKILL_KEY,t)}}},[s("n8n-option",{attrs:{label:"0 (Never coded)",value:"0"}}),s("n8n-option",{attrs:{label:"1",value:"1"}}),s("n8n-option",{attrs:{label:"2",value:"2"}}),s("n8n-option",{attrs:{label:"3",value:"3"}}),s("n8n-option",{attrs:{label:"4",value:"4"}}),s("n8n-option",{attrs:{label:"5 (Pro coder)",value:"5"}})],1)],1),s("n8n-input-label",{attrs:{label:"How big is your company?"}},[s("n8n-select",{attrs:{value:e.values[e.COMPANY_SIZE_KEY],placeholder:"Select..."},on:{change:function(t){return e.onInput(e.COMPANY_SIZE_KEY,t)}}},[s("n8n-option",{attrs:{label:"Less than 20 people",value:e.COMPANY_SIZE_20_OR_LESS}}),s("n8n-option",{attrs:{label:"20-99 people",value:e.COMPANY_SIZE_20_99}}),s("n8n-option",{attrs:{label:"100-499 people",value:e.COMPANY_SIZE_100_499}}),s("n8n-option",{attrs:{label:"500-999 people",value:e.COMPANY_SIZE_500_999}}),s("n8n-option",{attrs:{label:"1000+ people",value:e.COMPANY_SIZE_1000_OR_MORE}}),s("n8n-option",{attrs:{label:"I'm not using n8n for work",value:e.COMPANY_SIZE_PERSONAL_USE}})],1)],1)],1)]},proxy:!0},{key:"footer",fn:function(){return[s("div",[e.submitted?s("n8n-button",{attrs:{label:"Get started",float:"right"},on:{click:e.closeDialog}}):s("n8n-button",{attrs:{loading:e.isSaving,label:"Continue",float:"right"},on:{click:e.save}})],1)]},proxy:!0}])})},Ql=[],ed=Object(Ke["a"])(qe["a"],Xe["a"]).extend({components:{Modal:Go},name:"PersonalizationModal",data(){return{submitted:!1,isSaving:!1,PERSONALIZATION_MODAL_KEY:Ze["db"],otherWorkAreaFieldVisible:!1,modalBus:new o["default"],values:{[Ze["Gb"]]:null,[Ze["o"]]:null,[Ze["i"]]:null,[Ze["ab"]]:null},AUTOMATION_CONSULTING_WORK_AREA:Ze["b"],FINANCE_WORK_AREA:Ze["E"],HR_WORK_AREA:Ze["I"],IT_ENGINEERING_WORK_AREA:Ze["N"],LEGAL_WORK_AREA:Ze["P"],MARKETING_WORK_AREA:Ze["Q"],PRODUCT_WORK_AREA:Ze["hb"],SALES_BUSINESSDEV_WORK_AREA:Ze["mb"],SECURITY_WORK_AREA:Ze["nb"],SUPPORT_WORK_AREA:Ze["ub"],OPS_WORK_AREA:Ze["Z"],OTHER_WORK_AREA_OPTION:Ze["bb"],COMPANY_SIZE_20_OR_LESS:Ze["m"],COMPANY_SIZE_20_99:Ze["l"],COMPANY_SIZE_100_499:Ze["k"],COMPANY_SIZE_500_999:Ze["n"],COMPANY_SIZE_1000_OR_MORE:Ze["j"],COMPANY_SIZE_PERSONAL_USE:Ze["p"],WORK_AREA_KEY:Ze["Gb"],COMPANY_SIZE_KEY:Ze["o"],CODING_SKILL_KEY:Ze["i"],OTHER_WORK_AREA_KEY:Ze["ab"]}},computed:{...Object(De["b"])({baseUrl:"getBaseUrl"})},methods:{closeDialog(){this.modalBus.$emit("close")},onInput(e,t){e===Ze["Gb"]&&t===Ze["bb"]?this.otherWorkAreaFieldVisible=!0:e===Ze["Gb"]&&(this.otherWorkAreaFieldVisible=!1,this.values[Ze["ab"]]=null),this.values[e]=t},async save(){this.$data.isSaving=!0;try{await this.$store.dispatch("settings/submitPersonalizationSurvey",this.values),null===this.values[Ze["Gb"]]&&null===this.values[Ze["o"]]&&null===this.values[Ze["i"]]&&this.closeDialog(),this.submitted=!0}catch(e){this.$showError(e,"Error while submitting results")}this.$data.isSaving=!1}}}),td=ed,sd=s("07d2");function od(e){this["$style"]=sd["default"].locals||sd["default"]}var nd=Object(Re["a"])(td,Zl,Ql,!1,od,null,null),id=nd.exports,ad=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Modal",{attrs:{title:"Manage tags",name:e.TAGS_MANAGER_MODAL_KEY,eventBus:e.modalBus,minWidth:"620px",minHeight:"420px"},on:{enter:e.onEnter},scopedSlots:e._u([{key:"content",fn:function(){return[s("el-row",[e.hasTags||e.isCreating?s("TagsView",{attrs:{isLoading:e.isLoading,tags:e.tags},on:{create:e.onCreate,update:e.onUpdate,delete:e.onDelete,disableCreate:e.onDisableCreate}}):s("NoTagsView",{on:{enableCreate:e.onEnableCreate}})],1)]},proxy:!0},{key:"footer",fn:function(e){var t=e.close;return[s("n8n-button",{attrs:{label:"Done",float:"right"},on:{click:t}})]}}])})},rd=[],ld=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.applyOperation.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.cancelOperation.apply(null,arguments)}]}},[s("TagsTableHeader",{attrs:{search:e.search,disabled:e.isHeaderDisabled()},on:{searchChange:e.onSearchChange,createEnable:e.onCreateEnable}}),s("TagsTable",{ref:"tagsTable",attrs:{rows:e.rows,isLoading:e.isLoading,isSaving:e.isSaving,newName:e.newName},on:{newNameChange:e.onNewNameChange,updateEnable:e.onUpdateEnable,deleteEnable:e.onDeleteEnable,cancelOperation:e.cancelOperation,applyOperation:e.applyOperation}})],1)},dd=[],cd=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-row",{staticClass:"tags-header"},[s("el-col",{attrs:{span:10}},[s("n8n-input",{attrs:{placeholder:"Search tags",value:e.search,disabled:e.disabled,clearable:"",maxlength:e.maxLength},on:{input:e.onSearchChange}},[s("font-awesome-icon",{attrs:{slot:"prefix",icon:"search"},slot:"prefix"})],1)],1),s("el-col",{attrs:{span:14}},[s("n8n-button",{attrs:{disabled:e.disabled,icon:"plus",label:"Add new",size:"large",float:"right"},on:{click:e.onAddNew}})],1)],1)},ud=[],hd=o["default"].extend({props:{disabled:{default:!1},search:{default:""}},data(){return{maxLength:Ze["T"]}},methods:{onAddNew(){this.$emit("createEnable")},onSearchChange(e){this.$emit("searchChange",e)}}}),pd=hd,md=(s("22cb"),Object(Re["a"])(pd,cd,ud,!1,null,"3c3ea160",null)),fd=md.exports,gd=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],ref:"table",attrs:{stripe:"","max-height":"450","empty-text":"No matching tags exist",data:e.rows,"span-method":e.getSpan,"row-class-name":e.getRowClasses}},[s("el-table-column",{attrs:{label:"Name"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",{key:t.row.id,staticClass:"name",on:{keydown:function(e){e.stopPropagation()}}},[s("transition",{attrs:{name:"fade",mode:"out-in"}},[t.row.create||t.row.update?s("n8n-input",{ref:"nameInput",attrs:{value:e.newName,maxlength:e.maxLength},on:{input:e.onNewNameChange}}):t.row.delete?s("span",[s("span",[e._v("Are you sure you want to delete this tag?")]),s("input",{ref:"deleteHiddenInput",staticClass:"hidden"})]):s("span",{class:{disabled:t.row.disable}},[e._v(" "+e._s(t.row.tag.name)+" ")])],1)],1)]}}])}),s("el-table-column",{attrs:{label:"Usage",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("transition",{attrs:{name:"fade",mode:"out-in"}},[t.row.create||t.row.delete?e._e():s("div",{class:{disabled:t.row.disable}},[e._v(" "+e._s(t.row.usage)+" ")])])]}}])}),s("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[s("transition",{attrs:{name:"fade",mode:"out-in"}},[t.row.create?s("div",{staticClass:"ops"},[s("n8n-button",{attrs:{label:"Cancel",type:"outline",disabled:e.isSaving},on:{click:function(t){return t.stopPropagation(),e.cancel.apply(null,arguments)}}}),s("n8n-button",{attrs:{label:"Create tag",loading:e.isSaving},on:{click:function(t){return t.stopPropagation(),e.apply.apply(null,arguments)}}})],1):t.row.update?s("div",{staticClass:"ops"},[s("n8n-button",{attrs:{label:"Cancel",type:"outline",disabled:e.isSaving},on:{click:function(t){return t.stopPropagation(),e.cancel.apply(null,arguments)}}}),s("n8n-button",{attrs:{label:"Save changes",loading:e.isSaving},on:{click:function(t){return t.stopPropagation(),e.apply.apply(null,arguments)}}})],1):t.row.delete?s("div",{staticClass:"ops"},[s("n8n-button",{attrs:{label:"Cancel",type:"outline",disabled:e.isSaving},on:{click:function(t){return t.stopPropagation(),e.cancel.apply(null,arguments)}}}),s("n8n-button",{attrs:{label:"Delete tag",loading:e.isSaving},on:{click:function(t){return t.stopPropagation(),e.apply.apply(null,arguments)}}})],1):t.row.disable?e._e():s("div",{staticClass:"ops main"},[s("n8n-icon-button",{attrs:{title:"Edit Tag",icon:"pen"},on:{click:function(s){return s.stopPropagation(),e.enableUpdate(t.row)}}}),s("n8n-icon-button",{attrs:{title:"Delete Tag",icon:"trash"},on:{click:function(s){return s.stopPropagation(),e.enableDelete(t.row)}}})],1)])]}}])})],1)},wd=[];const vd=350,yd=100;var bd=o["default"].extend({name:"TagsTable",props:["rows","isLoading","newName","isSaving"],data(){return{maxLength:Ze["T"]}},mounted(){1===this.$props.rows.length&&this.$props.rows[0].create&&this.focusOnInput()},methods:{getRowClasses:({row:e})=>e.disable?"disabled":"",getSpan({row:e,columnIndex:t}){return 0===t&&e.tag&&e.delete?[1,2]:1===t&&e.tag&&e.delete?[0,0]:1},enableUpdate(e){e.tag&&(this.$emit("updateEnable",e.tag.id),this.$emit("newNameChange",e.tag.name),this.focusOnInput())},enableDelete(e){e.tag&&(this.$emit("deleteEnable",e.tag.id),this.focusOnDelete())},cancel(){this.$emit("cancelOperation")},apply(){this.$emit("applyOperation")},onNewNameChange(e){this.$emit("newNameChange",e)},focusOnInput(){setTimeout(()=>{const e=this.$refs.nameInput;e&&e.focus&&e.focus()},vd)},focusOnDelete(){setTimeout(()=>{const e=this.$refs.deleteHiddenInput;e&&e.focus&&e.focus()},yd)},focusOnCreate(){this.$refs.table.$refs.bodyWrapper.scrollTop=0,this.focusOnInput()}},watch:{rows(e){e&&e[0]&&e[0].create&&this.focusOnCreate()}}}),kd=bd,xd=(s("d010"),Object(Re["a"])(kd,gd,wd,!1,null,"d7e622de",null)),Cd=xd.exports;const _d=(e,t)=>e.toLowerCase().trim().includes(t.toLowerCase().trim()),Ed=e=>e&&e>0?`${e} workflow${e>1?"s":""}`:"Not being used";var $d=o["default"].extend({components:{TagsTableHeader:fd,TagsTable:Cd},name:"TagsView",props:["tags","isLoading"],data(){return{createEnabled:!1,deleteId:"",updateId:"",search:"",newName:"",stickyIds:new Set,isSaving:!1}},computed:{isCreateEnabled(){return 0===(this.$props.tags||[]).length||this.$data.createEnabled},rows(){const e=this.isCreateEnabled||this.$data.updateId||this.$data.deleteId,t=(this.$props.tags||[]).filter(e=>this.stickyIds.has(e.id)||_d(e.name,this.$data.search)).map(t=>({tag:t,usage:Ed(t.usageCount),disable:e&&t.id!==this.deleteId&&t.id!==this.$data.updateId,update:e&&t.id===this.$data.updateId,delete:e&&t.id===this.$data.deleteId}));return this.isCreateEnabled?[{create:!0},...t]:t}},methods:{onNewNameChange(e){this.newName=e},onSearchChange(e){this.$data.stickyIds.clear(),this.$data.search=e},isHeaderDisabled(){return this.$props.isLoading||!!(this.isCreateEnabled||this.$data.updateId||this.$data.deleteId)},onUpdateEnable(e){this.updateId=e},disableUpdate(){this.updateId="",this.newName=""},updateTag(){this.$data.isSaving=!0;const e=this.newName.trim(),t=e=>{this.$data.isSaving=!1,e&&(this.stickyIds.add(this.updateId),this.disableUpdate())};this.$emit("update",this.updateId,e,t)},onDeleteEnable(e){this.deleteId=e},disableDelete(){this.deleteId=""},deleteTag(){this.$data.isSaving=!0;const e=e=>{e&&this.disableDelete(),this.$data.isSaving=!1};this.$emit("delete",this.deleteId,e)},onCreateEnable(){this.$data.createEnabled=!0,this.$data.newName=""},disableCreate(){this.$data.createEnabled=!1,this.$emit("disableCreate")},createTag(){this.$data.isSaving=!0;const e=this.$data.newName.trim(),t=(e,t)=>{e&&(this.stickyIds.add(e.id),this.disableCreate()),this.$data.isSaving=!1};this.$emit("create",e,t)},applyOperation(){this.$data.isSaving||(this.isCreateEnabled?this.createTag():this.$data.updateId?this.updateTag():this.$data.deleteId&&this.deleteTag())},cancelOperation(){this.$data.isSaving||(this.isCreateEnabled?this.disableCreate():this.$data.updateId?this.disableUpdate():this.$data.deleteId&&this.disableDelete())}}}),Nd=$d,Td=Object(Re["a"])(Nd,ld,dd,!1,null,null,null),Id=Td.exports,Sd=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("el-col",{staticClass:"notags",attrs:{span:16}},[s("div",{staticClass:"icon"},[e._v("🗄️")]),s("div",[s("div",{staticClass:"headline"},[e._v("Ready to organize your workflows?")]),s("div",{staticClass:"description"},[e._v(" With workflow tags, you're free to create the perfect tagging system for your flows ")])]),s("n8n-button",{attrs:{label:"Create a tag",size:"large"},on:{click:function(t){return e.$emit("enableCreate")}}})],1)],1)},Od=[],Ad=o["default"].extend({name:"NoTagsView"}),Dd=Ad,Pd=(s("e4a1"),Object(Re["a"])(Dd,Sd,Od,!1,null,"64f59f43",null)),Wd=Pd.exports,Rd=Object(Ke["a"])(qe["a"]).extend({name:"TagsManager",created(){this.$store.dispatch("tags/fetchAll",{force:!0,withUsageCount:!0})},data(){const e=this.$store.getters["tags/allTags"].map(e=>e.id);return{tagIds:e,isCreating:!1,modalBus:new o["default"],TAGS_MANAGER_MODAL_KEY:Ze["wb"]}},components:{TagsView:Id,NoTagsView:Wd,Modal:Go},computed:{...Object(De["b"])("tags",["isLoading"]),tags(){return this.$data.tagIds.map(e=>this.$store.getters["tags/getTagById"](e)).filter(Boolean)},hasTags(){return this.tags.length>0}},methods:{onEnableCreate(){this.$data.isCreating=!0},onDisableCreate(){this.$data.isCreating=!1},async onCreate(e,t){try{if(!e)throw new Error("Tag name cannot be empty");const s=await this.$store.dispatch("tags/create",e);this.$data.tagIds=[s.id].concat(this.$data.tagIds),t(s)}catch(s){const o=escape(e);this.$showError(s,"New tag was not created",`A problem occurred when trying to create the "${o}" tag`),t(null,s)}},async onUpdate(e,t,s){const o=this.$store.getters["tags/getTagById"](e),n=o.name;try{if(!t)throw new Error("Tag name cannot be empty");if(t===n)return void s(!0);const o=await this.$store.dispatch("tags/rename",{id:e,name:t});s(!!o);const i=escape(t),a=escape(n);this.$showMessage({title:"Tag was updated",message:`The "${a}" tag was successfully updated to "${i}"`,type:"success"})}catch(i){const e=escape(n);this.$showError(i,"Tag was not updated",`A problem occurred when trying to update the "${e}" tag`),s(!1,i)}},async onDelete(e,t){const s=this.$store.getters["tags/getTagById"](e),o=s.name;try{const s=await this.$store.dispatch("tags/delete",e);if(!s)throw new Error("Could not delete tag");this.$data.tagIds=this.$data.tagIds.filter(t=>t!==e),t(s);const n=escape(o);this.$showMessage({title:"Tag was deleted",message:`The "${n}" tag was successfully deleted from your tag collection`,type:"success"})}catch(n){const e=escape(o);this.$showError(n,"Tag was not deleted",`A problem occurred when trying to delete the "${e}" tag`),t(!1,n)}},onEnter(){this.isLoading||(this.hasTags?this.modalBus.$emit("close"):this.onEnableCreate())}}}),Ld=Rd,Vd=Object(Re["a"])(Ld,ad,rd,!1,null,null,null),Md=Vd.exports,Bd=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ModalDrawer",{attrs:{name:e.VERSIONS_MODAL_KEY,direction:"ltr",width:"520px"}},[s("template",{slot:"header"},[s("span",{class:e.$style.title},[e._v("We’ve been busy ✨")])]),s("template",{slot:"content"},[s("section",{class:e.$style["description"]},[e.currentVersion?s("p",[e._v(" You’re on "+e._s(e.currentVersion.name)+", which was released "),s("strong",[s("TimeAgo",{attrs:{date:e.currentVersion.createdAt}})],1),e._v(" and is "),s("strong",[e._v(e._s(e.nextVersions.length)+" version"+e._s(e.nextVersions.length>1?"s":""))]),e._v(" behind the latest and greatest n8n ")]):e._e(),e.infoUrl?s("a",{class:e.$style["info-url"],attrs:{href:e.infoUrl,target:"_blank"}},[s("font-awesome-icon",{attrs:{icon:"info-circle"}}),s("span",[e._v("How to update your n8n version")])],1):e._e()]),s("section",{class:e.$style.versions},e._l(e.nextVersions,(function(t){return s("div",{key:t.name,class:e.$style["versions-card"]},[s("VersionCard",{attrs:{version:t}})],1)})),0)])],2)},jd=[],Ud=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-drawer",{attrs:{direction:e.direction,visible:e.visible,size:e.width,"before-close":e.close},scopedSlots:e._u([{key:"title",fn:function(){return[e._t("header")]},proxy:!0}],null,!0)},[[e._t("content")]],2)},Fd=[],zd=o["default"].extend({name:"ModalDrawer",props:{name:{type:String},eventBus:{type:o["default"]},direction:{type:String},width:{type:String}},mounted(){window.addEventListener("keydown",this.onWindowKeydown),this.$props.eventBus&&this.$props.eventBus.$on("close",()=>{this.close()});const e=document.activeElement;e&&e.blur()},beforeDestroy(){window.removeEventListener("keydown",this.onWindowKeydown)},methods:{onWindowKeydown(e){this.isActive&&e&&13===e.keyCode&&this.handleEnter()},handleEnter(){this.isActive&&this.$emit("enter")},close(){this.$store.commit("ui/closeTopModal")}},computed:{isActive(){return this.$store.getters["ui/isModalActive"](this.$props.name)},visible(){return this.$store.getters["ui/isModalOpen"](this.$props.name)}}}),Hd=zd,Kd=(s("1166"),Object(Re["a"])(Hd,Ud,Fd,!1,null,null,null)),Yd=Kd.exports,Gd=function(e,t){var s=t._c;return t.props.version?s("a",{class:t.$style.card,attrs:{set:t.version=t.props.version,href:t.version.documentationUrl,target:"_blank"}},[s("div",{class:t.$style.header},[s("div",[s("div",{class:t.$style.name},[t._v(" Version "+t._s(t.version.name)+" ")]),t.version.hasSecurityIssue?s("WarningTooltip",[[t._v(" This version has a security issue."),s("br"),t._v("It is listed here for completeness. ")]],2):t._e(),t.version.hasSecurityFix?s("Badge",{attrs:{text:"Security update",type:"danger"}}):t._e(),t.version.hasBreakingChange?s("Badge",{attrs:{text:"Breaking changes",type:"warning"}}):t._e()],1),s("div",{class:t.$style["release-date"]},[t._v(" Released "),s("TimeAgo",{attrs:{date:t.version.createdAt}})],1)]),t.version.description||t.version.nodes&&t.version.nodes.length?s("div",{class:t.$style.divider}):t._e(),s("div",[t.version.description?s("div",{class:t.$style.description,domProps:{innerHTML:t._s(t.version.description)}}):t._e(),t.version.nodes&&t.version.nodes.length>0?s("div",{class:t.$style.nodes},t._l(t.version.nodes,(function(e){return s("NodeIcon",{key:e.name,attrs:{nodeType:e,title:t.$options.nodeName(e)}})})),1):t._e()])]):t._e()},qd=[],Jd=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"node-icon-wrapper",style:e.iconStyleData},[null!==e.nodeIconData?s("div",{staticClass:"icon"},["file"===e.nodeIconData.type?s("img",{style:e.imageStyleData,attrs:{src:e.nodeIconData.fileBuffer||e.nodeIconData.path}}):s("font-awesome-icon",{style:e.fontStyleData,attrs:{icon:e.nodeIconData.icon||e.nodeIconData.path}})],1):s("div",{staticClass:"node-icon-placeholder"},[e._v(" "+e._s(null!==e.nodeType?e.nodeType.displayName.charAt(0):"?")+" ")])])},Xd=[],Zd=o["default"].extend({name:"NodeIcon",props:{nodeType:{},size:{type:Number},disabled:{type:Boolean,default:!1},circle:{type:Boolean,default:!1}},computed:{iconStyleData(){const e=this.nodeType,t=e?e.defaults&&e.defaults.color:"";return this.size?{color:t,width:this.size+"px",height:this.size+"px","font-size":this.size+"px","line-height":this.size+"px","border-radius":this.circle?"50%":"2px",...this.disabled&&{color:"#ccc","-webkit-filter":"contrast(40%) brightness(1.5) grayscale(100%)",filter:"contrast(40%) brightness(1.5) grayscale(100%)"}}:{color:t}},fontStyleData(){return{"max-width":this.size+"px"}},imageStyleData(){return{width:"100%","max-width":"100%","max-height":"100%"}},isSvgIcon(){return!(!this.nodeIconData||"file"!==this.nodeIconData.type||"svg"!==this.nodeIconData.fileExtension)},nodeIconData(){const e=this.nodeType;if(null===e)return null;if(e.iconData)return e.iconData;const t=this.$store.getters.getRestUrl;if(e.icon){let s,o;[s,o]=e.icon.split(":");const n={type:s,path:o};return"file"===s&&(n.path=t+"/node-icon/"+e.name,n.fileExtension=o.split(".").slice(-1).join()),n}return null}}}),Qd=Zd,ec=(s("4a15"),Object(Re["a"])(Qd,Jd,Xd,!1,null,null,null)),tc=ec.exports,sc=function(e,t){var s=t._c;return s("fragment",["danger"===t.props.type?s("el-tag",{class:t.$style["danger"],attrs:{type:"danger",size:"small"}},[t._v(" "+t._s(t.props.text)+" ")]):"warning"===t.props.type?s("el-tag",{class:t.$style["warning"],attrs:{size:"small"}},[t._v(" "+t._s(t.props.text)+" ")]):t._e()],1)},oc=[],nc={props:["text","type"]},ic=nc,ac=s("73a9");function rc(e){this["$style"]=ac["default"].locals||ac["default"]}var lc=Object(Re["a"])(ic,sc,oc,!0,rc,null,null),dc=lc.exports,cc=function(e,t){var s=t._c;return s("n8n-tooltip",{attrs:{content:" ",placement:"top"}},[s("div",{attrs:{slot:"content"},slot:"content"},[t._t("default")],2),s("font-awesome-icon",{class:t.$style["icon"],attrs:{icon:"exclamation-triangle"}})],1)},uc=[],hc=s("0034"),pc={};function mc(e){this["$style"]=hc["default"].locals||hc["default"]}var fc=Object(Re["a"])(pc,cc,uc,!0,mc,null,null),gc=fc.exports;o["default"].component("NodeIcon",tc),o["default"].component("TimeAgo",ol),o["default"].component("Badge",dc),o["default"].component("WarningTooltip",gc);var wc=o["default"].extend({components:{NodeIcon:tc,TimeAgo:ol,Badge:dc,WarningTooltip:gc},name:"UpdatesPanel",props:["version"],nodeName(e){return null!==e?e.displayName:"unknown"}}),vc=wc,yc=s("3f4d");function bc(e){this["$style"]=yc["default"].locals||yc["default"]}var kc=Object(Re["a"])(vc,Gd,qd,!0,bc,null,null),xc=kc.exports,Cc=o["default"].extend({name:"UpdatesPanel",components:{ModalDrawer:Yd,VersionCard:xc,TimeAgo:ol},computed:{...Object(De["b"])("versions",["nextVersions","currentVersion","infoUrl"])},data(){return{VERSIONS_MODAL_KEY:Ze["Bb"]}}}),_c=Cc,Ec=s("4a31");function $c(e){this["$style"]=Ec["default"].locals||Ec["default"]}var Nc=Object(Re["a"])(_c,Bd,jd,!1,$c,null,null),Tc=Nc.exports,Ic=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Modal",{attrs:{name:e.WORKFLOW_OPEN_MODAL_KEY,width:"80%",minWidth:"620px",classic:!0},scopedSlots:e._u([{key:"header",fn:function(){return[s("div",{staticClass:"workflows-header"},[s("n8n-heading",{staticClass:"title",attrs:{tag:"h1",size:"xlarge"}},[e._v(" Open Workflow ")]),s("div",{staticClass:"tags-filter"},[s("TagsDropdown",{attrs:{placeholder:"Filter by tags...",currentTagIds:e.filterTagIds,createEnabled:!1},on:{update:e.updateTagsFilter,esc:e.onTagsFilterEsc,blur:e.onTagsFilterBlur}})],1),s("div",{staticClass:"search-filter"},[s("n8n-input",{ref:"inputFieldFilter",attrs:{placeholder:"Search workflows..."},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}},[s("font-awesome-icon",{attrs:{slot:"prefix",icon:"search"},slot:"prefix"})],1)],1)],1)]},proxy:!0},{key:"content",fn:function(){return[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isDataLoading,expression:"isDataLoading"}],staticClass:"search-table",attrs:{data:e.filteredWorkflows,stripe:"","default-sort":{prop:"updatedAt",order:"descending"}},on:{"cell-click":e.openWorkflow}},[s("el-table-column",{attrs:{property:"name",label:"Name","class-name":"clickable",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",{key:t.row.id},[s("span",{staticClass:"name"},[e._v(e._s(t.row.name))]),s("TagsContainer",{staticClass:"hidden-sm-and-down",attrs:{tagIds:e.getIds(t.row.tags),limit:3,clickable:!0,hoverable:!0},on:{click:e.onTagClick}})],1)]}}])}),s("el-table-column",{attrs:{property:"createdAt",label:"Created","class-name":"clickable",width:"155",sortable:""}}),s("el-table-column",{attrs:{property:"updatedAt",label:"Updated","class-name":"clickable",width:"155",sortable:""}}),s("el-table-column",{attrs:{label:"Active",width:"75"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("workflow-activator",{attrs:{"workflow-active":t.row.active,"workflow-id":t.row.id},on:{workflowActiveChanged:e.workflowActiveChanged}})]}}])})],1)]},proxy:!0}])})},Sc=[],Oc=Object(Ke["a"])(Mt["a"],Bt["a"],qe["a"],Xe["a"]).extend({name:"WorkflowOpen",components:{WorkflowActivator:zt,TagsContainer:St,TagsDropdown:as,Modal:Go},props:["modalName"],data(){return{filterText:"",isDataLoading:!1,workflows:[],filterTagIds:[],prevFilterTagIds:[],WORKFLOW_OPEN_MODAL_KEY:Ze["Eb"]}},computed:{filteredWorkflows(){return this.workflows.filter(e=>!(this.filterText&&!e.name.toLowerCase().includes(this.filterText.toLowerCase()))&&(0===this.filterTagIds.length||!(!e.tags||0===e.tags.length)&&this.filterTagIds.reduce((t,s)=>t&&!!e.tags.find(e=>e.id===s),!0)))}},mounted(){this.filterText="",this.filterTagIds=[],this.openDialog(),o["default"].nextTick(()=>{this.$refs.inputFieldFilter.focus()})},methods:{getIds(e){return(e||[]).map(e=>e.id)},updateTagsFilter(e){this.filterTagIds=e},onTagClick(e){"count"===e||this.filterTagIds.includes(e)||this.filterTagIds.push(e)},async openWorkflow(e,t){if("Active"!==t.label){const t=this.$store.getters.workflowId;if(e.id===t)return void this.$showMessage({title:"Already open",message:"This is the current workflow",type:"error",duration:1500});const s=this.$store.getters.getStateIsDirty;if(s){const t=await this.confirmMessage("When you switch workflows your current workflow changes will be lost.","Save your Changes?","warning","Yes, switch workflows and forget changes");if(!1===t)return;this.$store.commit("setStateDirty",!1),this.$router.push({name:"NodeViewExisting",params:{name:e.id}})}else this.$router.push({name:"NodeViewExisting",params:{name:e.id}});this.$store.commit("ui/closeTopModal")}},openDialog(){this.isDataLoading=!0,this.restApi().getWorkflows().then(e=>{this.workflows=e,this.workflows.forEach(e=>{e.createdAt=Co(e.createdAt),e.updatedAt=Co(e.updatedAt)}),this.isDataLoading=!1}).catch(e=>{this.$showError(e,"Problem loading workflows","There was a problem loading the workflows:"),this.isDataLoading=!1})},workflowActiveChanged(e){for(const t of this.workflows)t.id===e.id&&(t.active=e.active)},onTagsFilterBlur(){this.prevFilterTagIds=this.filterTagIds},onTagsFilterEsc(){this.filterTagIds=this.prevFilterTagIds}}}),Ac=Oc,Dc=(s("0f00"),Object(Re["a"])(Ac,Ic,Sc,!1,null,"7de6ecee",null)),Pc=Dc.exports,Wc=o["default"].extend({name:"Modals",components:{CredentialEdit:Cl,CredentialsList:Il,CredentialsSelectModal:Ll,DuplicateWorkflowDialog:Hl,ModalRoot:Xl,PersonalizationModal:id,TagsManager:Md,UpdatesPanel:Tc,WorkflowSettings:Zo,WorkflowOpen:Pc},data:()=>({CREDENTIAL_EDIT_MODAL_KEY:Ze["r"],CREDENTIAL_LIST_MODAL_KEY:Ze["s"],CREDENTIAL_SELECT_MODAL_KEY:Ze["t"],DUPLICATE_MODAL_KEY:Ze["y"],PERSONALIZATION_MODAL_KEY:Ze["db"],TAGS_MANAGER_MODAL_KEY:Ze["wb"],VERSIONS_MODAL_KEY:Ze["Bb"],WORKFLOW_OPEN_MODAL_KEY:Ze["Eb"],WORKFLOW_SETTINGS_MODAL_KEY:Ze["Fb"]})}),Rc=Wc,Lc=Object(Re["a"])(Rc,Fa,za,!1,null,null,null),Vc=Lc.exports,Mc=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:{"node-wrapper":!0,selected:e.isSelected},style:e.nodePosition},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isSelected,expression:"isSelected"}],staticClass:"select-background"}),s("div",{ref:e.data.name,class:{"node-default":!0,"touch-active":e.isTouchActive,"is-touch-device":e.isTouchDevice},attrs:{"data-name":e.data.name}},[s("div",{directives:[{name:"touch",rawName:"v-touch:start",value:e.touchStart,expression:"touchStart",arg:"start"},{name:"touch",rawName:"v-touch:end",value:e.touchEnd,expression:"touchEnd",arg:"end"}],class:e.nodeClass,style:e.nodeStyle,on:{dblclick:e.setNodeActive,click:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:e.mouseLeftClick.apply(null,arguments)}}},[e.data.disabled?e._e():s("div",{class:{"node-info-icon":!0,"shift-icon":e.shiftOutputCount}},[e.hasIssues?s("div",{staticClass:"node-issues"},[s("n8n-tooltip",{attrs:{placement:"bottom"}},[s("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.nodeIssues)},slot:"content"}),s("font-awesome-icon",{attrs:{icon:"exclamation-triangle"}})],1)],1):e.waiting?s("div",{staticClass:"waiting"},[s("n8n-tooltip",{attrs:{placement:"bottom"}},[s("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.waiting)},slot:"content"}),s("font-awesome-icon",{attrs:{icon:"clock"}})],1)],1):e.workflowDataItems?s("span",{staticClass:"data-count"},[s("font-awesome-icon",{attrs:{icon:"check"}}),e.workflowDataItems>1?s("span",{staticClass:"items-count"},[e._v(" "+e._s(e.workflowDataItems))]):e._e()],1):e._e()]),s("div",{staticClass:"node-executing-info",attrs:{title:"Node is executing"}},[s("font-awesome-icon",{attrs:{icon:"sync-alt",spin:""}})],1),s("NodeIcon",{staticClass:"node-icon",attrs:{nodeType:e.nodeType,size:40,shrink:!1,disabled:this.data.disabled}})],1),e.isReadOnly?e._e():s("div",{directives:[{name:"show",rawName:"v-show",value:!e.hideActions,expression:"!hideActions"}],staticClass:"node-options no-select-on-click"},[s("div",{directives:[{name:"touch",rawName:"v-touch:tap",value:e.deleteNode,expression:"deleteNode",arg:"tap"}],staticClass:"option",attrs:{title:"Delete Node"}},[s("font-awesome-icon",{attrs:{icon:"trash"}})],1),s("div",{directives:[{name:"touch",rawName:"v-touch:tap",value:e.disableNode,expression:"disableNode",arg:"tap"}],staticClass:"option",attrs:{title:"Activate/Deactivate Node"}},[s("font-awesome-icon",{attrs:{icon:e.nodeDisabledIcon}})],1),s("div",{directives:[{name:"touch",rawName:"v-touch:tap",value:e.duplicateNode,expression:"duplicateNode",arg:"tap"}],staticClass:"option",attrs:{title:"Duplicate Node"}},[s("font-awesome-icon",{attrs:{icon:"clone"}})],1),e.isReadOnly?e._e():s("div",{directives:[{name:"touch",rawName:"v-touch:tap",value:e.setNodeActive,expression:"setNodeActive",arg:"tap"}],staticClass:"option touch",attrs:{title:"Edit Node"}},[s("font-awesome-icon",{staticClass:"execute-icon",attrs:{icon:"cog"}})],1),e.isReadOnly||e.workflowRunning?e._e():s("div",{directives:[{name:"touch",rawName:"v-touch:tap",value:e.executeNode,expression:"executeNode",arg:"tap"}],staticClass:"option",attrs:{title:"Execute Node"}},[s("font-awesome-icon",{staticClass:"execute-icon",attrs:{icon:"play-circle"}})],1)]),e.showDisabledLinethrough?s("div",{class:{"disabled-linethrough":!0,success:e.workflowDataItems>0}}):e._e()]),s("div",{staticClass:"node-description"},[s("div",{staticClass:"node-name",attrs:{title:e.data.name}},[s("p",[e._v(e._s(e.nodeTitle))]),e.data.disabled?s("p",[e._v("(Disabled)")]):e._e()]),void 0!==e.nodeSubtitle?s("div",{staticClass:"node-subtitle",attrs:{title:e.nodeSubtitle}},[e._v(" "+e._s(e.nodeSubtitle)+" ")]):e._e()])])},Bc=[];const jc=Object(Ke["a"])(vn,yn).extend({mounted(){null!==this.data&&this.__addNode(this.data)},computed:{data(){return this.$store.getters.getNodeByName(this.name)},nodeId(){return Ze["X"]+this.nodeIndex},nodeIndex(){return this.$store.getters.getNodeIndex(this.data.name).toString()}},props:["name","instance","isReadOnly","isActive","hideActions"],methods:{__addInputEndpoints(e,t){let s;const o={};t.inputs.forEach((n,i)=>{o.hasOwnProperty(n)?o[n]++:o[n]=0,s=o[n];const a=Xn.input[t.inputs.length][s],r={uuid:Wi(this.nodeIndex,s),anchor:a,maxConnections:-1,endpoint:"Rectangle",endpointStyle:Zn(t,"--color-foreground-xdark"),endpointHoverStyle:Zn(t,"--color-primary"),isSource:!1,isTarget:!this.isReadOnly,parameters:{nodeIndex:this.nodeIndex,type:n,index:s},enabled:!this.isReadOnly,dragAllowedWhenFull:!0,dropOptions:{tolerance:"touch",hoverClass:"dropHover"}};t.inputNames&&(r.overlays=[Qn(t.inputNames[s])]);const l=this.instance.addEndpoint(this.nodeId,r);l.__meta={nodeName:e.name,index:i}})},__addOutputEndpoints(e,t){let s;const o={};t.outputs.forEach((n,i)=>{o.hasOwnProperty(n)?o[n]++:o[n]=0,s=o[n];const a=Xn.output[t.outputs.length][s],r={uuid:Pi(this.nodeIndex,s),anchor:a,maxConnections:-1,endpoint:"Dot",endpointStyle:ei(t,"--color-foreground-xdark"),endpointHoverStyle:ei(t,"--color-primary"),isSource:!0,isTarget:!1,enabled:!this.isReadOnly,parameters:{nodeIndex:this.nodeIndex,type:n,index:s},dragAllowedWhenFull:!1,dragProxy:["Rectangle",{width:1,height:1,strokeWidth:0}]};t.outputNames&&(r.overlays=[ti(t.outputNames[s])]);const l=this.instance.addEndpoint(this.nodeId,r);l.__meta={nodeName:e.name,index:i}})},__makeInstanceDraggable(e){this.instance.draggable(this.nodeId,{grid:[Sn,Sn],start:e=>!0!==this.isReadOnly&&(e.e&&!this.$store.getters.isNodeSelected(this.data.name)&&(this.instance.clearDragSelection(),this.$store.commit("resetSelectedNodes")),this.$store.commit("addActiveAction","dragActive"),!0),stop:t=>{if(this.$store.getters.isActionActive("dragActive")){const t=this.$store.getters.getSelectedNodes.slice(),s=t.map(e=>e.name);let o;s.includes(this.data.name)||t.push(this.data),t.forEach(e=>{const t="node-"+this.getNodeIndex(e.name),s=document.getElementById(t);if(null===s)return;o=[parseInt(s.style.left.slice(0,-2),10),parseInt(s.style.top.slice(0,-2),10)];const n={name:e.name,properties:{position:o}};this.$store.commit("updateNodeProperties",n)}),this.$emit("moved",e)}},filter:".node-description, .node-description .node-name, .node-description .node-subtitle"})},__addNode(e){let t=this.$store.getters.nodeType(e.type);t||(t=this.$store.getters.nodeType(Ze["Y"])),this.__addInputEndpoints(e,t),this.__addOutputEndpoints(e,t),this.__makeInstanceDraggable(e)},touchEnd(e){this.isTouchDevice&&this.$store.getters.isActionActive("dragActive")&&this.$store.commit("removeActiveAction","dragActive")},mouseLeftClick(e){const t=e.path||e.composedPath&&e.composedPath();for(let s=0;s<t.length;s++)if(t[s].className&&"string"===typeof t[s].className&&t[s].className.includes("no-select-on-click"))return;this.isTouchDevice||(this.$store.getters.isActionActive("dragActive")?this.$store.commit("removeActiveAction","dragActive"):(!1===this.isCtrlKeyPressed(e)&&this.$emit("deselectAllNodes"),this.$store.getters.isNodeSelected(this.data.name)?this.$emit("deselectNode",this.name):this.$emit("nodeSelected",this.name)))}}});var Uc=Object(Ke["a"])(Ye["a"],jc,Ge["a"],Xe["a"]).extend({name:"Node",components:{NodeIcon:tc},computed:{nodeRunData(){return this.$store.getters.getWorkflowResultDataByNodeName(this.data.name)},hasIssues(){return!(void 0===this.data.issues||!Object.keys(this.data.issues).length)},workflowDataItems(){const e=this.nodeRunData;return null===e?0:e.length},isExecuting(){return this.$store.getters.executingNode===this.data.name},nodeType(){return this.$store.getters.nodeType(this.data.type)},nodeClass(){return{"node-box":!0,disabled:this.data.disabled,executing:this.isExecuting}},nodeIssues(){if(void 0===this.data.issues)return"";const e=Qo["NodeHelpers"].nodeIssuesToString(this.data.issues,this.data);return"Issues:<br />&nbsp;&nbsp;- "+e.join("<br />&nbsp;&nbsp;- ")},nodeDisabledIcon(){return!1===this.data.disabled?"pause":"play"},position(){const e=this.$store.getters.nodesByName[this.name];return e.position},showDisabledLinethrough(){return!(!this.data.disabled||!this.nodeType||1!==this.nodeType.inputs.length||1!==this.nodeType.outputs.length)},nodePosition(){const e={left:this.position[0]+"px",top:this.position[1]+"px"};return e},nodeTitle(){return this.data.name},waiting(){const e=this.$store.getters.getWorkflowExecution;if(e&&e.waitTill){const t=Object(No["get"])(e,"data.resultData.lastNodeExecuted");if(this.name===t){const t=new Date(e.waitTill);return t.toISOString()===Ze["Cb"]?"The node is waiting indefinitely for an incoming webhook call.":`Node is waiting till ${t.toLocaleDateString()} ${t.toLocaleTimeString()}`}}},workflowRunning(){return this.$store.getters.isActionActive("workflowRunning")},nodeStyle(){let e=$o("--color-foreground-xdark");this.data.disabled?e=$o("--color-foreground-base"):this.isExecuting||(this.hasIssues?e=$o("--color-danger"):this.waiting?e=$o("--color-secondary"):this.workflowDataItems&&(e=$o("--color-success")));const t={"border-color":e};return t},isSelected(){return this.$store.getters.getSelectedNodes.find(e=>e.name===this.data.name)},shiftOutputCount(){return!!(this.nodeType&&this.nodeType.outputs.length>2)}},watch:{isActive(e,t){!e&&t&&this.setSubtitle()},nodeRunData(e){this.$emit("run",{name:this.data.name,data:e,waiting:!!this.waiting})}},mounted(){this.setSubtitle(),setTimeout(()=>{this.$emit("run",{name:this.data.name,data:this.nodeRunData,waiting:!!this.waiting})},0)},data(){return{isTouchActive:!1,nodeSubtitle:""}},methods:{setSubtitle(){this.nodeSubtitle=this.getNodeSubtitle(this.data,this.nodeType,this.getWorkflow())||""},disableNode(){this.disableNodes([this.data]),this.$telemetry.track("User set node enabled status",{node_type:this.data.type,is_enabled:!this.data.disabled,workflow_id:this.$store.getters.workflowId})},executeNode(){this.$emit("runWorkflow",this.data.name,"Node.executeNode")},deleteNode(){this.$externalHooks().run("node.deleteNode",{node:this.data}),this.$telemetry.track("User deleted node",{node_type:this.data.type,workflow_id:this.$store.getters.workflowId}),o["default"].nextTick(()=>{this.$emit("removeNode",this.data.name)})},duplicateNode(){o["default"].nextTick(()=>{this.$emit("duplicateNode",this.data.name)})},setNodeActive(){this.$store.commit("setActiveNode",this.data.name)},touchStart(){!0===this.isTouchDevice&&!1===this.isMacOs&&!1===this.isTouchActive&&(this.isTouchActive=!0,setTimeout(()=>{this.isTouchActive=!1},2e3))}}}),Fc=Uc,zc=(s("41ea"),s("a228"),Object(Re["a"])(Fc,Mc,Bc,!1,null,"35916da6",null)),Hc=zc.exports,Kc=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("SlideTransition",[e.active?s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.onClickOutside,expression:"onClickOutside"}],staticClass:"node-creator"},[s("MainPanel",{attrs:{categorizedItems:e.categorizedItems,categoriesWithNodes:e.categoriesWithNodes,searchItems:e.searchItems},on:{nodeTypeSelected:e.nodeTypeSelected}})],1):e._e()])],1)},Yc=[],Gc=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"slide"}},[e._t("default")],2)},qc=[],Jc=o["default"].extend({name:"SlideTransition"}),Xc=Jc,Zc=(s("07f7"),Object(Re["a"])(Xc,Gc,qc,!1,null,"7c3ccab7",null)),Qc=Zc.exports,eu=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container",on:{click:e.onClickInside}},[s("SlideTransition",[e.activeSubcategory?s("SubcategoryPanel",{attrs:{elements:e.subcategorizedNodes,title:e.activeSubcategory.properties.subcategory,activeIndex:e.activeSubcategoryIndex},on:{close:e.onSubcategoryClose,selected:e.selected}}):e._e()],1),s("div",{staticClass:"main-panel"},[s("SearchBar",{attrs:{eventBus:e.searchEventBus},nativeOn:{keydown:function(t){return e.nodeFilterKeyDown.apply(null,arguments)}},model:{value:e.nodeFilter,callback:function(t){e.nodeFilter=t},expression:"nodeFilter"}}),s("div",{staticClass:"type-selector"},[s("el-tabs",{attrs:{stretch:""},model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}},[s("el-tab-pane",{attrs:{label:"All",name:e.ALL_NODE_FILTER}}),s("el-tab-pane",{attrs:{label:"Regular",name:e.REGULAR_NODE_FILTER}}),s("el-tab-pane",{attrs:{label:"Trigger",name:e.TRIGGER_NODE_FILTER}})],1)],1),0===e.searchFilter.length?s("div",{staticClass:"scrollable"},[s("ItemIterator",{attrs:{elements:e.categorized,disabled:!!e.activeSubcategory,activeIndex:e.activeIndex,transitionsEnabled:!0},on:{selected:e.selected}})],1):e.filteredNodeTypes.length>0?s("div",{staticClass:"scrollable"},[s("ItemIterator",{attrs:{elements:e.filteredNodeTypes,activeIndex:e.activeIndex},on:{selected:e.selected}})],1):s("NoResults",{on:{nodeTypeSelected:e.nodeTypeSelected}})],1)],1)},tu=[],su=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s(e.transitionsEnabled?"transition-group":"div",{tag:"div",attrs:{name:"accordion"},on:{"before-enter":e.beforeEnter,enter:e.enter,"before-leave":e.beforeLeave,leave:e.leave}},e._l(e.elements,(function(t,o){return s("div",{key:t.key,class:t.type,attrs:{"data-key":t.key}},[s("CreatorItem",{attrs:{item:t,active:e.activeIndex===o&&!e.disabled,clickable:!e.disabled,lastNode:o===e.elements.length-1||"node"!==e.elements[o+1].type},on:{click:function(){return e.selected(t)}}})],1)})),0)],1)},ou=[],nu=function(e,t){var s=t._c;return s("div",{class:{container:!0,clickable:t.props.clickable,active:t.props.active},on:{click:t.listeners["click"]}},["category"===t.props.item.type?s("CategoryItem",{attrs:{item:t.props.item}}):"subcategory"===t.props.item.type?s("SubcategoryItem",{attrs:{item:t.props.item}}):"node"===t.props.item.type?s("NodeItem",{attrs:{nodeType:t.props.item.properties.nodeType,bordered:!t.props.lastNode}}):t._e()],1)},iu=[],au=function(e,t){var s,o=t._c;return o("div",{class:(s={},s[t.$style["node-item"]]=!0,s[t.$style.bordered]=t.props.bordered,s)},[o("NodeIcon",{class:t.$style["node-icon"],attrs:{nodeType:t.props.nodeType}}),o("div",[o("div",{class:t.$style.details},[o("span",{class:t.$style.name},[t._v(t._s(t.props.nodeType.displayName))]),o("span",{class:t.$style["trigger-icon"]},[t.$options.isTrigger(t.props.nodeType)?o("TriggerIcon"):t._e()],1)]),o("div",{class:t.$style.description},[t._v(" "+t._s(t.props.nodeType.description)+" ")])])],1)},ru=[],lu=function(e,t){var s=t._c;return s("span",{class:t.$style.trigger},[s("svg",{attrs:{width:"36px",height:"36px",viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[s("title",[t._v("Trigger node")]),s("g",{attrs:{id:"/integrations-(V1-feature)",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[s("g",{attrs:{id:"Individual-node-view",transform:"translate(-304.000000, -137.000000)","fill-rule":"nonzero"}},[s("g",{attrs:{id:"left-column",transform:"translate(120.000000, 131.000000)"}},[s("g",{attrs:{id:"trigger-badge",transform:"translate(178.000000, 0.000000)"}},[s("g",{attrs:{id:"trigger-icon",transform:"translate(6.857143, 6.857143)"}},[s("g",{attrs:{id:"Icon",transform:"translate(8.571429, 0.000000)",fill:"#FF6150"}},[s("polygon",{attrs:{id:"Icon-Path",points:"7.14285714 21.4285714 0 21.4285714 10 1.42857143 10 12.8571429 17.1428571 12.8571429 7.14285714 32.8571429"}})]),s("rect",{attrs:{id:"ViewBox",x:"0",y:"0",width:"34.2857143",height:"34.2857143"}})])])])])])])])},du=[],cu={name:"TriggerIcon"},uu=cu,hu=s("a02c");function pu(e){this["$style"]=hu["default"].locals||hu["default"]}var mu=Object(Re["a"])(uu,lu,du,!0,pu,null,null),fu=mu.exports;o["default"].component("NodeIcon",tc),o["default"].component("TriggerIcon",fu);var gu={props:["active","filter","nodeType","bordered"],isTrigger(e){return e.group.includes("trigger")}},wu=gu,vu=s("c306");function yu(e){this["$style"]=vu["default"].locals||vu["default"]}var bu=Object(Re["a"])(wu,au,ru,!0,yu,null,null),ku=bu.exports,xu=function(e,t){var s=t._c;return s("div",{class:t.$style.category},[s("span",{class:t.$style.name},[t._v(t._s(t.props.item.category))]),t.props.item.properties.expanded?s("font-awesome-icon",{class:t.$style.arrow,attrs:{icon:"chevron-down"}}):s("font-awesome-icon",{class:t.$style.arrow,attrs:{icon:"chevron-up"}})],1)},Cu=[],_u={props:["item"]},Eu=_u,$u=s("dd28");function Nu(e){this["$style"]=$u["default"].locals||$u["default"]}var Tu=Object(Re["a"])(Eu,xu,Cu,!0,Nu,null,null),Iu=Tu.exports,Su=function(e,t){var s=t._c;return s("div",{class:t.$style.subcategory},[s("div",{class:t.$style.details},[s("div",{class:t.$style.title},[t._v(t._s(t.props.item.properties.subcategory))]),t.props.item.properties.description?s("div",{class:t.$style.description},[t._v(" "+t._s(t.props.item.properties.description)+" ")]):t._e()]),s("div",{class:t.$style.action},[s("font-awesome-icon",{class:t.$style.arrow,attrs:{icon:"arrow-right"}})],1)])},Ou=[],Au={props:["item"]},Du=Au,Pu=s("5d38");function Wu(e){this["$style"]=Pu["default"].locals||Pu["default"]}var Ru=Object(Re["a"])(Du,Su,Ou,!0,Wu,null,null),Lu=Ru.exports;o["default"].component("CategoryItem",Iu),o["default"].component("SubcategoryItem",Lu),o["default"].component("NodeItem",ku);var Vu={props:["item","active","clickable","lastNode"]},Mu=Vu,Bu=(s("2df2"),Object(Re["a"])(Mu,nu,iu,!0,null,"df458df6",null)),ju=Bu.exports,Uu=o["default"].extend({name:"ItemIterator",components:{CreatorItem:ju},props:["elements","activeIndex","disabled","transitionsEnabled"],methods:{selected(e){this.$props.disabled||this.$emit("selected",e)},beforeEnter(e){e.style.height="0"},enter(e){e.style.height=e.scrollHeight+"px"},beforeLeave(e){e.style.height=e.scrollHeight+"px"},leave(e){e.style.height="0"}}}),Fu=Uu,zu=(s("db89"),Object(Re["a"])(Fu,su,ou,!1,null,"5348e4f5",null)),Hu=zu.exports,Ku=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"no-results"},[s("div",{staticClass:"icon"},[s("NoResultsIcon")],1),s("div",{staticClass:"title"},[s("div",[e._v("We didn't make that... yet")]),s("div",{staticClass:"action"},[e._v(" Don’t worry, you can probably do it with the "),s("a",{on:{click:e.selectHttpRequest}},[e._v("HTTP Request")]),e._v(" or "),s("a",{on:{click:e.selectWebhook}},[e._v("Webhook")]),e._v(" node ")])]),s("div",{staticClass:"request"},[s("div",[e._v("Want us to make it faster?")]),s("div",[s("a",{attrs:{href:e.REQUEST_NODE_FORM_URL,target:"_blank"}},[s("span",[e._v("Request the node")]),e._v("  "),s("span",[s("font-awesome-icon",{staticClass:"external",attrs:{icon:"external-link-alt",title:"Request the node"}})],1)])])])])},Yu=[],Gu=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("svg",{attrs:{width:"75px",height:"75px",viewBox:"0 0 75 75",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[s("title",[e._v("no-nodes-keyart")]),s("g",{attrs:{id:"Nodes-panel-prototype-V2.1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[s("g",{attrs:{id:"nodes-panel-(component)",transform:"translate(-2085.000000, -352.000000)"}},[s("g",{attrs:{id:"nodes_panel",transform:"translate(1880.000000, 151.000000)"}},[s("g",{attrs:{id:"Panel",transform:"translate(50.000000, 0.000000)"}},[s("g",{attrs:{id:"Group-3",transform:"translate(105.000000, 171.000000)"}},[s("g",{attrs:{id:"no-nodes-keyart",transform:"translate(50.000000, 30.000000)"}},[s("rect",{attrs:{id:"Rectangle",x:"0",y:"0",width:"75",height:"75"}}),s("g",{attrs:{id:"Group",transform:"translate(6.562500, 8.164062)",fill:"#C4C8D1","fill-rule":"nonzero"}},[s("polygon",{attrs:{id:"Rectangle",transform:"translate(49.192016, 45.302553) rotate(-45.000000) translate(-49.192016, -45.302553) ",points:"44.5045606 32.0526802 53.8794707 32.0526802 53.8794707 58.5524261 44.5045606 58.5524261"}}),s("path",{attrs:{d:"M48.125,23.0859375 C54.15625,23.0859375 59.0625,18.1796875 59.0625,12.1484375 C59.0625,10.3359375 58.5625,8.6484375 57.78125,7.1484375 L49.34375,15.5859375 L44.6875,10.9296875 L53.125,2.4921875 C51.625,1.7109375 49.9375,1.2109375 48.125,1.2109375 C42.09375,1.2109375 37.1875,6.1171875 37.1875,12.1484375 C37.1875,13.4296875 37.4375,14.6484375 37.84375,15.7734375 L32.0625,21.5546875 L26.5,15.9921875 L28.71875,13.7734375 L24.3125,9.3671875 L30.9375,2.7421875 C27.28125,-0.9140625 21.34375,-0.9140625 17.6875,2.7421875 L6.625,13.8046875 L11.03125,18.2109375 L2.21875,18.2109375 L1.38777878e-15,20.4296875 L11.0625,31.4921875 L13.28125,29.2734375 L13.28125,20.4296875 L17.6875,24.8359375 L19.90625,22.6171875 L25.46875,28.1796875 L2.3125,51.3359375 L8.9375,57.9609375 L44.5,22.4296875 C45.625,22.8359375 46.84375,23.0859375 48.125,23.0859375 Z",id:"Path"}})])])])])])])])])},qu=[],Ju={},Xu=Object(Re["a"])(Ju,Gu,qu,!1,null,null,null),Zu=Xu.exports,Qu=o["default"].extend({name:"NoResults",components:{NoResultsIcon:Zu},data(){return{REQUEST_NODE_FORM_URL:Ze["kb"]}},computed:{basePath(){return this.$store.getters.getBaseUrl}},methods:{selectWebhook(){this.$emit("nodeTypeSelected",Ze["Db"])},selectHttpRequest(){this.$emit("nodeTypeSelected",Ze["J"])}}}),eh=Qu,th=(s("c62a"),Object(Re["a"])(eh,Ku,Yu,!1,null,"11c10ce0",null)),sh=th.exports,oh=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"search-container"},[s("div",{class:{prefix:!0,active:e.value.length>0}},[s("font-awesome-icon",{attrs:{icon:"search"}})],1),s("div",{staticClass:"text"},[s("input",{ref:"input",attrs:{placeholder:"Search nodes..."},domProps:{value:e.value},on:{input:e.onInput}})]),e.value.length>0?s("div",{staticClass:"suffix",on:{click:e.clear}},[s("span",{staticClass:"clear el-icon-close clickable"})]):e._e()])},nh=[],ih=Object(Ke["a"])(Ye["a"]).extend({name:"SearchBar",props:["value","eventBus"],mounted(){this.$props.eventBus&&this.$props.eventBus.$on("focus",()=>{this.focus()}),setTimeout(()=>{this.focus()},0),this.$externalHooks().run("nodeCreator_searchBar.mount",{inputRef:this.$refs["input"]})},methods:{focus(){const e=this.$refs.input;e&&e.focus()},onInput(e){const t=e.target;this.$emit("input",t.value)},clear(){this.$emit("input","")}}}),ah=ih,rh=(s("cff9"),Object(Re["a"])(ah,oh,nh,!1,null,"e107bdaa",null)),lh=rh.exports,dh=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"subcategory-panel"},[s("div",{staticClass:"subcategory-header"},[s("div",{staticClass:"clickable",on:{click:e.onBackArrowClick}},[s("font-awesome-icon",{staticClass:"back-arrow",attrs:{icon:"arrow-left"}})],1),s("span",[e._v(e._s(e.title))])]),s("div",{staticClass:"scrollable"},[s("ItemIterator",{attrs:{elements:e.elements,activeIndex:e.activeIndex},on:{selected:e.selected}})],1)])},ch=[],uh=o["default"].extend({name:"SubcategoryPanel",components:{ItemIterator:Hu},props:["title","elements","activeIndex"],methods:{selected(e){this.$emit("selected",e)},onBackArrowClick(){this.$emit("close")}}}),hh=uh,ph=(s("4ba5"),Object(Re["a"])(hh,dh,ch,!1,null,"742ed01d",null)),mh=ph.exports;const fh=(e,t,s,o)=>{e[s]||(e[s]={}),e[s][o]||(e[s][o]={triggerCount:0,regularCount:0,nodes:[]});const n=t.group.includes("trigger");n&&e[s][o].triggerCount++,n||e[s][o].regularCount++,e[s][o].nodes.push({type:"node",key:`${s}_${t.name}`,category:s,properties:{nodeType:t,subcategory:o},includedByTrigger:n,includedByRegular:!n})},gh=(e,t)=>{const s=[...e].sort((e,t)=>e.displayName>t.displayName?1:-1);return s.reduce((e,s)=>(t.includes(s.name)&&fh(e,s,Ze["eb"],Ze["Ab"]),s.codex&&s.codex.categories?(s.codex.categories.forEach(t=>{const o=t.trim(),n=s.codex&&s.codex.subcategories&&s.codex.subcategories[o]?s.codex.subcategories[o][0]:Ze["Ab"];fh(e,s,o,n)}),e):(fh(e,s,Ze["zb"],Ze["Ab"]),e)),{})},wh=e=>{const t=[Ze["q"],Ze["v"],Ze["zb"],Ze["eb"]],s=Object.keys(e),o=s.filter(e=>!t.includes(e));return o.sort(),[Ze["q"],Ze["v"],Ze["eb"],...o,Ze["zb"]]},vh=e=>{const t=wh(e);return t.reduce((t,s)=>{if(!e[s])return t;const o={type:"category",key:s,category:s,properties:{expanded:!1}},n=Object.keys(e[s]);if(1===n.length){const i=e[s][n[0]];return i.triggerCount>0&&(o.includedByTrigger=i.triggerCount>0),i.regularCount>0&&(o.includedByRegular=i.regularCount>0),[...t,o,...i.nodes]}n.sort();const i=n.reduce((t,n)=>{const i={type:"subcategory",key:`${s}_${n}`,category:s,properties:{subcategory:n,description:Ze["tb"][s][n]},includedByTrigger:e[s][n].triggerCount>0,includedByRegular:e[s][n].regularCount>0};return i.includedByTrigger&&(o.includedByTrigger=!0),i.includedByRegular&&(o.includedByRegular=!0),t.push(i),t},[]);return[...t,o,...i]},[])},yh=(e,t)=>!(t!==Ze["jb"]||!e.includedByRegular)||(!(t!==Ze["yb"]||!e.includedByTrigger)||t===Ze["a"]),bh=(e,t)=>!(!e.codex||!e.codex.alias)&&e.codex.alias.reduce((e,s)=>e||s.toLowerCase().indexOf(t)>-1,!1),kh=(e,t)=>{const s=e.properties.nodeType;return-1!==s.displayName.toLowerCase().indexOf(t)||bh(s,t)};var xh=Object(Ke["a"])(Ye["a"]).extend({name:"NodeCreateList",components:{ItemIterator:Hu,NoResults:sh,SubcategoryPanel:mh,SlideTransition:Qc,SearchBar:lh},props:["categorizedItems","categoriesWithNodes","searchItems"],data(){return{activeCategory:[],activeSubcategory:null,activeIndex:1,activeSubcategoryIndex:0,nodeFilter:"",selectedType:Ze["a"],searchEventBus:new o["default"],REGULAR_NODE_FILTER:Ze["jb"],TRIGGER_NODE_FILTER:Ze["yb"],ALL_NODE_FILTER:Ze["a"]}},computed:{searchFilter(){return this.nodeFilter.toLowerCase().trim()},filteredNodeTypes(){const e=this.searchItems,t=this.searchFilter,s=e.filter(e=>t&&yh(e,this.selectedType)&&kh(e,t));return setTimeout(()=>{this.$externalHooks().run("nodeCreateList.filteredNodeTypesComputed",{nodeFilter:this.nodeFilter,result:s,selectedType:this.selectedType})},0),s},categorized(){return this.categorizedItems&&this.categorizedItems.reduce((e,t)=>("category"===t.type||this.activeCategory.includes(t.category))&&yh(t,this.selectedType)?"category"===t.type?(e.push({...t,properties:{expanded:this.activeCategory.includes(t.category)}}),e):(e.push(t),e):e,[])},subcategorizedNodes(){const e=this.activeSubcategory,t=e.category,s=e.properties.subcategory;return e&&this.categoriesWithNodes[t][s].nodes.filter(e=>yh(e,this.selectedType))}},watch:{nodeFilter(e,t){this.activeIndex=0,this.$externalHooks().run("nodeCreateList.nodeFilterChanged",{oldValue:t,newValue:e,selectedType:this.selectedType,filteredNodes:this.filteredNodeTypes}),this.$telemetry.trackNodesPanel("nodeCreateList.nodeFilterChanged",{oldValue:t,newValue:e,selectedType:this.selectedType,filteredNodes:this.filteredNodeTypes,workflow_id:this.$store.getters.workflowId})},selectedType(e,t){this.$externalHooks().run("nodeCreateList.selectedTypeChanged",{oldValue:t,newValue:e}),this.$telemetry.trackNodesPanel("nodeCreateList.selectedTypeChanged",{old_filter:t,new_filter:e,workflow_id:this.$store.getters.workflowId})}},methods:{nodeFilterKeyDown(e){if(["Escape","Tab"].includes(e.key)||e.stopPropagation(),this.activeSubcategory){const t=this.subcategorizedNodes,s=t[this.activeSubcategoryIndex];return void("ArrowDown"===e.key&&this.activeSubcategory?(this.activeSubcategoryIndex++,this.activeSubcategoryIndex=Math.min(this.activeSubcategoryIndex,t.length-1)):"ArrowUp"===e.key&&this.activeSubcategory?(this.activeSubcategoryIndex--,this.activeSubcategoryIndex=Math.max(this.activeSubcategoryIndex,0)):"Enter"===e.key?this.selected(s):"ArrowLeft"===e.key&&this.onSubcategoryClose())}let t;t=this.searchFilter.length>0?this.filteredNodeTypes:this.categorized;const s=t[this.activeIndex];"ArrowDown"===e.key?(this.activeIndex++,this.activeIndex=Math.min(this.activeIndex,t.length-1)):"ArrowUp"===e.key?(this.activeIndex--,this.activeIndex=Math.max(this.activeIndex,0)):("Enter"===e.key&&s||"ArrowRight"===e.key&&s&&"subcategory"===s.type||"ArrowRight"===e.key&&s&&"category"===s.type&&!s.properties.expanded||"ArrowLeft"===e.key&&s&&"category"===s.type&&s.properties.expanded)&&this.selected(s)},selected(e){if("node"===e.type){const t=e.properties;this.nodeTypeSelected(t.nodeType.name)}else"category"===e.type?this.onCategorySelected(e.category):"subcategory"===e.type&&this.onSubcategorySelected(e)},nodeTypeSelected(e){this.$emit("nodeTypeSelected",e)},onCategorySelected(e){this.activeCategory.includes(e)?this.activeCategory=this.activeCategory.filter(t=>t!==e):(this.activeCategory=[...this.activeCategory,e],this.$telemetry.trackNodesPanel("nodeCreateList.onCategoryExpanded",{category_name:e,workflow_id:this.$store.getters.workflowId})),this.activeIndex=this.categorized.findIndex(t=>t.category===e)},onSubcategorySelected(e){this.activeSubcategoryIndex=0,this.activeSubcategory=e,this.$telemetry.trackNodesPanel("nodeCreateList.onSubcategorySelected",{selected:e,workflow_id:this.$store.getters.workflowId})},onSubcategoryClose(){this.activeSubcategory=null,this.activeSubcategoryIndex=0,this.nodeFilter=""},onClickInside(){this.searchEventBus.$emit("focus")}},async mounted(){this.$nextTick(()=>{this.activeCategory=[Ze["q"]]}),this.$externalHooks().run("nodeCreateList.mounted")},async destroyed(){this.$externalHooks().run("nodeCreateList.destroyed"),this.$telemetry.trackNodesPanel("nodeCreateList.destroyed",{workflow_id:this.$store.getters.workflowId})}}),Ch=xh,_h=(s("0e5c"),Object(Re["a"])(Ch,eu,tu,!1,null,"1cd12ed2",null)),Eh=_h.exports,$h=o["default"].extend({name:"NodeCreator",components:{MainPanel:Eh,SlideTransition:Qc},props:["active"],data(){return{allNodeTypes:[]}},computed:{...Object(De["b"])("settings",["personalizedNodeTypes"]),nodeTypes(){return this.$store.getters.allNodeTypes},visibleNodeTypes(){return this.allNodeTypes.filter(e=>!Ze["H"].includes(e.name)).reduce((e,t)=>{const s=e.findIndex(e=>e.name===t.name);return s>=0&&e[s].version<t.version?e[s]=t:e.push(t),e},[])},categoriesWithNodes(){return gh(this.visibleNodeTypes,this.personalizedNodeTypes)},categorizedItems(){return vh(this.categoriesWithNodes)},searchItems(){const e=[...this.visibleNodeTypes];return e.sort((e,t)=>{const s=e.displayName.toLowerCase(),o=t.displayName.toLowerCase();return s<o?-1:s>o?1:0}),e.map(e=>({type:"node",category:"",key:""+e.name,properties:{nodeType:e,subcategory:""},includedByTrigger:e.group.includes("trigger"),includedByRegular:!e.group.includes("trigger")}))}},methods:{onClickOutside(e){"click"===e.type&&this.$emit("closeNodeCreator")},nodeTypeSelected(e){this.$emit("nodeTypeSelected",e)}},watch:{nodeTypes(e,t){0===t.length&&(this.allNodeTypes=e)}}}),Nh=$h,Th=(s("2dcf"),Object(Re["a"])(Nh,Kc,Yc,!1,null,"f4b750a6",null)),Ih=Th.exports,Sh=s("2159"),Oh=(s("2dd6"),Object(Ke["a"])(wn,Ye["a"],Mt["a"],Ri,Mi,Bt["a"],qe["a"],Je,Xe["a"],en,Bi).extend({name:"NodeView",components:{DataDisplay:Ua,Modals:Vc,Node:Hc,NodeCreator:Ih,NodeSettings:wa,RunData:Va},errorCaptured:(e,t,s)=>{console.error("errorCaptured"),console.error(e)},watch:{$route:"initView",activeNode(){this.createNodeActive=!1},nodes:{async handler(e,t){let s=null;this.$route&&this.$route.params.name&&(s=this.$route.params.name)},deep:!0},connections:{async handler(e,t){let s=null;this.$route&&this.$route.params.name&&(s=this.$route.params.name)},deep:!0}},async beforeRouteLeave(e,t,s){const o=this.$store.getters.getStateIsDirty;if(o){const e=await this.confirmMessage("When you switch workflows your current workflow changes will be lost.","Save your Changes?","warning","Yes, switch workflows and forget changes");!1===e?s(!1):(this.$store.commit("setStateDirty",!1),s())}else s()},computed:{...Object(De["b"])("ui",["sidebarMenuCollapsed"]),activeNode(){return this.$store.getters.activeNode},executionWaitingForWebhook(){return this.$store.getters.executionWaitingForWebhook},lastSelectedNode(){return this.$store.getters.lastSelectedNode},nodes(){return this.$store.getters.allNodes},runButtonText(){return!1===this.workflowRunning?"Execute Workflow":!0===this.executionWaitingForWebhook?"Waiting for Webhook-Call":"Executing Workflow"},workflowStyle(){const e=this.$store.getters.getNodeViewOffsetPosition;return{left:e[0]+"px",top:e[1]+"px"}},backgroundStyle(){return bi(this.nodeViewScale,this.$store.getters.getNodeViewOffsetPosition)},workflowClasses(){const e=[];return!0===this.ctrlKeyPressed&&(!0===this.$store.getters.isNodeViewMoveInProgress?e.push("move-in-process"):e.push("move-active")),(this.selectActive||!0===this.ctrlKeyPressed)&&e.push("do-not-select"),e},workflowExecution(){return this.$store.getters.getWorkflowExecution},workflowRunning(){return this.$store.getters.isActionActive("workflowRunning")}},data(){return{createNodeActive:!1,instance:gn["jsPlumb"].getInstance(),lastSelectedConnection:null,lastClickPosition:[450,450],nodeViewScale:1,ctrlKeyPressed:!1,stopExecutionInProgress:!1,blankRedirect:!1,credentialsUpdated:!1,newNodeInsertPosition:null,pullConnActiveNodeName:null,pullConnActive:!1,dropPrevented:!1}},beforeDestroy(){document.removeEventListener("keydown",this.keyDown),document.removeEventListener("keyup",this.keyUp)},methods:{clearExecutionData(){this.$store.commit("setWorkflowExecutionData",null),this.updateNodesExecutionIssues()},openNodeCreator(e){this.createNodeActive=!0,this.$externalHooks().run("nodeView.createNodeActiveChanged",{source:e,createNodeActive:this.createNodeActive}),this.$telemetry.trackNodesPanel("nodeView.createNodeActiveChanged",{source:e,workflow_id:this.$store.getters.workflowId,createNodeActive:this.createNodeActive})},async openExecution(e){let t;this.resetWorkspace();try{t=await this.restApi().getExecution(e)}catch(s){return void this.$showError(s,"Problem loading execution","There was a problem opening the execution:")}if(void 0===t)throw new Error(`Execution with id "${e}" could not be found!`);if(this.$store.commit("setWorkflowName",{newName:t.workflowData.name,setStateDirty:!1}),this.$store.commit("setWorkflowId",Ze["fb"]),this.$store.commit("setWorkflowExecutionData",t),await this.addNodes(JSON.parse(JSON.stringify(t.workflowData.nodes)),JSON.parse(JSON.stringify(t.workflowData.connections))),this.$nextTick(()=>{this.zoomToFit(),this.$store.commit("setStateDirty",!1)}),this.$externalHooks().run("execution.open",{workflowId:t.workflowData.id,workflowName:t.workflowData.name,executionId:e}),this.$telemetry.track("User opened read-only execution",{workflow_id:t.workflowData.id,execution_mode:t.mode,execution_finished:t.finished}),!0!==t.finished&&t.data.resultData.error){let s=!1;if(t.data.resultData.runData){const e=t.data.resultData.runData;e:for(const t of Object.keys(e))for(const o of e[t])if(o.error){s=!0;break e}}if(!1===s){const s=t.data.resultData.error,o=this.$getExecutionError(s),n=s&&s.node&&s.node.type.startsWith("n8n-nodes-base");this.$showMessage({title:"Failed execution",message:o,type:"error"},n),t.data.resultData.error.stack&&(console.error(`Execution ${e} error:`),console.error(t.data.resultData.error.stack))}}t.waitTill&&this.$showMessage({title:"This execution hasn't finished yet",message:'<a onclick="window.location.reload(false);">Refresh</a> to see the latest status.<br/> <a href="https://docs.n8n.io/nodes/n8n-nodes-base.wait/" target="_blank">More info</a>',type:"warning",duration:0})},async openWorkflowTemplate(e){let t;this.setLoadingText("Loading template"),this.resetWorkspace();try{if(this.$externalHooks().run("template.requested",{templateId:e}),t=await this.$store.dispatch("workflows/getWorkflowTemplate",e),!t)throw new Error(`Workflow template with id "${e}" could not be found!`);t.workflow.nodes.forEach(e=>{if(!this.$store.getters.nodeType(e.type)){const t=e.type.replace("n8n-nodes-base.","");throw new Error(`The ${t} node is not supported`)}})}catch(r){return this.$showError(r,"Couldn't import workflow"),void this.$router.push({name:"NodeViewNew"})}const s=t.workflow.nodes,o=!!s.find(e=>e.type===Ze["sb"]),n=oi(s),i=Pn-n.position[0],a=Wn-n.position[1];t.workflow.nodes.map(e=>{e.position[0]+=i+(o?0:2*Dn),e.position[1]+=a}),o||t.workflow.nodes.push({...Fn}),this.blankRedirect=!0,this.$router.push({name:"NodeViewNew",query:{templateId:e}}),await this.addNodes(t.workflow.nodes,t.workflow.connections),await this.$store.dispatch("workflows/setNewWorkflowName",t.name),this.$nextTick(()=>{this.zoomToFit(),this.$store.commit("setStateDirty",!0)}),this.$externalHooks().run("template.open",{templateId:e,templateName:t.name,workflow:t.workflow})},async openWorkflow(e){let t;this.resetWorkspace();try{t=await this.restApi().getWorkflow(e)}catch(n){return void this.$showError(n,"Problem opening workflow","There was a problem opening the workflow:")}if(void 0===t)throw new Error(`Workflow with id "${e}" could not be found!`);this.$store.commit("setActive",t.active||!1),this.$store.commit("setWorkflowId",e),this.$store.commit("setWorkflowName",{newName:t.name,setStateDirty:!1}),this.$store.commit("setWorkflowSettings",t.settings||{});const s=t.tags||[];this.$store.commit("tags/upsertTags",s);const o=s.map(e=>e.id);return this.$store.commit("setWorkflowTagIds",o||[]),await this.addNodes(t.nodes,t.connections),this.credentialsUpdated||this.$store.commit("setStateDirty",!1),this.zoomToFit(),this.$externalHooks().run("workflow.open",{workflowId:e,workflowName:t.name}),t},touchTap(e){this.isTouchDevice&&this.mouseDown(e)},mouseDown(e){this.lastClickPosition=this.getMousePositionWithinNodeView(e),this.mouseDownMouseSelect(e),this.mouseDownMoveWorkflow(e),this.createNodeActive=!1},mouseUp(e){this.mouseUpMouseSelect(e),this.mouseUpMoveWorkflow(e)},wheelScroll(e){if(e.ctrlKey)return e.deltaY>0?this.zoomOut():this.zoomIn(),void e.preventDefault();this.wheelMoveWorkflow(e)},keyUp(e){e.key===this.controlKeyCode&&(this.ctrlKeyPressed=!1)},async keyDown(e){const t=e.path||e.composedPath&&e.composedPath();for(let s=0;s<t.length;s++)if(t[s].className&&"string"===typeof t[s].className&&t[s].className.includes("ignore-key-press"))return;if(!window.document.body.classList.contains("el-popup-parent--hidden")){if("Escape"===e.key)return this.createNodeActive=!1,void(this.activeNode&&(this.$externalHooks().run("dataDisplay.nodeEditingFinished"),this.$store.commit("setActiveNode",null)));if(!this.activeNode)if("d"===e.key)this.callDebounced("deactivateSelectedNode",350);else if("Delete"===e.key)e.stopPropagation(),e.preventDefault(),this.callDebounced("deleteSelectedNodes",500);else if("Tab"===e.key)this.createNodeActive=!this.createNodeActive&&!this.isReadOnly,this.$externalHooks().run("nodeView.createNodeActiveChanged",{source:"tab",createNodeActive:this.createNodeActive}),this.$telemetry.trackNodesPanel("nodeView.createNodeActiveChanged",{source:"tab",workflow_id:this.$store.getters.workflowId,createNodeActive:this.createNodeActive});else if(e.key===this.controlKeyCode)this.ctrlKeyPressed=!0;else if("F2"!==e.key||this.isReadOnly)if("="!==e.key&&"+"!==e.key||this.isCtrlKeyPressed(e))if("_"!==e.key&&"-"!==e.key||this.isCtrlKeyPressed(e))if("0"!==e.key||this.isCtrlKeyPressed(e))if("1"!==e.key||this.isCtrlKeyPressed(e)){if("a"===e.key&&!0===this.isCtrlKeyPressed(e))e.stopPropagation(),e.preventDefault(),this.callDebounced("selectAllNodes",1e3);else if("c"===e.key&&!0===this.isCtrlKeyPressed(e))this.callDebounced("copySelectedNodes",1e3);else if("x"===e.key&&!0===this.isCtrlKeyPressed(e))e.stopPropagation(),e.preventDefault(),this.callDebounced("cutSelectedNodes",1e3);else if("o"===e.key&&!0===this.isCtrlKeyPressed(e))e.stopPropagation(),e.preventDefault(),this.$store.dispatch("ui/openModal",Ze["Eb"]);else if("n"===e.key&&!0===this.isCtrlKeyPressed(e)&&!0===e.altKey)e.stopPropagation(),e.preventDefault(),"NodeViewNew"===this.$router.currentRoute.name?this.$root.$emit("newWorkflow"):this.$router.push({name:"NodeViewNew"}),this.$showMessage({title:"Workflow created",message:"A new workflow was successfully created!",type:"success"});else if("s"===e.key&&!0===this.isCtrlKeyPressed(e)){if(e.stopPropagation(),e.preventDefault(),this.isReadOnly)return;this.callDebounced("saveCurrentWorkflow",1e3,void 0,!0)}else if("Enter"===e.key){const e=this.lastSelectedNode;null!==e&&this.$store.commit("setActiveNode",e.name)}else if("ArrowRight"===e.key&&!0===e.shiftKey)e.stopPropagation(),e.preventDefault(),this.callDebounced("selectDownstreamNodes",1e3);else if("ArrowRight"===e.key){const e=this.lastSelectedNode;if(null===e)return;const t=this.$store.getters.outgoingConnectionsByNodeName(e.name);if(void 0===t.main||0===t.main.length)return;this.callDebounced("nodeSelectedByName",100,t.main[0][0].node,!1,!0)}else if("ArrowLeft"===e.key&&!0===e.shiftKey)e.stopPropagation(),e.preventDefault(),this.callDebounced("selectUpstreamNodes",1e3);else if("ArrowLeft"===e.key){const e=this.lastSelectedNode;if(null===e)return;const t=this.getWorkflow();if(!t.connectionsByDestinationNode.hasOwnProperty(e.name))return;const s=t.connectionsByDestinationNode[e.name];if(void 0===s.main||0===s.main.length)return;this.callDebounced("nodeSelectedByName",100,s.main[0][0].node,!1,!0)}else if(["ArrowUp","ArrowDown"].includes(e.key)){const t=this.lastSelectedNode;if(null===t)return;const s=this.getWorkflow();if(!s.connectionsByDestinationNode.hasOwnProperty(t.name))return;const o=s.connectionsByDestinationNode[t.name];if(void 0===o.main||0===o.main.length)return;const n=o.main[0][0].node,i=this.$store.getters.outgoingConnectionsByNodeName(n);if(void 0===i.main||0===i.main.length)return;let a,r="ArrowUp"===e.key?-99999999:99999999,l=null;for(const d of i.main)for(const s of d)s.node!==t.name&&(a=this.$store.getters.getNodeByName(s.node),"ArrowUp"===e.key?a.position[1]<=t.position[1]&&a.position[1]>r&&(l=a.name,r=a.position[1]):a.position[1]>=t.position[1]&&a.position[1]<r&&(l=a.name,r=a.position[1]));null!==l&&this.callDebounced("nodeSelectedByName",100,l,!1,!0)}}else this.zoomToFit();else this.resetZoom();else this.zoomOut();else this.zoomIn();else{const e=this.lastSelectedNode;null!==e&&this.callDebounced("renameNodePrompt",1500,e.name)}}},deactivateSelectedNode(){!1!==this.editAllowedCheck()&&this.disableNodes(this.$store.getters.getSelectedNodes)},deleteSelectedNodes(){const e=this.$store.getters.getSelectedNodes.map(e=>e.name);e.forEach(e=>{this.removeNode(e)})},selectAllNodes(){this.nodes.forEach(e=>{this.nodeSelectedByName(e.name)})},selectUpstreamNodes(){const e=this.lastSelectedNode;if(null===e)return;this.deselectAllNodes();const t=this.getWorkflow();for(const s of t.getParentNodes(e.name))this.nodeSelectedByName(s);this.nodeSelectedByName(e.name)},selectDownstreamNodes(){const e=this.lastSelectedNode;if(null===e)return;this.deselectAllNodes();const t=this.getWorkflow();for(const s of t.getChildNodes(e.name))this.nodeSelectedByName(s);this.nodeSelectedByName(e.name)},pushDownstreamNodes(e,t){const s=this.$store.getters.nodesByName[e],o=this.getWorkflow(),n=o.getChildNodes(e);for(const i of n){const e=this.$store.getters.nodesByName[i];if(e.position[0]<s.position[0])continue;const o={name:i,properties:{position:[e.position[0]+t,e.position[1]]}};this.$store.commit("updateNodeProperties",o),this.onNodeMoved(e)}},cutSelectedNodes(){this.copySelectedNodes(),this.deleteSelectedNodes()},copySelectedNodes(){this.getSelectedNodesToSave().then(e=>{const t=JSON.stringify(e,null,2);this.copyToClipboard(t),e.nodes.length>0&&this.$telemetry.track("User copied nodes",{node_types:e.nodes.map(e=>e.type),workflow_id:this.$store.getters.workflowId})})},resetZoom(){const{scale:e,offset:t}=ri({scale:this.nodeViewScale,offset:this.$store.getters.getNodeViewOffsetPosition});this.setZoomLevel(e),this.$store.commit("setNodeViewOffsetPosition",{newOffset:t})},zoomIn(){const{scale:e,offset:[t,s]}=ai({scale:this.nodeViewScale,offset:this.$store.getters.getNodeViewOffsetPosition});this.setZoomLevel(e),this.$store.commit("setNodeViewOffsetPosition",{newOffset:[t,s]})},zoomOut(){const{scale:e,offset:[t,s]}=ii({scale:this.nodeViewScale,offset:this.$store.getters.getNodeViewOffsetPosition});this.setZoomLevel(e),this.$store.commit("setNodeViewOffsetPosition",{newOffset:[t,s]})},setZoomLevel(e){this.nodeViewScale=e;const t=this.instance.getContainer(),s=["webkit","moz","ms","o"],o="scale("+e+")";for(let n=0;n<s.length;n++)t.style[s[n]+"Transform"]=o;t.style["transform"]=o,this.instance.setZoom(e)},zoomToFit(){const e=this.$store.getters.allNodes;if(0===e.length)return;const{zoomLevel:t,offset:s}=$i(e);this.setZoomLevel(t),this.$store.commit("setNodeViewOffsetPosition",{newOffset:s})},async stopExecution(){const e=this.$store.getters.activeExecutionId;if(null!==e){try{this.stopExecutionInProgress=!0,await this.restApi().stopCurrentExecution(e),this.$showMessage({title:"Execution stopped",message:`The execution with the id "${e}" was stopped!`,type:"success"})}catch(t){const s=await this.restApi().getExecution(e);if(s.finished){const t={data:s.data,finished:s.finished,mode:s.mode,startedAt:s.startedAt,stoppedAt:s.stoppedAt},o={data:t,executionId:e,retryOf:s.retryOf};this.$store.commit("finishActiveExecution",o),this.$titleSet(s.workflowData.name,"IDLE"),this.$store.commit("setExecutingNode",null),this.$store.commit("setWorkflowExecutionData",t),this.$store.commit("removeActiveAction","workflowRunning"),this.$showMessage({title:"Workflow finished executing",message:"Unable to stop operation in time. Workflow finished executing already.",type:"success"})}else this.$showError(t,"Problem stopping execution","There was a problem stopping the execuction:")}this.stopExecutionInProgress=!1}},async stopWaitingForWebhook(){try{await this.restApi().removeTestWebhook(this.$store.getters.workflowId)}catch(e){return void this.$showError(e,"Problem deleting the test-webhook","There was a problem deleting webhook:")}this.$showMessage({title:"Webhook deleted",message:"The webhook was deleted successfully",type:"success"})},async receivedCopyPasteData(e){let t;if(e.match(/^http[s]?:\/\/.*\.json$/i)){if(!1===this.editAllowedCheck())return;const s=await this.confirmMessage(`Import workflow from this URL:<br /><i>${e}<i>`,"Import Workflow from URL?","warning","Yes, import!");if(!1===s)return;if(t=await this.getWorkflowDataFromUrl(e),void 0===t)return}else try{if(t=JSON.parse(e),!1===this.editAllowedCheck())return}catch(s){return}return this.$telemetry.track("User pasted nodes",{workflow_id:this.$store.getters.workflowId}),this.importWorkflowData(t)},async getWorkflowDataFromUrl(e){let t;this.startLoading();try{t=await this.restApi().getWorkflowFromUrl(e)}catch(s){return this.stopLoading(),void this.$showError(s,"Problem loading workflow","There was a problem loading the workflow data from URL:")}return this.stopLoading(),this.$telemetry.track("User imported workflow",{source:"url",workflow_id:this.$store.getters.workflowId}),t},async importWorkflowData(e){if(e.hasOwnProperty("nodes")&&e.hasOwnProperty("connections"))try{this.deselectAllNodes(),this.updateNodePositions(e,wi(this.nodes,this.lastClickPosition));const t=await this.addNodesToWorkflow(e);setTimeout(()=>{t.nodes.forEach(e=>{this.nodeSelectedByName(e.name)})})}catch(t){this.$showError(t,"Problem importing workflow","There was a problem importing workflow data:")}},closeNodeCreator(){this.createNodeActive=!1},nodeTypeSelected(e){this.addNodeButton(e),this.createNodeActive=!1},nodeDeselectedByName(e){const t=this.$store.getters.getNodeByName(e);t&&this.nodeDeselected(t)},nodeSelectedByName(e,t=!1,s){!0===s&&this.deselectAllNodes();const o=this.$store.getters.getNodeByName(e);o&&this.nodeSelected(o),this.$store.commit("setLastSelectedNode",o.name),this.$store.commit("setLastSelectedNodeOutputIndex",null),this.lastSelectedConnection=null,this.newNodeInsertPosition=null,!0===t&&this.$store.commit("setActiveNode",o.name)},showMaxNodeTypeError(e){const t=e.maxNodes;this.$showMessage({title:"Could not create node!",message:`Node can not be created because in a workflow max. ${t} ${1===t?"node":"nodes"} of type "${e.displayName}" ${1===t?"is":"are"} allowed!`,type:"error",duration:0})},async injectNode(e){const t=this.$store.getters.nodeType(e);if(null===t)return void this.$showMessage({title:"Could not create node!",message:`Node of type "${e}" could not be created as it is not known.`,type:"error"});if(void 0!==t.maxNodes&&this.getNodeTypeCount(e)>=t.maxNodes)return void this.showMaxNodeTypeError(t);const s={name:t.defaults.name,type:t.name,typeVersion:t.version,position:[0,0],parameters:{}},o=this.lastSelectedNode;if(o){const e=this.lastSelectedConnection;if(e){const[t]=hi(e);t<=Vn&&this.pushDownstreamNodes(o.name,Mn)}if(this.newNodeInsertPosition)s.position=wi(this.nodes,[this.newNodeInsertPosition[0]+Sn,this.newNodeInsertPosition[1]-Dn/2]),this.newNodeInsertPosition=null;else{let t=0;if(e){const s=this.$store.getters.nodeType(o.type),n=[[-100,100],[-140,0,140],[-240,-100,100,240]];if(s&&s.outputs.length>1){const o=n[s.outputs.length-2],i=e.__meta?e.__meta.sourceOutputIndex:0;t=o[i]}}s.position=wi(this.nodes,[o.position[0]+Mn,o.position[1]+t],[100,0])}}else s.position=wi(this.nodes,this.lastClickPosition);return s.name=Ni(this.$store.getters.allNodes,s.name),t.webhooks&&t.webhooks.length&&(s.webhookId=Object(Sh["a"])()),await this.addNodes([s]),this.$store.commit("setStateDirty",!0),this.$externalHooks().run("nodeView.addNodeButton",{nodeTypeName:e}),this.$telemetry.trackNodesPanel("nodeView.addNodeButton",{node_type:e,workflow_id:this.$store.getters.workflowId}),this.deselectAllNodes(),setTimeout(()=>{this.nodeSelectedByName(s.name,!0)}),s},getConnection(e,t,s,o){const n=this.$store.getters.outgoingConnectionsByNodeName(e).main;if(n){const e=n[t];if(e)return e.find(e=>e.node===s&&e.index===o)}},connectTwoNodes(e,t,s,o){if(this.getConnection(e,t,s,o))return;const n=[{node:e,type:"main",index:t},{node:s,type:"main",index:o}];this.__addConnection(n,!0)},async addNodeButton(e){if(!1===this.editAllowedCheck())return;const t=this.lastSelectedConnection,s=this.lastSelectedNode,n=this.$store.getters.lastSelectedNodeOutputIndex,i=await this.injectNode(e);if(!i)return;const a=n||0;if(s){if(await o["default"].nextTick(),t&&t.__meta){this.__deleteJSPlumbConnection(t);const e=t.__meta.targetNodeName,s=t.__meta.targetOutputIndex;this.connectTwoNodes(i.name,0,e,s)}this.connectTwoNodes(s.name,a,i.name,0)}},initNodeView(){this.instance.importDefaults({Connector:zn,Endpoint:["Dot",{radius:5}],DragOptions:{cursor:"pointer",zIndex:5e3},PaintStyle:Hn,HoverPaintStyle:Yn,ConnectionOverlays:qn,Container:"#node-view"});const e=e=>{const t=this.$store.getters.getNodeNameByIndex(e.sourceId.slice(Ze["X"].length));this.$store.commit("setLastSelectedNode",t),this.$store.commit("setLastSelectedNodeOutputIndex",e.index),this.newNodeInsertPosition=null,e.connection&&(this.lastSelectedConnection=e.connection),this.openNodeCreator(e.eventSource)};this.instance.bind("connectionAborted",t=>{try{if(this.dropPrevented)return void(this.dropPrevented=!1);if(this.pullConnActiveNodeName){const e=this.$store.getters.getNodeNameByIndex(t.sourceId.slice(Ze["X"].length)),s=t.getParameters().index;return this.connectTwoNodes(e,s,this.pullConnActiveNodeName,0),void(this.pullConnActiveNodeName=null)}e({sourceId:t.sourceId,index:t.getParameters().index,eventSource:"node_connection_drop"})}catch(s){console.error(s)}}),this.instance.bind("beforeDrop",e=>{try{const t=e.connection.endpoints[0].getParameters(),s=e.dropEndpoint.getParameters(),o=this.$store.getters.getNodeNameByIndex(t.nodeIndex),n=this.$store.getters.getNodeNameByIndex(s.nodeIndex);return!this.getConnection(o,t.index,n,s.index)||(this.dropPrevented=!0,this.pullConnActiveNodeName=null,!1)}catch(t){return console.error(t),!0}});let t=null;this.instance.bind("connection",s=>{try{const o=s.sourceEndpoint.getParameters(),n=s.targetEndpoint.getParameters(),i=this.$store.getters.getNodeNameByIndex(o.nodeIndex),a=this.$store.getters.getNodeNameByIndex(n.nodeIndex);if(s.connection.__meta={sourceNodeName:i,sourceOutputIndex:o.index,targetNodeName:a,targetOutputIndex:n.index},_i(s.connection),!1===this.isReadOnly){let n,i;s.connection.bind("mouseover",e=>{try{if(void 0!==n&&(clearTimeout(n),n=void 0),i)return;if(!s.connection||s.connection===t)return;ki(t),i=setTimeout(()=>{i=void 0,s.connection&&(t=s.connection,xi(s.connection))},150)}catch(o){console.error(o)}}),s.connection.bind("mouseout",e=>{try{if(n)return;if(i&&(clearTimeout(i),i=void 0),!s.connection||t!==s.connection)return;n=setTimeout(()=>{n=void 0,s.connection&&t===s.connection&&(ki(t),t=null)},500)}catch(o){console.error(o)}}),Di(s.connection,()=>{t=null,this.__deleteJSPlumbConnection(s.connection)},()=>{setTimeout(()=>{e({sourceId:s.sourceId,index:o.index,connection:s.connection,eventSource:"node_connection_action"})},150)})}Ai(s.targetEndpoint),this.$store.commit("addConnection",{connection:[{node:i,type:o.type,index:o.index},{node:a,type:n.type,index:n.index}],setStateDirty:!0})}catch(o){console.error(o)}}),this.instance.bind("connectionMoved",e=>{try{Oi(e.originalTargetEndpoint);const t=e.originalSourceEndpoint.getParameters(),s=e.originalTargetEndpoint.getParameters(),o=[{node:this.$store.getters.getNodeNameByIndex(t.nodeIndex),type:t.type,index:t.index},{node:this.$store.getters.getNodeNameByIndex(s.nodeIndex),type:s.type,index:s.index}];this.__removeConnection(o,!1)}catch(t){console.error(t)}}),this.instance.bind("connectionDetached",e=>{try{if(Oi(e.targetEndpoint),e.connection.removeOverlays(),this.__removeConnectionByConnectionInfo(e,!1),this.pullConnActiveNodeName){const t=this.$store.getters.getNodeNameByIndex(e.connection.sourceId.slice(Ze["X"].length)),s=e.connection.getParameters().index;this.connectTwoNodes(t,s,this.pullConnActiveNodeName,0),this.pullConnActiveNodeName=null}}catch(t){console.error(t)}}),this.instance.bind("connectionDrag",e=>{try{this.pullConnActiveNodeName=null,this.pullConnActive=!0,this.newNodeInsertPosition=null,_i(e),si(e,Jn);const t=[...document.querySelectorAll(".node-default")],s=s=>{if(!e)return;const o=document.querySelector(".jtk-endpoint.dropHover");if(o)return void Ti(e,o._jsPlumb);const n=24,i=t.find(t=>{const{top:o,left:i,right:a,bottom:r}=t.getBoundingClientRect();if(o<=s.pageY&&r>=s.pageY&&i-n<=s.pageX&&a>=s.pageX){const s=t.dataset["name"],o=this.$store.getters.getNodeByName(s);if(o){const t=this.$store.getters.nodeType(o.type);if(t&&t.inputs&&1===t.inputs.length){this.pullConnActiveNodeName=o.name;const t=this.instance.getEndpoint(this.getInputEndpointUUID(s,0));return Ti(e,t),!0}}}return!1});i||(Ii(e),this.pullConnActiveNodeName=null)},o=t=>{this.pullConnActive=!1,this.newNodeInsertPosition=this.getMousePositionWithinNodeView(t),Si(e),window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",o)};window.addEventListener("mousemove",s),window.addEventListener("mouseup",o)}catch(t){console.error(t)}})},async newWorkflow(){await this.resetWorkspace(),await this.$store.dispatch("workflows/setNewWorkflowName"),this.$store.commit("setStateDirty",!1),await this.addNodes([{...Fn}]),this.nodeSelectedByName(Fn.name,!1),this.$store.commit("setStateDirty",!1),this.setZoomLevel(1),setTimeout(()=>{this.$store.commit("setNodeViewOffsetPosition",{newOffset:[0,0]})},0)},async initView(){if("workflowSave"===this.$route.params.action)return this.$store.commit("setStateDirty",!1),Promise.resolve();if(this.blankRedirect)this.blankRedirect=!1;else if("WorkflowTemplate"===this.$route.name){const e=this.$route.params.id;await this.openWorkflowTemplate(e)}else if("ExecutionById"===this.$route.name){const e=this.$route.params.id;await this.openExecution(e)}else{const e=this.$store.getters.getStateIsDirty;if(e){const e=await this.confirmMessage("When you switch workflows your current workflow changes will be lost.","Save your Changes?","warning","Yes, switch workflows and forget changes");if(!1===e)return Promise.resolve()}let t=null;if(this.$route.params.name&&(t=this.$route.params.name),null!==t){const e=await this.restApi().getWorkflow(t);if(!e)throw new Error("Could not find workflow");this.$titleSet(e.name,"IDLE"),await this.openWorkflow(t)}else await this.newWorkflow()}document.addEventListener("keydown",this.keyDown),document.addEventListener("keyup",this.keyUp),window.addEventListener("beforeunload",e=>{if(!0===this.$store.getters.getStateIsDirty){const t="It looks like you have been editing something. If you leave before saving, your changes will be lost.";return(e||window.event).returnValue=t,t}this.startLoading("Redirecting")})},getOutputEndpointUUID(e,t){return Pi(this.getNodeIndex(e),t)},getInputEndpointUUID(e,t){return Wi(this.getNodeIndex(e),t)},__addConnection(e,t=!1){if(!0===t){const t=[this.getOutputEndpointUUID(e[0].node,e[0].index),this.getInputEndpointUUID(e[1].node,e[1].index)];this.instance.connect({uuids:t,detachable:!this.isReadOnly})}else{const t={connection:e,setStateDirty:!1};this.$store.commit("addConnection",t)}},__removeConnection(e,t=!1){if(!0===t){const t=this.instance.getConnections({source:Ze["X"]+this.getNodeIndex(e[0].node),target:Ze["X"]+this.getNodeIndex(e[1].node)});t.forEach(e=>{this.__deleteJSPlumbConnection(e)})}this.$store.commit("removeConnection",{connection:e})},__deleteJSPlumbConnection(e){e.removeOverlays(),this.pullConnActiveNodeName=null,this.instance.deleteConnection(e)},__removeConnectionByConnectionInfo(e,t=!1){const s=e.sourceEndpoint.getParameters(),o=e.targetEndpoint.getParameters(),n=[{node:this.$store.getters.getNodeNameByIndex(s.nodeIndex),type:s.type,index:s.index},{node:this.$store.getters.getNodeNameByIndex(o.nodeIndex),type:o.type,index:o.index}];t&&this.__deleteJSPlumbConnection(e.connection),this.$store.commit("removeConnection",{connection:n})},async duplicateNode(e){if(!1===this.editAllowedCheck())return;const t=this.$store.getters.getNodeByName(e),s=this.$store.getters.nodeType(t.type);if(s&&void 0!==s.maxNodes&&this.getNodeTypeCount(t.type)>=s.maxNodes)return void this.showMaxNodeTypeError(s);const o=JSON.parse(JSON.stringify(this.getNodeDataToSave(t)));o.name=Ni(this.$store.getters.allNodes,o.name),o.position=wi(this.nodes,[t.position[0],t.position[1]+140],[0,140]),o.webhookId&&(o.webhookId=Object(Sh["a"])()),await this.addNodes([o]),this.$store.commit("setStateDirty",!0),this.deselectAllNodes(),setTimeout(()=>{this.nodeSelectedByName(o.name,!0)}),this.$telemetry.track("User duplicated node",{node_type:t.type,workflow_id:this.$store.getters.workflowId})},getJSPlumbConnection(e,t,s,o){const n=this.getNodeIndex(e),i=`${Ze["X"]}${n}`,a=this.getNodeIndex(s),r=`${Ze["X"]}${a}`,l=Pi(n,t),d=Wi(a,o),c=this.instance.getConnections({source:i,target:r});return c.find(e=>{const t=e.getUuids();return t[0]===l&&t[1]===d})},getIncomingOutgoingConnections(e){const t=`${Ze["X"]}${this.$store.getters.getNodeIndex(e)}`,s=this.instance.getConnections({source:t}),o=this.instance.getConnections({target:t});return{incoming:o,outgoing:s}},onNodeMoved(e){const{incoming:t,outgoing:s}=this.getIncomingOutgoingConnections(e.name);[...t,...s].forEach(e=>{ui(e),mi(e)})},onNodeRun({name:e,data:t,waiting:s}){const o=e,n=this.$store.getters.getNodeIndex(o),i=`${Ze["X"]}${n}`;if(null===t||0===t.length||s){const e=this.instance.getConnections({source:i});return void e.forEach(e=>{_i(e)})}const a=this.$store.getters.outgoingConnectionsByNodeName(o).main;if(!a)return;const r=Ci(t,a);Object.keys(r).forEach(e=>{Object.keys(r[e]).forEach(t=>{Object.keys(r[e][t]).forEach(s=>{const n=this.getJSPlumbConnection(o,parseInt(e,10),t,parseInt(s,10));if(!n)return;const i=r[e][t][s];i&&i.total?Ei(n,i):_i(n)})})})},removeNode(e){if(!1===this.editAllowedCheck())return;const t=this.$store.getters.getNodeByName(e);if(!t)return;const s=[Ze["sb"]];if(s.includes(t.type)){let e=!1;for(const o of this.nodes)if(o.name!==t.name&&s.includes(o.type)){e=!0;break}if(!1===e)return}const o=this.$store.getters.nodeType(t.type,t.typeVersion);if(o&&1===o.outputs.length&&1===o.inputs.length){const{incoming:e,outgoing:s}=this.getIncomingOutgoingConnections(t.name);if(1===e.length&&1===s.length){const t=e[0],o=s[0];if(t.__meta&&o.__meta){const e=t.__meta.sourceNodeName,s=t.__meta.sourceOutputIndex,n=o.__meta.targetNodeName,i=o.__meta.targetOutputIndex;setTimeout(()=>{this.connectTwoNodes(e,s,n,i)},100)}}}setTimeout(()=>{const s=this.$store.getters.getNodeIndex(e),o="node-"+s;this.instance.setSuspendDrawing(!0),this.instance.removeAllEndpoints(o),this.instance.destroyDraggable(o),this.$store.commit("removeAllNodeConnection",t),this.$store.commit("removeNode",t),this.$store.commit("clearNodeExecutionData",t.name),this.instance.setSuspendDrawing(!1,!0),this.$store.commit("removeNodeFromSelection",t),-1!==s&&this.$store.commit("setNodeIndex",{index:s,name:null})},0)},valueChanged(e){"name"===e.name&&e.oldValue&&this.renameNode(e.oldValue,e.value)},async renameNodePrompt(e){try{const t=this.$prompt("New Name:",`Rename Node: "${e}"`,{customClass:"rename-prompt",confirmButtonText:"Rename",cancelButtonText:"Cancel",inputErrorMessage:"Invalid Name",inputValue:e});await o["default"].nextTick();const s=document.querySelector(".rename-prompt .el-input__inner");s&&(s.focus(),s.select());const n=await t;this.renameNode(e,n.value)}catch(t){}},async renameNode(e,t){if(e===t)return;t=Ni(this.$store.getters.allNodes,t);const s=this.getWorkflow(void 0,void 0,!0);s.renameNode(e,t),this.$store.commit("renameNodeSelectedAndExecution",{old:e,new:t}),this.instance&&this.instance.deleteEveryEndpoint(),this.$store.commit("removeAllConnections"),this.$store.commit("removeAllNodes",{setStateDirty:!0}),await o["default"].nextTick(),await this.addNodes(Object.values(s.nodes),s.connectionsBySourceNode),this.deselectAllNodes(),this.nodeSelectedByName(t)},matchCredentials(e){e.credentials&&Object.entries(e.credentials).forEach(([t,s])=>{const o=this.$store.getters["credentials/getCredentialsByType"](t);if("string"===typeof s&&(s={id:null,name:s},this.credentialsUpdated=!0),s.id){const n=s.id.toString(),i=o.find(e=>e.id===n);if(i)return void(i.name===s.name&&"number"!==typeof s.id||(e.credentials[t]={id:i.id,name:i.name},this.credentialsUpdated=!0))}e.credentials[t]=s;const n=o.filter(e=>e.name===s.name);1===n.length&&(e.credentials[t].id=n[0].id,this.credentialsUpdated=!0)})},async addNodes(e,t){if(!e||!e.length)return;let s,n;if(await this.loadNodesProperties(e.map(e=>({name:e.type,version:e.typeVersion}))),e.forEach(e=>{if(s=this.$store.getters.nodeType(e.type,e.typeVersion),e.hasOwnProperty("disabled")||(e.disabled=!1),e.hasOwnProperty("parameters")||(e.parameters={}),null!==s){let o=null;try{o=Qo["NodeHelpers"].getNodeParameters(s.properties,e.parameters,!0,!1)}catch(t){console.error(`There was a problem loading the node-parameters of node: "${e.name}"`),console.error(t)}e.parameters=null!==o?o:{},e.type===Ze["Db"]&&""===e.parameters.path&&(e.parameters.path=e.webhookId)}this.matchCredentials(e),n=this.getNodeIssues(s,e),null!==n&&(e.issues=n),this.$store.commit("addNode",e)}),await o["default"].nextTick(),this.instance.setSuspendDrawing(!0),void 0!==t){let e;for(const s of Object.keys(t))for(const o of Object.keys(t[s]))for(let n=0;n<t[s][o].length;n++)t[s][o][n].forEach(t=>{e=[{node:s,type:o,index:n},{node:t.node,type:t.type,index:t.index}],this.__addConnection(e,!0)})}this.instance.setSuspendDrawing(!1,!0)},async addNodesToWorkflow(e){const t={},s=[];if(!e.nodes)throw new Error("No nodes given to add!");const o=this.getNodeTypesMaxCount();let n,i;const a=[];await this.loadNodesProperties(e.nodes.map(e=>({name:e.type,version:e.typeVersion}))),e.nodes.forEach(e=>{if(void 0!==o[e.type]){if(o[e.type].exist>=o[e.type].max)return void(t[e.name]=o[e.type].nodeNames[0]);o[e.type].exist+=1}n=e.name,i=Ni(this.$store.getters.allNodes,e.name,s),s.push(i),t[n]=i,a.push(e)});const r={},l=e.connections,d=a.map(e=>e.name);let c,u,h,p,m;for(c of Object.keys(l)){if(!d.includes(c))continue;const e={};for(u of Object.keys(l[c]))for(e[u]=[],h=0;h<l[c][u].length;h++){const t=[];if(l[c][u][h])for(p=0;p<l[c][u][h].length;p++)m=l[c][u][h][p],d.includes(m.node)&&t.push(m);e[u].push(t)}r[c]=e}const f=this.getWorkflow(a,r);for(n in t)n!==t[n]&&f.renameNode(n,t[n]);return await this.addNodes(Object.values(f.nodes),f.connectionsBySourceNode),this.$store.commit("setStateDirty",!0),{nodes:Object.values(f.nodes),connections:f.connectionsBySourceNode}},getSelectedNodesToSave(){const e={nodes:[],connections:{}};let t;const s=[];for(const u of this.$store.getters.getSelectedNodes){try{t=this.getNodeDataToSave(u),s.push(u.name)}catch(c){return Promise.reject(c)}e.nodes.push(t)}let o,n,i,a,r,l,d;return e.nodes.forEach(t=>{if(n=this.$store.getters.outgoingConnectionsByNodeName(t.name),0!==Object.keys(n).length){for(i of(d={},Object.keys(n)))for(r=0;r<n[i].length;r++){for(o=[],a=0;a<n[i][r].length;a++)l=n[i][r][a],-1!==s.indexOf(l.node)&&o.push(l);o.length&&(d.hasOwnProperty(i)||(d[i]=[]),d[i][r]=o)}Object.keys(d).length&&(e.connections[t.name]=d)}}),Promise.resolve(e)},resetWorkspace(){return this.instance&&this.instance.deleteEveryEndpoint(),!0===this.executionWaitingForWebhook&&this.restApi().removeTestWebhook(this.$store.getters.workflowId).catch(()=>{}),this.$store.commit("removeAllConnections",{setStateDirty:!1}),this.$store.commit("removeAllNodes",{setStateDirty:!1}),this.$store.commit("setWorkflowExecutionData",null),this.$store.commit("resetAllNodesIssues"),this.$store.commit("setActive",!1),this.$store.commit("setWorkflowId",Ze["fb"]),this.$store.commit("setWorkflowName",{newName:"",setStateDirty:!1}),this.$store.commit("setWorkflowSettings",{}),this.$store.commit("setWorkflowTagIds",[]),this.$store.commit("setActiveExecutionId",null),this.$store.commit("setExecutingNode",null),this.$store.commit("removeActiveAction","workflowRunning"),this.$store.commit("setExecutionWaitingForWebhook",!1),this.$store.commit("resetNodeIndex"),this.$store.commit("resetSelectedNodes"),this.$store.commit("setNodeViewOffsetPosition",{newOffset:[0,0],setStateDirty:!1}),Promise.resolve()},async loadActiveWorkflows(){const e=await this.restApi().getActiveWorkflows();this.$store.commit("setActiveWorkflows",e)},async loadSettings(){await this.$store.dispatch("settings/getSettings")},async loadNodeTypes(){const e=await this.restApi().getNodeTypes();this.$store.commit("setNodeTypes",e)},async loadCredentialTypes(){await this.$store.dispatch("credentials/fetchCredentialTypes")},async loadCredentials(){await this.$store.dispatch("credentials/fetchAllCredentials")},async loadNodesProperties(e){const t=this.$store.getters.allNodeTypes,s=[];if(t.forEach(t=>{e.find(e=>e.name===t.name&&e.version===t.version)&&!t.hasOwnProperty("properties")&&s.push({name:t.name,version:t.version})}),s.length>0){this.startLoading();const e=await this.restApi().getNodesInformation(s);this.$store.commit("updateNodeTypes",e),this.stopLoading()}}},async mounted(){this.$root.$on("importWorkflowData",async e=>{await this.importWorkflowData(e.data)}),this.$root.$on("newWorkflow",this.newWorkflow),this.$root.$on("importWorkflowUrl",async e=>{const t=await this.getWorkflowDataFromUrl(e.url);void 0!==t&&await this.importWorkflowData(t)}),this.startLoading();const e=[this.loadActiveWorkflows(),this.loadCredentials(),this.loadCredentialTypes(),this.loadNodeTypes(),this.loadSettings()];try{await Promise.all(e)}catch(t){return void this.$showError(t,"Init Problem","There was a problem loading init data:")}this.instance.ready(async()=>{try{this.initNodeView(),await this.initView()}catch(t){this.$showError(t,"Init Problem","There was a problem initializing the workflow:")}this.stopLoading(),setTimeout(()=>{this.checkForNewVersions()},0)}),this.$externalHooks().run("nodeView.mount")},destroyed(){this.resetWorkspace()}})),Ah=Oh,Dh=(s("6f1b"),s("2d96"),Object(Re["a"])(Ah,mn,fn,!1,null,"42a19680",null)),Ph=Dh.exports;o["default"].use(Fe["a"]);var Wh=new Fe["a"]({mode:"history",base:"/%BASE_PATH%/"===window.BASE_PATH?"/":window.BASE_PATH,routes:[{path:"/execution/:id",name:"ExecutionById",components:{default:Ph,header:so,sidebar:pn}},{path:"/workflow",name:"NodeViewNew",components:{default:Ph,header:so,sidebar:pn}},{path:"/workflow/:name",name:"NodeViewExisting",components:{default:Ph,header:so,sidebar:pn}},{path:"/",redirect:"/workflow"},{path:"/workflows/templates/:id",name:"WorkflowTemplate",components:{default:Ph,header:so,sidebar:pn}}]});function Rh(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Lh(e){const t=new Vh;Object.defineProperty(e,"$telemetry",{get(){return t}}),Object.defineProperty(e.prototype,"$telemetry",{get(){return t}})}class Vh{constructor(){Rh(this,"userNodesPanelSession",{sessionId:"",data:{nodeFilter:"",resultsNodes:[],filterMode:"Regular"}})}get telemetry(){return window.rudderanalytics}init(e,t){if(e.enabled&&!this.telemetry){if(!e.config)return;this.loadTelemetryLibrary(e.config.key,e.config.url,{integrations:{All:!1},loadIntegration:!1}),this.telemetry.identify(t)}}track(e,t){this.telemetry&&this.telemetry.track(e,t)}trackNodesPanel(e,t={}){if(this.telemetry)switch(t.nodes_panel_session_id=this.userNodesPanelSession.sessionId,e){case"nodeView.createNodeActiveChanged":!1!==t.createNodeActive&&(this.resetNodesPanelSession(),t.nodes_panel_session_id=this.userNodesPanelSession.sessionId,this.telemetry.track("User opened nodes panel",t));break;case"nodeCreateList.selectedTypeChanged":this.userNodesPanelSession.data.filterMode=t.new_filter,this.telemetry.track("User changed nodes panel filter",t);break;case"nodeCreateList.destroyed":this.userNodesPanelSession.data.nodeFilter.length>0&&""!==this.userNodesPanelSession.data.nodeFilter&&this.telemetry.track("User entered nodes panel search term",this.generateNodesPanelEvent());break;case"nodeCreateList.nodeFilterChanged":0===t.newValue.length&&this.userNodesPanelSession.data.nodeFilter.length>0&&this.telemetry.track("User entered nodes panel search term",this.generateNodesPanelEvent()),t.newValue.length>(t.oldValue||"").length&&(this.userNodesPanelSession.data.nodeFilter=t.newValue,this.userNodesPanelSession.data.resultsNodes=(t.filteredNodes||[]).map(e=>e.key));break;case"nodeCreateList.onCategoryExpanded":t.is_subcategory=!1,this.telemetry.track("User viewed node category",t);break;case"nodeCreateList.onSubcategorySelected":const e=t.selected.properties;e&&e.subcategory&&(t.category_name=e.subcategory),t.is_subcategory=!0,delete t.selected,this.telemetry.track("User viewed node category",t);break;case"nodeView.addNodeButton":this.telemetry.track("User added node to workflow canvas",t);break;default:break}}resetNodesPanelSession(){this.userNodesPanelSession.sessionId="nodes_panel_session_"+(new Date).valueOf(),this.userNodesPanelSession.data={nodeFilter:"",resultsNodes:[],filterMode:"All"}}generateNodesPanelEvent(){return{search_string:this.userNodesPanelSession.data.nodeFilter,results_count:this.userNodesPanelSession.data.resultsNodes.length,filter_mode:this.userNodesPanelSession.data.filterMode,nodes_panel_session_id:this.userNodesPanelSession.sessionId}}loadTelemetryLibrary(e,t,s){window.rudderanalytics=window.rudderanalytics||[],this.telemetry.methods=["load","page","track","identify","alias","group","ready","reset","getAnonymousId","setAnonymousId"],this.telemetry.factory=e=>(...t)=>{const s=Array.prototype.slice.call(t);return s.unshift(e),this.telemetry.push(s),this.telemetry};for(let o=0;o<this.telemetry.methods.length;o++){const e=this.telemetry.methods[o];this.telemetry[e]=this.telemetry.factory(e)}this.telemetry.loadJS=()=>{const e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://cdn.rudderlabs.com/v1/rudder-analytics.min.js";const t=document.getElementsByTagName("script")[0];t&&t.parentNode&&t.parentNode.insertBefore(e,t)},this.telemetry.loadJS(),this.telemetry.load(e,t,s)}}var Mh=s("a185");async function Bh(e){return await Object(Mh["b"])(e,"GET","/credential-types")}async function jh(e,t){return await Object(Mh["b"])(e,"GET","/credentials/new",t?{name:t}:{})}async function Uh(e){return await Object(Mh["b"])(e,"GET","/credentials")}async function Fh(e,t){return Object(Mh["b"])(e,"POST","/credentials",t)}async function zh(e,t){return Object(Mh["b"])(e,"DELETE","/credentials/"+t)}async function Hh(e,t,s){return Object(Mh["b"])(e,"PATCH","/credentials/"+t,s)}async function Kh(e,t){return Object(Mh["b"])(e,"GET","/credentials/"+t,{includeData:!0})}async function Yh(e,t){return Object(Mh["b"])(e,"GET","/oauth1-credential/auth",t)}async function Gh(e,t){return Object(Mh["b"])(e,"GET","/oauth2-credential/auth",t)}async function qh(e,t){return Object(Mh["b"])(e,"POST","/credentials-test",t)}const Jh="Unnamed credential",Xh="account",Zh=["httpBasicAuth","oAuth2Api","httpDigestAuth","oAuth1Api"],Qh={namespaced:!0,state:{credentialTypes:{},credentials:{}},mutations:{setCredentialTypes:(e,t)=>{e.credentialTypes=t.reduce((e,t)=>(e[t.name]=t,e),{})},setCredentials:(e,t)=>{e.credentials=t.reduce((e,t)=>(t.id&&(e[t.id]=t),e),{})},upsertCredential(e,t){t.id&&o["default"].set(e.credentials,t.id,t)},deleteCredential(e,t){o["default"].delete(e.credentials,t)},enableOAuthCredential(e,t){}},getters:{allCredentialTypes(e){return Object.values(e.credentialTypes).sort((e,t)=>e.displayName.localeCompare(t.displayName))},allCredentials(e){return Object.values(e.credentials).sort((e,t)=>e.name.localeCompare(t.name))},allCredentialsByType(e,t){const s=t.allCredentials,o=t.allCredentialTypes;return o.reduce((e,t)=>(e[t.name]=s.filter(e=>e.type===t.name),e),{})},getCredentialTypeByName:e=>t=>e.credentialTypes[t],getCredentialById:e=>t=>e.credentials[t],getCredentialByIdAndType:e=>(t,s)=>{const o=e.credentials[t];return o&&o.type===s?o:void 0},getCredentialsByType:(e,t)=>e=>t.allCredentialsByType[e]||[],getNodesWithAccess(e,t,s,o){return e=>{const t=o.allNodeTypes;return t.filter(t=>{if(!t.credentials)return!1;for(const s of t.credentials)if(s.name===e)return!0;return!1})}}},actions:{fetchCredentialTypes:async e=>{const t=await Bh(e.rootGetters.getRestApiContext);e.commit("setCredentialTypes",t)},fetchAllCredentials:async e=>{const t=await Uh(e.rootGetters.getRestApiContext);e.commit("setCredentials",t)},getCredentialData:async(e,{id:t})=>await Kh(e.rootGetters.getRestApiContext,t),createNewCredential:async(e,t)=>{const s=await Fh(e.rootGetters.getRestApiContext,t);return e.commit("upsertCredential",s),s},updateCredential:async(e,t)=>{const{id:s,data:o}=t,n=await Hh(e.rootGetters.getRestApiContext,s,o);return e.commit("upsertCredential",n),n},deleteCredential:async(e,{id:t})=>{const s=await zh(e.rootGetters.getRestApiContext,t);s&&e.commit("deleteCredential",t)},oAuth2Authorize:async(e,t)=>Gh(e.rootGetters.getRestApiContext,t),oAuth1Authorize:async(e,t)=>Yh(e.rootGetters.getRestApiContext,t),testCredential:async(e,t)=>qh(e.rootGetters.getRestApiContext,{credentials:t}),getNewCredentialName:async(e,t)=>{try{const{credentialTypeName:s}=t;let o=Jh;if(!Zh.includes(s)){const{displayName:t}=e.getters.getCredentialTypeByName(s);o=Eo(t),o=o.length>0?`${o} ${Xh}`:Jh}const n=await jh(e.rootGetters.getRestApiContext,o);return n.name}catch(s){return Jh}}}};var ep=Qh;async function tp(e,t=!1){return await Object(Mh["b"])(e,"GET","/tags",{withUsageCount:t})}async function sp(e,t){return await Object(Mh["b"])(e,"POST","/tags",t)}async function op(e,t,s){return await Object(Mh["b"])(e,"PATCH","/tags/"+t,s)}async function np(e,t){return await Object(Mh["b"])(e,"DELETE","/tags/"+t)}const ip={namespaced:!0,state:{tags:{},isLoading:!1,fetchedAll:!1,fetchedUsageCount:!1},mutations:{setLoading:(e,t)=>{e.isLoading=t},setAllTags:(e,t)=>{e.tags=t.reduce((e,t)=>(e[t.id]=t,e),{}),e.fetchedAll=!0},upsertTags(e,t){t.forEach(t=>{const s=t.id,n=e.tags[s];if(n){const i={...n,...t};o["default"].set(e.tags,s,i)}else o["default"].set(e.tags,s,t)})},deleteTag(e,t){o["default"].delete(e.tags,t)}},getters:{allTags(e){return Object.values(e.tags).sort((e,t)=>e.name.localeCompare(t.name))},isLoading:e=>e.isLoading,hasTags:e=>Object.keys(e.tags).length>0,getTagById:e=>t=>e.tags[t]},actions:{fetchAll:async(e,t)=>{const{force:s=!1,withUsageCount:o=!1}=t||{};if(!s&&e.state.fetchedAll&&e.state.fetchedUsageCount===o)return e.state.tags;e.commit("setLoading",!0);const n=await tp(e.rootGetters.getRestApiContext,Boolean(o));return e.commit("setAllTags",n),e.commit("setLoading",!1),n},create:async(e,t)=>{const s=await sp(e.rootGetters.getRestApiContext,{name:t});return e.commit("upsertTags",[s]),s},rename:async(e,{id:t,name:s})=>{const o=await op(e.rootGetters.getRestApiContext,t,{name:s});return e.commit("upsertTags",[o]),o},delete:async(e,t)=>{const s=await np(e.rootGetters.getRestApiContext,t);return s&&(e.commit("deleteTag",t),e.commit("removeWorkflowTagId",t,{root:!0})),s}}};var ap=ip;async function rp(e){return await Object(Mh["b"])(e,"GET","/settings")}async function lp(e,t){await Object(Mh["b"])(e,"POST","/user-survey",t)}function dp(e){const t=e[Ze["o"]],s=e[Ze["Gb"]];if(null===t&&null===s&&null===e[Ze["i"]])return[];let o=null;e[Ze["i"]]&&(o=parseInt(e[Ze["i"]],10),o=isNaN(o)?0:o);let n=[];return n=s===Ze["N"]||s===Ze["b"]?n.concat(Ze["Db"]):n.concat(Ze["u"]),n=null!==o&&o>=4?n.concat(Ze["F"]):n.concat(Ze["M"]),n=null!==o&&o<3?n.concat(Ze["K"]):n.concat(Ze["vb"]),n=t===Ze["n"]||t===Ze["j"]?s===Ze["mb"]?n.concat(Ze["lb"]):s===Ze["nb"]?n.concat([Ze["A"],Ze["J"]]):s===Ze["hb"]?n.concat([Ze["O"],Ze["ob"]]):s===Ze["N"]?n.concat([Ze["G"],Ze["J"]]):n.concat([Ze["V"],Ze["W"]]):s===Ze["mb"]?n.concat(Ze["h"]):s===Ze["nb"]?n.concat([Ze["cb"],Ze["J"]]):s===Ze["hb"]?n.concat([Ze["O"],Ze["g"]]):s===Ze["N"]?n.concat([Ze["D"],Ze["J"]]):s===Ze["E"]?n.concat([Ze["Hb"],Ze["ib"],Ze["rb"]]):n.concat([Ze["B"],Ze["qb"]]),n=n.concat(Ze["pb"]),n}const cp={namespaced:!0,state:{settings:{}},getters:{personalizedNodeTypes(e){const t=e.settings.personalizationSurvey&&e.settings.personalizationSurvey.answers;return t?dp(t):[]}},mutations:{setSettings(e,t){e.settings=t},setPersonalizationAnswers(e,t){o["default"].set(e.settings,"personalizationSurvey",{answers:t,shouldShow:!1})}},actions:{async getSettings(e){const t=await rp(e.rootGetters.getRestApiContext);e.commit("setSettings",t),e.commit("setUrlBaseWebhook",t.urlBaseWebhook,{root:!0}),e.commit("setEndpointWebhook",t.endpointWebhook,{root:!0}),e.commit("setEndpointWebhookTest",t.endpointWebhookTest,{root:!0}),e.commit("setSaveDataErrorExecution",t.saveDataErrorExecution,{root:!0}),e.commit("setSaveDataSuccessExecution",t.saveDataSuccessExecution,{root:!0}),e.commit("setSaveManualExecutions",t.saveManualExecutions,{root:!0}),e.commit("setTimezone",t.timezone,{root:!0}),e.commit("setExecutionTimeout",t.executionTimeout,{root:!0}),e.commit("setMaxExecutionTimeout",t.maxExecutionTimeout,{root:!0}),e.commit("setVersionCli",t.versionCli,{root:!0}),e.commit("setInstanceId",t.instanceId,{root:!0}),e.commit("setOauthCallbackUrls",t.oauthCallbackUrls,{root:!0}),e.commit("setN8nMetadata",t.n8nMetadata||{},{root:!0}),e.commit("versions/setVersionNotificationSettings",t.versionNotifications,{root:!0}),e.commit("setTelemetry",t.telemetry,{root:!0});const s=t.personalizationSurvey&&t.personalizationSurvey.shouldShow&&!t.personalizationSurvey.answers;return s&&e.commit("ui/openModal",Ze["db"],{root:!0}),t},async submitPersonalizationSurvey(e,t){await lp(e.rootGetters.getRestApiContext,t),e.commit("setPersonalizationAnswers",t)}}};var up=cp;const hp={namespaced:!0,state:{modals:{[Ze["r"]]:{open:!1,mode:"",activeId:null},[Ze["s"]]:{open:!1},[Ze["t"]]:{open:!1},[Ze["y"]]:{open:!1},[Ze["db"]]:{open:!1},[Ze["wb"]]:{open:!1},[Ze["Eb"]]:{open:!1},[Ze["Bb"]]:{open:!1},[Ze["Fb"]]:{open:!1}},modalStack:[],sidebarMenuCollapsed:!0,isPageLoading:!0},getters:{isVersionsOpen:e=>e.modals[Ze["Bb"]].open,isModalOpen:e=>t=>e.modals[t].open,isModalActive:e=>t=>e.modalStack.length>0&&t===e.modalStack[0],getModalActiveId:e=>t=>e.modals[t].activeId,getModalMode:e=>t=>e.modals[t].mode,sidebarMenuCollapsed:e=>e.sidebarMenuCollapsed},mutations:{setMode:(e,t)=>{const{name:s,mode:n}=t;o["default"].set(e.modals[s],"mode",n)},setActiveId:(e,t)=>{const{name:s,id:n}=t;o["default"].set(e.modals[s],"activeId",n)},openModal:(e,t)=>{o["default"].set(e.modals[t],"open",!0),e.modalStack=[t].concat(e.modalStack)},closeTopModal:e=>{const t=e.modalStack[0];o["default"].set(e.modals[t],"open",!1),e.modals.mode&&o["default"].set(e.modals[t],"mode",""),e.modals.activeId&&o["default"].set(e.modals[t],"activeId",""),e.modalStack=e.modalStack.slice(1)},toggleSidebarMenuCollapse:e=>{e.sidebarMenuCollapsed=!e.sidebarMenuCollapsed}},actions:{openModal:async(e,t)=>{e.commit("openModal",t)},openExisitngCredential:async(e,{id:t})=>{e.commit("setActiveId",{name:Ze["r"],id:t}),e.commit("setMode",{name:Ze["r"],mode:"edit"}),e.commit("openModal",Ze["r"])},openNewCredential:async(e,{type:t})=>{e.commit("setActiveId",{name:Ze["r"],id:t}),e.commit("setMode",{name:Ze["r"],mode:"new"}),e.commit("openModal",Ze["r"])}}};var pp=hp;async function mp(e,t){return await Object(Mh["b"])(e,"GET","/workflows/new",t?{name:t}:{})}async function fp(e){return await Object(Mh["a"])(Ze["xb"],"/workflows/templates/"+e)}const gp={namespaced:!0,state:{},actions:{setNewWorkflowName:async(e,t)=>{let s="";try{const o=await mp(e.rootGetters.getRestApiContext,t);s=o.name}catch(o){s=t||Ze["w"]}e.commit("setWorkflowName",{newName:s},{root:!0})},getDuplicateCurrentWorkflowName:async e=>{const t=e.rootGetters.workflowName;if(t&&t.length+Ze["z"].length>=Ze["U"])return t;let s=`${t}${Ze["z"]}`;try{const t=await mp(e.rootGetters.getRestApiContext,s);s=t.name}catch(o){}return s},getWorkflowTemplate:async(e,t)=>await fp(t)}};var wp=gp;async function vp(e,t,s){const o={[Ze["L"]]:s};return await Object(Mh["a"])(e,t,{},o)}const yp={namespaced:!0,state:{versionNotificationSettings:{enabled:!1,endpoint:"",infoUrl:""},nextVersions:[],currentVersion:void 0},getters:{hasVersionUpdates(e){return e.nextVersions.length>0},nextVersions(e){return e.nextVersions},currentVersion(e){return e.currentVersion},areNotificationsEnabled(e){return e.versionNotificationSettings.enabled},infoUrl(e){return e.versionNotificationSettings.infoUrl}},mutations:{setVersions(e,{versions:t,currentVersion:s}){e.nextVersions=t.filter(e=>e.name!==s),e.currentVersion=t.find(e=>e.name===s)},setVersionNotificationSettings(e,t){e.versionNotificationSettings=t}},actions:{async fetchVersions(e){try{const{enabled:t,endpoint:s}=e.state.versionNotificationSettings;if(t&&s){const t=e.rootState.versionCli,o=e.rootState.instanceId,n=await vp(s,t,o);e.commit("setVersions",{versions:n,currentVersion:t})}}catch(t){}}}};var bp=yp;o["default"].use(De["a"]);const kp={activeExecutions:[],activeWorkflows:[],activeActions:[],activeNode:null,baseUrl:Object({VUE_APP_PUBLIC_PATH:"/%BASE_PATH%/",NODE_ENV:"production",BASE_URL:"/%BASE_PATH%/"}).VUE_APP_URL_BASE_API?Object({VUE_APP_PUBLIC_PATH:"/%BASE_PATH%/",NODE_ENV:"production",BASE_URL:"/%BASE_PATH%/"}).VUE_APP_URL_BASE_API:"/%BASE_PATH%/"===window.BASE_PATH?"/":window.BASE_PATH,endpointWebhook:"webhook",endpointWebhookTest:"webhook-test",executionId:null,executingNode:"",executionWaitingForWebhook:!1,pushConnectionActive:!0,saveDataErrorExecution:"all",saveDataSuccessExecution:"all",saveManualExecutions:!1,timezone:"America/New_York",stateIsDirty:!1,executionTimeout:-1,maxExecutionTimeout:Number.MAX_SAFE_INTEGER,versionCli:"0.0.0",oauthCallbackUrls:{},n8nMetadata:{},workflowExecutionData:null,lastSelectedNode:null,lastSelectedNodeOutputIndex:null,nodeIndex:[],nodeTypes:[],nodeViewOffsetPosition:[0,0],nodeViewMoveInProgress:!1,selectedNodes:[],sessionId:Math.random().toString(36).substring(2,15),urlBaseWebhook:"http://localhost:5678/",workflow:{id:Ze["fb"],name:"",active:!1,createdAt:-1,updatedAt:-1,connections:{},nodes:[],settings:{},tags:[]},sidebarMenuItems:[],instanceId:"",telemetry:null},xp={credentials:ep,tags:ap,settings:up,workflows:wp,versions:bp,ui:pp},Cp=new De["a"].Store({strict:!1,modules:xp,state:kp,mutations:{addActiveAction(e,t){e.activeActions.includes(t)||e.activeActions.push(t)},removeActiveAction(e,t){const s=e.activeActions.indexOf(t);-1!==s&&e.activeActions.splice(s,1)},addActiveExecution(e,t){const s=e.activeExecutions.find(e=>e.id===t.id);void 0===s?e.activeExecutions.unshift(t):void 0===s.workflowName&&(s.workflowName=t.workflowName)},finishActiveExecution(e,t){const s=e.activeExecutions.find(e=>e.id===t.executionId);void 0!==s&&(void 0!==t.executionId&&o["default"].set(s,"id",t.executionId),o["default"].set(s,"finished",t.data.finished),o["default"].set(s,"stoppedAt",t.data.stoppedAt))},setActiveExecutions(e,t){o["default"].set(e,"activeExecutions",t)},setActiveWorkflows(e,t){e.activeWorkflows=t},setWorkflowActive(e,t){e.stateIsDirty=!1;const s=e.activeWorkflows.indexOf(t);-1===s&&e.activeWorkflows.push(t)},setWorkflowInactive(e,t){const s=e.activeWorkflows.indexOf(t);-1!==s&&e.selectedNodes.splice(s,1)},setStateDirty(e,t){e.stateIsDirty=t},addSelectedNode(e,t){e.selectedNodes.push(t)},removeNodeFromSelection(e,t){let s;for(s in e.selectedNodes)if(e.selectedNodes[s].name===t.name){e.selectedNodes.splice(parseInt(s,10),1);break}},resetSelectedNodes(e){o["default"].set(e,"selectedNodes",[])},setActive(e,t){e.workflow.active=t},addConnection(e,t){if(2!==t.connection.length)return;!0===t.setStateDirty&&(e.stateIsDirty=!0);const s=t.connection[0],n=t.connection[1];if(e.workflow.connections.hasOwnProperty(s.node)||o["default"].set(e.workflow.connections,s.node,{}),e.workflow.connections[s.node].hasOwnProperty(s.type)||o["default"].set(e.workflow.connections[s.node],s.type,[]),e.workflow.connections[s.node][s.type].length<s.index+1)for(let o=e.workflow.connections[s.node][s.type].length;o<=s.index;o++)e.workflow.connections[s.node][s.type].push([]);const i=["index","node","type"];let a,r=!1;e:for(const o of e.workflow.connections[s.node][s.type][s.index]){for(a of i)if(o[a]!==n[a])continue e;r=!0;break}!1===r&&e.workflow.connections[s.node][s.type][s.index].push(n)},removeConnection(e,t){const s=t.connection[0],o=t.connection[1];if(!e.workflow.connections.hasOwnProperty(s.node))return;if(!e.workflow.connections[s.node].hasOwnProperty(s.type))return;if(e.workflow.connections[s.node][s.type].length<s.index+1)return;e.stateIsDirty=!0;const n=e.workflow.connections[s.node][s.type][s.index];for(const i in n)n[i].node===o.node&&n[i].type===o.type&&n[i].index===o.index&&n.splice(parseInt(i,10),1)},removeAllConnections(e,t){t&&!0===t.setStateDirty&&(e.stateIsDirty=!0),e.workflow.connections={}},removeAllNodeConnection(e,t){e.stateIsDirty=!0,e.workflow.connections.hasOwnProperty(t.name)&&delete e.workflow.connections[t.name];const s=[];let o,n,i,a,r;for(o of Object.keys(e.workflow.connections))for(n of Object.keys(e.workflow.connections[o]))for(i of Object.keys(e.workflow.connections[o][n])){for(a of(s.length=0,Object.keys(e.workflow.connections[o][n][parseInt(i,10)])))r=e.workflow.connections[o][n][parseInt(i,10)][parseInt(a,10)],r.node===t.name&&s.push(a);s.forEach(t=>{e.workflow.connections[o][n][parseInt(i,10)].splice(parseInt(t,10),1)})}},renameNodeSelectedAndExecution(e,t){e.stateIsDirty=!0,null!==e.workflowExecutionData&&e.workflowExecutionData.data.resultData.runData.hasOwnProperty(t.old)&&(e.workflowExecutionData.data.resultData.runData[t.new]=e.workflowExecutionData.data.resultData.runData[t.old],delete e.workflowExecutionData.data.resultData.runData[t.old]),e.lastSelectedNode===t.old&&(e.lastSelectedNode=t.new)},resetAllNodesIssues(e){return e.workflow.nodes.forEach(e=>{e.issues=void 0}),!0},setNodeIssue(e,t){const s=e.workflow.nodes.find(e=>e.name===t.node);if(!s)return!1;if(null===t.value){if(void 0===s.issues||void 0===s.issues[t.type])return!0;o["default"].delete(s.issues,t.type)}else void 0===s.issues&&o["default"].set(s,"issues",{}),o["default"].set(s.issues,t.type,t.value);return!0},setWorkflowId(e,t){e.workflow.id=t},setWorkflowName(e,t){!0===t.setStateDirty&&(e.stateIsDirty=!0),e.workflow.name=t.newName},replaceInvalidWorkflowCredentials(e,{credentials:t,invalid:s,type:o}){e.workflow.nodes.forEach(e=>{if(!e.credentials||!e.credentials[o])return;const n=e.credentials[o];"string"!==typeof n||n!==s.name?null!==n.id?n.id===s.id&&(e.credentials[o]=t):n.name===s.name&&(e.credentials[o]=t):e.credentials[o]=t})},addNode(e,t){t.hasOwnProperty("name")&&e.workflow.nodes.push(t)},removeNode(e,t){for(let s=0;s<e.workflow.nodes.length;s++)if(e.workflow.nodes[s].name===t.name)return e.workflow.nodes.splice(s,1),void(e.stateIsDirty=!0)},removeAllNodes(e,t){!0===t.setStateDirty&&(e.stateIsDirty=!0),e.workflow.nodes.splice(0,e.workflow.nodes.length)},updateNodeProperties(e,t){const s=e.workflow.nodes.find(e=>e.name===t.name);if(s)for(const n of Object.keys(t.properties))e.stateIsDirty=!0,o["default"].set(s,n,t.properties[n])},setNodeValue(e,t){const s=e.workflow.nodes.find(e=>e.name===t.name);if(void 0===s||null===s)throw new Error(`Node with the name "${t.name}" could not be found to set parameter.`);e.stateIsDirty=!0,o["default"].set(s,t.key,t.value)},setNodeParameters(e,t){const s=e.workflow.nodes.find(e=>e.name===t.name);if(void 0===s||null===s)throw new Error(`Node with the name "${t.name}" could not be found to set parameter.`);e.stateIsDirty=!0,o["default"].set(s,"parameters",t.value)},addToNodeIndex(e,t){e.nodeIndex.push(t)},setNodeIndex(e,t){e.nodeIndex[t.index]=t.name},resetNodeIndex(e){o["default"].set(e,"nodeIndex",[])},setNodeViewMoveInProgress(e,t){e.nodeViewMoveInProgress=t},setNodeViewOffsetPosition(e,t){e.nodeViewOffsetPosition=t.newOffset},setNodeTypes(e,t){o["default"].set(e,"nodeTypes",t)},setExecutingNode(e,t){e.executingNode=t},setExecutionWaitingForWebhook(e,t){e.executionWaitingForWebhook=t},setActiveExecutionId(e,t){e.executionId=t},setPushConnectionActive(e,t){e.pushConnectionActive=t},setUrlBaseWebhook(e,t){o["default"].set(e,"urlBaseWebhook",t)},setEndpointWebhook(e,t){o["default"].set(e,"endpointWebhook",t)},setEndpointWebhookTest(e,t){o["default"].set(e,"endpointWebhookTest",t)},setSaveDataErrorExecution(e,t){o["default"].set(e,"saveDataErrorExecution",t)},setSaveDataSuccessExecution(e,t){o["default"].set(e,"saveDataSuccessExecution",t)},setSaveManualExecutions(e,t){o["default"].set(e,"saveManualExecutions",t)},setTimezone(e,t){o["default"].set(e,"timezone",t)},setExecutionTimeout(e,t){o["default"].set(e,"executionTimeout",t)},setMaxExecutionTimeout(e,t){o["default"].set(e,"maxExecutionTimeout",t)},setVersionCli(e,t){o["default"].set(e,"versionCli",t)},setInstanceId(e,t){o["default"].set(e,"instanceId",t)},setTelemetry(e,t){o["default"].set(e,"telemetry",t)},setOauthCallbackUrls(e,t){o["default"].set(e,"oauthCallbackUrls",t)},setN8nMetadata(e,t){o["default"].set(e,"n8nMetadata",t)},setActiveNode(e,t){e.activeNode=t},setLastSelectedNode(e,t){e.lastSelectedNode=t},setLastSelectedNodeOutputIndex(e,t){e.lastSelectedNodeOutputIndex=t},setWorkflowExecutionData(e,t){e.workflowExecutionData=t},addNodeExecutionData(e,t){if(null===e.workflowExecutionData)throw new Error('The "workflowExecutionData" is not initialized!');void 0===e.workflowExecutionData.data.resultData.runData[t.nodeName]&&o["default"].set(e.workflowExecutionData.data.resultData.runData,t.nodeName,[]),e.workflowExecutionData.data.resultData.runData[t.nodeName].push(t.data)},clearNodeExecutionData(e,t){null!==e.workflowExecutionData&&o["default"].delete(e.workflowExecutionData.data.resultData.runData,t)},setWorkflowSettings(e,t){o["default"].set(e.workflow,"settings",t)},setWorkflowTagIds(e,t){o["default"].set(e.workflow,"tags",t)},removeWorkflowTagId(e,t){const s=e.workflow.tags,n=s.filter(e=>e!==t);o["default"].set(e.workflow,"tags",n)},setWorkflow(e,t){o["default"].set(e,"workflow",t),e.workflow.hasOwnProperty("active")||o["default"].set(e.workflow,"active",!1),e.workflow.hasOwnProperty("connections")||o["default"].set(e.workflow,"connections",{}),e.workflow.hasOwnProperty("createdAt")||o["default"].set(e.workflow,"createdAt",-1),e.workflow.hasOwnProperty("updatedAt")||o["default"].set(e.workflow,"updatedAt",-1),e.workflow.hasOwnProperty("id")||o["default"].set(e.workflow,"id",Ze["fb"]),e.workflow.hasOwnProperty("nodes")||o["default"].set(e.workflow,"nodes",[]),e.workflow.hasOwnProperty("settings")||o["default"].set(e.workflow,"settings",{})},updateNodeTypes(e,t){const s=e.nodeTypes.filter(e=>!t.find(t=>t.name===e.name&&t.version===e.version)),n=[...s,...t];o["default"].set(e,"nodeTypes",n),e.nodeTypes=n},addSidebarMenuItems(e,t){const s=e.sidebarMenuItems.concat(t);o["default"].set(e,"sidebarMenuItems",s)}},getters:{isActionActive:e=>t=>e.activeActions.includes(t),isNewWorkflow:e=>e.workflow.id===Ze["fb"],currentWorkflowHasWebhookNode:e=>!!e.workflow.nodes.find(e=>!!e.webhookId),getActiveExecutions:e=>e.activeExecutions,getBaseUrl:e=>e.baseUrl,getRestUrl:e=>{let t="rest";return Object({VUE_APP_PUBLIC_PATH:"/%BASE_PATH%/",NODE_ENV:"production",BASE_URL:"/%BASE_PATH%/"}).VUE_APP_ENDPOINT_REST&&(t=Object({VUE_APP_PUBLIC_PATH:"/%BASE_PATH%/",NODE_ENV:"production",BASE_URL:"/%BASE_PATH%/"}).VUE_APP_ENDPOINT_REST),`${e.baseUrl}${t}`},getRestApiContext(e){let t="rest";return Object({VUE_APP_PUBLIC_PATH:"/%BASE_PATH%/",NODE_ENV:"production",BASE_URL:"/%BASE_PATH%/"}).VUE_APP_ENDPOINT_REST&&(t=Object({VUE_APP_PUBLIC_PATH:"/%BASE_PATH%/",NODE_ENV:"production",BASE_URL:"/%BASE_PATH%/"}).VUE_APP_ENDPOINT_REST),{baseUrl:`${e.baseUrl}${t}`,sessionId:e.sessionId}},getWebhookBaseUrl:e=>e.urlBaseWebhook,getWebhookUrl:e=>`${e.urlBaseWebhook}${e.endpointWebhook}`,getWebhookTestUrl:e=>`${e.urlBaseWebhook}${e.endpointWebhookTest}`,getStateIsDirty:e=>e.stateIsDirty,instanceId:e=>e.instanceId,saveDataErrorExecution:e=>e.saveDataErrorExecution,saveDataSuccessExecution:e=>e.saveDataSuccessExecution,saveManualExecutions:e=>e.saveManualExecutions,timezone:e=>e.timezone,executionTimeout:e=>e.executionTimeout,maxExecutionTimeout:e=>e.maxExecutionTimeout,versionCli:e=>e.versionCli,telemetry:e=>e.telemetry,oauthCallbackUrls:e=>e.oauthCallbackUrls,n8nMetadata:e=>e.n8nMetadata,pushConnectionActive:e=>e.pushConnectionActive,sessionId:e=>e.sessionId,getActiveWorkflows:e=>e.activeWorkflows,getNodeIndex:e=>t=>e.nodeIndex.indexOf(t),getNodeNameByIndex:e=>t=>e.nodeIndex[t],getNodeViewOffsetPosition:e=>e.nodeViewOffsetPosition,isNodeViewMoveInProgress:e=>e.nodeViewMoveInProgress,getSelectedNodes:e=>e.selectedNodes,isNodeSelected:e=>t=>{let s;for(s in e.selectedNodes)if(e.selectedNodes[s].name===t)return!0;return!1},isActive:e=>e.workflow.active,allConnections:e=>e.workflow.connections,outgoingConnectionsByNodeName:e=>t=>e.workflow.connections.hasOwnProperty(t)?e.workflow.connections[t]:{},allNodes:e=>e.workflow.nodes,nodesByName:e=>e.workflow.nodes.reduce((e,t)=>(e[t.name]=t,e),{}),getNodeByName:(e,t)=>e=>t.nodesByName[e]||null,nodesIssuesExist:e=>{for(const t of e.workflow.nodes)if(void 0!==t.issues&&0!==Object.keys(t.issues).length)return!0;return!1},allNodeTypes:e=>e.nodeTypes,nodeType:(e,t)=>(t,s)=>{const o=e.nodeTypes.find(e=>e.name===t&&e.version===(s||e.defaultVersion||Ze["x"]));return void 0===o?null:o},activeNode:(e,t)=>t.getNodeByName(e.activeNode),lastSelectedNode:(e,t)=>t.getNodeByName(e.lastSelectedNode),lastSelectedNodeOutputIndex:(e,t)=>e.lastSelectedNodeOutputIndex,executingNode:e=>e.executingNode,activeExecutionId:e=>e.executionId,executionWaitingForWebhook:e=>e.executionWaitingForWebhook,workflowName:e=>e.workflow.name,workflowId:e=>e.workflow.id,workflowSettings:e=>void 0===e.workflow.settings?{}:e.workflow.settings,workflowTags:e=>e.workflow.tags,getWorkflowExecution:e=>e.workflowExecutionData,getWorkflowRunData:e=>null===e.workflowExecutionData?null:e.workflowExecutionData.data.resultData.runData,getWorkflowResultDataByNodeName:(e,t)=>e=>{const s=t.getWorkflowRunData;return null===s?null:s.hasOwnProperty(e)?s[e]:null},sidebarMenuItems:e=>e.sidebarMenuItems}});o["default"].config.productionTip=!1,Wh.afterEach((e,t)=>{Object(Ye["b"])("main.routeChange",Cp,{from:t,to:e})}),o["default"].use(Lh),new o["default"]({router:Wh,store:Cp,render:e=>e(Ue)}).$mount("#app")},cd62:function(e,t,s){},cf08:function(e,t,s){e.exports={editor:"CodeEdit_editor_gob3d"}},cff9:function(e,t,s){"use strict";s("c8ea")},d010:function(e,t,s){"use strict";s("ab07")},d1dc:function(e,t,s){e.exports={title:"UpdatesPanel_title_1crRo",description:"UpdatesPanel_description_2k1V3",versions:"UpdatesPanel_versions_RDbWS","versions-card":"UpdatesPanel_versions-card_gw8ew","info-url":"UpdatesPanel_info-url_2kL_e"}},d2e2:function(e,t,s){"use strict";s.d(t,"a",(function(){return h}));var o=s("85ee"),n=s("e105"),i=s("debe"),a=s("7b04"),r=s("6fae"),l=s("77f0"),d=s("9ec3"),c=s("aaf5"),u=s("2159");const h=Object(c["a"])(i["a"],r["a"],a["a"],l["a"]).extend({methods:{connectionInputData(e,t,s,o){let n=null;if(e.length){const i=e[0],a=this.$store.getters.getWorkflowRunData;if(null===a)return null;n=!a[i]||a[i].length<=s||!a[i][s].hasOwnProperty("data")||void 0===a[i][s].data||!a[i][s].data.hasOwnProperty(t)||a[i][s].data[t].length<=o?[]:a[i][s].data[t][o]}return n},getNodes(){const e=this.$store.getters.allNodes,t=[];for(const s of e)t.push(Object.assign({},s));return t},getNodeTypesMaxCount(){const e=this.$store.getters.allNodes,t={},s=this.$store.getters.allNodeTypes;for(const o of s)void 0!==o.maxNodes&&(t[o.name]={exist:0,max:o.maxNodes,nodeNames:[]});for(const o of e)void 0!==t[o.type]&&(t[o.type].exist+=1,t[o.type].nodeNames.push(o.name));return t},getNodeTypeCount(e){const t=this.$store.getters.allNodes;let s=0;for(const o of t)o.type===e&&s++;return s},checkReadyForExecution(e,t){let s,n,i=null;const a={};let r=Object.keys(e.nodes);if(t)r=e.getParentNodes(t),r.push(t);else{let t=[];for(const s of Object.keys(e.nodes))!0!==e.nodes[s].disabled&&e.nodes[s].type===o["Db"]&&(t=[s,...t,...e.getChildNodes(s)]);if(t.length)r=t;else{const t=e.getStartNode();void 0!==t&&(r=e.getChildNodes(t.name),r.push(t.name))}}for(const o of r)i=null,s=e.nodes[o],!0!==s.disabled&&(n=e.nodeTypes.getByNameAndVersion(s.type,s.typeVersion),i=void 0===n?{typeUnknown:!0}:this.getNodeIssues(n.description,s,["execution"]),null!==i&&(a[s.name]=i));return 0===Object.keys(a).length?null:a},getWorkflow(e,t,s){e=e||this.getNodes(),t=t||this.$store.getters.allConnections;const i={nodeTypes:{},init:async e=>{},getAll:()=>[],getByName:e=>{const t=this.$store.getters.nodeType(e);if(null!==t)return{description:t}},getByNameAndVersion:(e,t)=>{const s=this.$store.getters.nodeType(e,t);if(null!==s)return{description:s,trigger:![o["C"],o["sb"]].includes(e)&&0===s.inputs.length&&!s.webhooks||void 0}}};let a=this.$store.getters.workflowId;a===o["fb"]&&(a=void 0);const r=this.$store.getters.workflowName;return!0===s?new n["Workflow"]({id:a,name:r,nodes:JSON.parse(JSON.stringify(e)),connections:JSON.parse(JSON.stringify(t)),active:!1,nodeTypes:i}):new n["Workflow"]({id:a,name:r,nodes:e,connections:t,active:!1,nodeTypes:i})},getWorkflowDataToSave(){const e=this.$store.getters.allNodes,t=this.$store.getters.allConnections;let s;const n=[];for(let o=0;o<e.length;o++){try{s=this.getNodeDataToSave(e[o])}catch(r){return Promise.reject(r)}n.push(s)}const i={name:this.$store.getters.workflowName,nodes:n,connections:t,active:this.$store.getters.isActive,settings:this.$store.getters.workflowSettings,tags:this.$store.getters.workflowTags},a=this.$store.getters.workflowId;return a!==o["fb"]&&(i.id=a),Promise.resolve(i)},getNodeDataToSave(e){const t=["color","continueOnFail","credentials","disabled","issues","notes","parameters","status"],s={parameters:{}};for(const n in e)"_"!==n.charAt(0)&&-1===t.indexOf(n)&&(s[n]=e[n]);const o=this.$store.getters.nodeType(e.type,e.typeVersion);if(null!==o){const t=n["NodeHelpers"].getNodeParameters(o.properties,e.parameters,!1,!1);if(s.parameters=null!==t?t:{},void 0!==e.credentials&&void 0!==o.credentials){const t={};for(const s of Object.keys(e.credentials)){const n=o.credentials.find(e=>e.name===s);void 0!==n&&(!1!==this.displayParameter(e.parameters,n,"")&&(t[s]=e.credentials[s]))}0!==Object.keys(t).length&&(s.credentials=t)}}else s.credentials=e.credentials,s.parameters=e.parameters,void 0!==s.color&&(s.color=e.color);return!0===e.disabled&&(s.disabled=!0),!0===e.continueOnFail&&(s.continueOnFail=!0),[void 0,""].includes(e.notes)||(s.notes=e.notes),s},resolveParameter(e){const t=0,s=0,n=0,i="main",a=this.$store.getters.activeNode,r=this.getWorkflow(),l=r.getParentNodes(a.name,i,1),d=this.$store.getters.getWorkflowExecution;let c,u=this.connectionInputData(l,i,n,t);c=null===d?{resultData:{runData:{}}}:d.data,null===u&&(u=[]);const h={$executionId:o["gb"],$resumeWebhookUrl:o["gb"]};return r.expression.getParameterValue(e,c,n,s,a.name,u,"manual",h,!1)},resolveExpression(e,t={}){const s={__xxxxxxx__:e,...t},o=this.resolveParameter(s);if("object"===typeof o["__xxxxxxx__"]){const e=this.getWorkflow();return e.expression.convertObjectValueToString(o["__xxxxxxx__"])}return o["__xxxxxxx__"]},async saveCurrentWorkflow({name:e,tags:t}={}){const s=this.$route.params.name;if(!s)return this.saveAsNewWorkflow({name:e,tags:t});try{this.$store.commit("addActiveAction","workflowSaving");const o=await this.getWorkflowDataToSave();e&&(o.name=e.trim()),t&&(o.tags=t);const n=await this.restApi().updateWorkflow(s,o);if(e&&this.$store.commit("setWorkflowName",{newName:n.name}),t){const e=n.tags||[],t=e.map(e=>e.id);this.$store.commit("setWorkflowTagIds",t)}return this.$store.commit("setStateDirty",!1),this.$store.commit("removeActiveAction","workflowSaving"),this.$externalHooks().run("workflow.afterUpdate",{workflowData:n}),!0}catch(o){return this.$store.commit("removeActiveAction","workflowSaving"),this.$showMessage({title:"Problem saving workflow",message:`There was a problem saving the workflow: "${o.message}"`,type:"error"}),!1}},async saveAsNewWorkflow({name:e,tags:t,resetWebhookUrls:s,openInNewWindow:o}={}){try{this.$store.commit("addActiveAction","workflowSaving");const n=await this.getWorkflowDataToSave();n.active=!1;const i={};s&&(n.nodes=n.nodes.map(e=>(e.webhookId&&(e.webhookId=Object(u["a"])(),i[e.name]=e.webhookId),e))),e&&(n.name=e.trim()),t&&(n.tags=t);const a=await this.restApi().createNewWorkflow(n);if(o){const e=this.$router.resolve({name:"NodeViewExisting",params:{name:a.id}});return window.open(e.href,"_blank"),this.$store.commit("removeActiveAction","workflowSaving"),!0}this.$store.commit("setActive",a.active||!1),this.$store.commit("setWorkflowId",a.id),this.$store.commit("setWorkflowName",{newName:a.name,setStateDirty:!1}),this.$store.commit("setWorkflowSettings",a.settings||{}),this.$store.commit("setStateDirty",!1),Object.keys(i).forEach(e=>{const t={key:"webhookId",value:i[e],name:e};this.$store.commit("setNodeValue",t)});const r=a.tags||[],l=r.map(e=>e.id);return this.$store.commit("setWorkflowTagIds",l),this.$router.push({name:"NodeViewExisting",params:{name:a.id,action:"workflowSave"}}),this.$store.commit("removeActiveAction","workflowSaving"),this.$store.commit("setStateDirty",!1),this.$externalHooks().run("workflow.afterUpdate",{workflowData:a}),!0}catch(n){return this.$store.commit("removeActiveAction","workflowSaving"),this.$showMessage({title:"Problem saving workflow",message:`There was a problem saving the workflow: "${n.message}"`,type:"error"}),!1}},updateNodePositions(e,t){if(void 0===e.nodes)return;const s=[99999999,99999999];for(const n of e.nodes)(n.position[1]<s[1]||n.position[1]===s[1]&&n.position[0]<s[0])&&(s[0]=n.position[0],s[1]=n.position[1]);const o=[t[0]-s[0],t[1]-s[1]];for(const n of e.nodes)n.position[0]+=o[0],n.position[1]+=o[1]},async dataHasChanged(e){const t=await this.getWorkflowDataToSave(),s=await this.restApi().getWorkflow(e);if(void 0!==s){const e={nodes:s.nodes,connections:s.connections,settings:s.settings,name:s.name},o={nodes:t.nodes,connections:t.connections,settings:t.settings,name:t.name};return!Object(d["isEqual"])(e,o)}return!0}}})},d747:function(e,t,s){"use strict";s("9959")},d79a:function(e,t,s){"use strict";s("3c13")},d99a:function(e,t,s){"use strict";s("5a17")},daaf:function(e,t,s){"use strict";var o=s("89b8"),n=s.n(o);s.d(t,"default",(function(){return n.a}))},db89:function(e,t,s){"use strict";s("0c53")},dd28:function(e,t,s){"use strict";var o=s("7fa5"),n=s.n(o);s.d(t,"default",(function(){return n.a}))},de3e:function(e,t,s){},debe:function(e,t,s){"use strict";s.d(t,"b",(function(){return n})),s.d(t,"a",(function(){return i}));var o=s("9869");async function n(e,t,s){if(!window.n8nExternalHooks)return;const[o,n]=e.split(".");if(window.n8nExternalHooks[o]&&window.n8nExternalHooks[o][n]){const e=window.n8nExternalHooks[o][n];for(const o of e)await o(t,s)}}const i=o["default"].extend({methods:{$externalHooks(){return{run:async(e,t)=>{await n.call(this,e,this.$store,t)}}}}})},df41:function(e,t,s){"use strict";s("7579")},e1e8:function(e,t,s){"use strict";s("cd62")},e4a1:function(e,t,s){"use strict";s("e995")},e66e:function(e,t,s){},e82f:function(e,t,s){"use strict";s("7428")},e995:function(e,t,s){},ef2c:function(e,t,s){"use strict";var o=s("36c5"),n=s.n(o);s.d(t,"default",(function(){return n.a}))},ef96:function(e,t,s){},f17f:function(e,t,s){e.exports={container:"PersonalizationModal_container_2Ui9f",submittedContainer:"PersonalizationModal_submittedContainer_1U7bz",demoImage:"PersonalizationModal_demoImage_9q9L6"}},f19f:function(e,t,s){},f1e5:function(e,t,s){},f75d:function(e,t,s){},f92e:function(e,t,s){},fa1e:function(e,t,s){"use strict";s("fe4f")},fe0b:function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"fixed-collection-parameter",on:{keydown:function(e){e.stopPropagation()}}},[0===e.getProperties.length?s("div",{staticClass:"no-items-exist"},[s("n8n-text",{attrs:{size:"small"}},[e._v("Currently no items exist")])],1):e._e(),e._l(e.getProperties,(function(t){return s("div",{key:t.name,staticClass:"fixed-collection-parameter-property"},[s("n8n-input-label",{attrs:{label:""===t.displayName||1===e.parameter.options.length?"":t.displayName,underline:!0,labelHoverableOnly:!0,size:"small"}},[!0===e.multipleValues?s("div",e._l(e.values[t.name],(function(o,n){return s("div",{key:t.name+n,staticClass:"parameter-item"},[s("div",{staticClass:"parameter-item-wrapper"},[e.isReadOnly?e._e():s("div",{staticClass:"delete-option"},[s("font-awesome-icon",{staticClass:"reset-icon clickable",attrs:{icon:"trash",title:"Delete Item"},on:{click:function(s){return e.deleteOption(t.name,n)}}}),e.sortable?s("div",{staticClass:"sort-icon"},[0!==n?s("font-awesome-icon",{staticClass:"clickable",attrs:{icon:"angle-up",title:"Move up"},on:{click:function(s){return e.moveOptionUp(t.name,n)}}}):e._e(),n!==e.values[t.name].length-1?s("font-awesome-icon",{staticClass:"clickable",attrs:{icon:"angle-down",title:"Move down"},on:{click:function(s){return e.moveOptionDown(t.name,n)}}}):e._e()],1):e._e()],1),s("parameter-input-list",{attrs:{parameters:t.values,nodeValues:e.nodeValues,path:e.getPropertyPath(t.name,n),hideDelete:!0},on:{valueChanged:e.valueChanged}})],1)])})),0):s("div",{staticClass:"parameter-item"},[s("div",{staticClass:"parameter-item-wrapper"},[e.isReadOnly?e._e():s("div",{staticClass:"delete-option"},[s("font-awesome-icon",{staticClass:"reset-icon clickable",attrs:{icon:"trash",title:"Delete Item"},on:{click:function(s){return e.deleteOption(t.name)}}})],1),s("parameter-input-list",{staticClass:"parameter-item",attrs:{parameters:t.values,nodeValues:e.nodeValues,path:e.getPropertyPath(t.name),hideDelete:!0},on:{valueChanged:e.valueChanged}})],1)])])],1)})),e.parameterOptions.length>0&&!e.isReadOnly?s("div",[1===e.parameter.options.length?s("n8n-button",{attrs:{fullWidth:"",label:e.getPlaceholderText},on:{click:function(t){return e.optionSelected(e.parameter.options[0].name)}}}):s("div",{staticClass:"add-option"},[s("n8n-select",{attrs:{placeholder:e.getPlaceholderText,size:"small",filterable:""},on:{change:e.optionSelected},model:{value:e.selectedOption,callback:function(t){e.selectedOption=t},expression:"selectedOption"}},e._l(e.parameterOptions,(function(e){return s("n8n-option",{key:e.name,attrs:{label:e.displayName,value:e.name}})})),1)],1)],1):e._e()],2)},n=[],i=s("9ec3"),a=s("4971"),r=s("aaf5"),l=Object(r["a"])(a["a"]).extend({name:"FixedCollectionParameter",props:["nodeValues","parameter","path","values"],data(){return{selectedOption:void 0}},computed:{getPlaceholderText(){return this.parameter.placeholder?this.parameter.placeholder:"Choose Option To Add"},getProperties(){const e=[];let t;for(const s of this.propertyNames)t=this.getOptionProperties(s),void 0!==t&&e.push(t);return e},multipleValues(){return void 0!==this.parameter.typeOptions&&!0===this.parameter.typeOptions.multipleValues},parameterOptions(){return!0===this.multipleValues?this.parameter.options:this.parameter.options.filter(e=>!this.propertyNames.includes(e.name))},propertyNames(){return this.values?Object.keys(this.values):[]},sortable(){return this.parameter.typeOptions&&this.parameter.typeOptions.sortable}},methods:{deleteOption(e,t){const s={name:this.getPropertyPath(e,t),value:void 0};this.$emit("valueChanged",s)},getPropertyPath(e,t){return`${this.path}.${e}`+(void 0!==t?`[${t}]`:"")},getOptionProperties(e){for(const t of this.parameter.options)if(t.name===e)return t},moveOptionDown(e,t){this.values[e].splice(t+1,0,this.values[e].splice(t,1)[0]);const s={name:this.getPropertyPath(e),value:this.values[e]};this.$emit("valueChanged",s)},moveOptionUp(e,t){this.values[e].splice(t-1,0,this.values[e].splice(t,1)[0]);const s={name:this.getPropertyPath(e),value:this.values[e]};this.$emit("valueChanged",s)},optionSelected(e){const t=this.getOptionProperties(e);if(void 0===t)return;const s=`${this.path}.${t.name}`;let o;const n={};for(const r of t.values)"fixedCollection"===r.type&&void 0!==r.typeOptions&&!0===r.typeOptions.multipleValues?n[r.name]={}:void 0!==r.typeOptions&&!0===r.typeOptions.multipleValues?(n[r.name]=Object(i["get"])(this.nodeValues,`${this.path}.${r.name}`,[]),Array.isArray(r.default)?n[r.name].push(...JSON.parse(JSON.stringify(r.default))):""!==r.default&&"object"!==typeof r.default&&n[r.name].push(JSON.parse(JSON.stringify(r.default)))):n[r.name]=JSON.parse(JSON.stringify(r.default));let a;!0===this.multipleValues?(a=Object(i["get"])(this.nodeValues,s,[]),a.push(n)):a=n,o={name:s,value:a},this.$emit("valueChanged",o),this.selectedOption=void 0},valueChanged(e){this.$emit("valueChanged",e)}},beforeCreate:function(){this.$options.components.ParameterInputList=s("3c38").default}}),d=l,c=(s("595c"),s("2be6")),u=Object(c["a"])(d,o,n,!1,null,"165c8967",null);t["default"]=u.exports},fe4f:function(e,t,s){}});
//# sourceMappingURL=app.0103cbfc.js.map