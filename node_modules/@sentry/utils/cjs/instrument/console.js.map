{"version":3,"file":"console.js","sources":["../../../src/instrument/console.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable @typescript-eslint/ban-types */\nimport type { ConsoleLevel, HandlerDataConsole } from '@sentry/types';\n\nimport { CONSOLE_LEVELS, originalConsoleMethods } from '../logger';\nimport { fill } from '../object';\nimport { GLOBAL_OBJ } from '../worldwide';\nimport { addHandler, maybeInstrument, triggerHandlers } from './_handlers';\n\n/**\n * Add an instrumentation handler for when a console.xxx method is called.\n *\n * Use at your own risk, this might break without changelog notice, only used internally.\n * @hidden\n */\nexport function addConsoleInstrumentationHandler(handler: (data: HandlerDataConsole) => void): void {\n  const type = 'console';\n  addHandler(type, handler);\n  maybeInstrument(type, instrumentConsole);\n}\n\nfunction instrumentConsole(): void {\n  if (!('console' in GLOBAL_OBJ)) {\n    return;\n  }\n\n  CONSOLE_LEVELS.forEach(function (level: ConsoleLevel): void {\n    if (!(level in GLOBAL_OBJ.console)) {\n      return;\n    }\n\n    fill(GLOBAL_OBJ.console, level, function (originalConsoleMethod: () => any): Function {\n      originalConsoleMethods[level] = originalConsoleMethod;\n\n      return function (...args: any[]): void {\n        const handlerData: HandlerDataConsole = { args, level };\n        triggerHandlers('console', handlerData);\n\n        const log = originalConsoleMethods[level];\n        log && log.apply(GLOBAL_OBJ.console, args);\n      };\n    });\n  });\n}\n"],"names":["addHandler","maybeInstrument","GLOBAL_OBJ","CONSOLE_LEVELS","fill","originalConsoleMethods","triggerHandlers"],"mappings":";;;;;;;AASA;AACA;AACA;AACA;AACA;AACA;AACA,SAAA,gCAAA,CAAA,OAAA,EAAA;AACA,EAAA,MAAA,IAAA,GAAA,SAAA,CAAA;AACA,EAAAA,oBAAA,CAAA,IAAA,EAAA,OAAA,CAAA,CAAA;AACA,EAAAC,yBAAA,CAAA,IAAA,EAAA,iBAAA,CAAA,CAAA;AACA,CAAA;AACA;AACA,SAAA,iBAAA,GAAA;AACA,EAAA,IAAA,EAAA,SAAA,IAAAC,oBAAA,CAAA,EAAA;AACA,IAAA,OAAA;AACA,GAAA;AACA;AACA,EAAAC,qBAAA,CAAA,OAAA,CAAA,UAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA,KAAA,IAAAD,oBAAA,CAAA,OAAA,CAAA,EAAA;AACA,MAAA,OAAA;AACA,KAAA;AACA;AACA,IAAAE,WAAA,CAAAF,oBAAA,CAAA,OAAA,EAAA,KAAA,EAAA,UAAA,qBAAA,EAAA;AACA,MAAAG,6BAAA,CAAA,KAAA,CAAA,GAAA,qBAAA,CAAA;AACA;AACA,MAAA,OAAA,UAAA,GAAA,IAAA,EAAA;AACA,QAAA,MAAA,WAAA,GAAA,EAAA,IAAA,EAAA,KAAA,EAAA,CAAA;AACA,QAAAC,yBAAA,CAAA,SAAA,EAAA,WAAA,CAAA,CAAA;AACA;AACA,QAAA,MAAA,GAAA,GAAAD,6BAAA,CAAA,KAAA,CAAA,CAAA;AACA,QAAA,GAAA,IAAA,GAAA,CAAA,KAAA,CAAAH,oBAAA,CAAA,OAAA,EAAA,IAAA,CAAA,CAAA;AACA,OAAA,CAAA;AACA,KAAA,CAAA,CAAA;AACA,GAAA,CAAA,CAAA;AACA;;;;"}